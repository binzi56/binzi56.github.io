<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ç«ã®ç‰</title>
  <subtitle>Just an iOS learner</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://binzi56.github.io/"/>
  <updated>2018-08-21T13:05:05.408Z</updated>
  <id>https://binzi56.github.io/</id>
  
  <author>
    <name>ç«ã®ç‰</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Xcodeæ·»åŠ å­å·¥ç¨‹åŠå…¶ç¯å¢ƒé…ç½®</title>
    <link href="https://binzi56.github.io/2018/03/25/iOS-create-subProject/"/>
    <id>https://binzi56.github.io/2018/03/25/iOS-create-subProject/</id>
    <published>2018-03-25T08:57:51.000Z</published>
    <updated>2018-08-21T13:05:05.408Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘é¡¹ç›®æ”¶åˆ°ä¸€ä¸ªæ–°éœ€æ±‚ï¼Œéœ€è¦æ·»åŠ å­å·¥ç¨‹åˆ†è§£é¡¹ç›®ä¸€éƒ¨åˆ†åŠŸèƒ½ï¼ŒğŸ‘‡å°†å­¦åˆ°çš„ä¸€äº›ä¸œè¥¿åˆ†äº«ä¸‹ï¼›<br>ç¤ºä¾‹ï¼š<br><strong>ä¸»å·¥ç¨‹ï¼ˆAddSubProjectDemoï¼‰</strong><br><strong>å­å·¥ç¨‹ï¼ˆsubProjectï¼‰</strong></p>
<a id="more"></a>
<h5 id="1-åˆ›å»ºä¸»å·¥ç¨‹ï¼ˆAddSubProjectDemoï¼‰ä»¥åŠå­å·¥ç¨‹ï¼ˆsubProjectï¼‰"><a href="#1-åˆ›å»ºä¸»å·¥ç¨‹ï¼ˆAddSubProjectDemoï¼‰ä»¥åŠå­å·¥ç¨‹ï¼ˆsubProjectï¼‰" class="headerlink" title="1. åˆ›å»ºä¸»å·¥ç¨‹ï¼ˆAddSubProjectDemoï¼‰ä»¥åŠå­å·¥ç¨‹ï¼ˆsubProjectï¼‰"></a>1. åˆ›å»ºä¸»å·¥ç¨‹ï¼ˆAddSubProjectDemoï¼‰ä»¥åŠå­å·¥ç¨‹ï¼ˆsubProjectï¼‰</h5><p>è¿™é‡Œæ³¨æ„ä¸€ä¸‹å­å·¥ç¨‹åˆ›å»ºçš„æ—¶å€™æ˜¯<code>Cocoa Static Library</code>ï¼›<br><img src="https://upload-images.jianshu.io/upload_images/1893416-f08eeb84f4afcd77.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å­å·¥ç¨‹åˆ›å»ºç¤ºä¾‹å›¾"><br>ä¸¤ä¸ªå·¥ç¨‹åˆ›å»ºå®Œæ¯•å¦‚å›¾ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/1893416-92bb75b82d22ca60.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h5 id="2-æ·»åŠ å­å·¥ç¨‹åŠå…¶ä¾èµ–"><a href="#2-æ·»åŠ å­å·¥ç¨‹åŠå…¶ä¾èµ–" class="headerlink" title="2.æ·»åŠ å­å·¥ç¨‹åŠå…¶ä¾èµ–"></a>2.æ·»åŠ å­å·¥ç¨‹åŠå…¶ä¾èµ–</h5><h6 id="2-1-å­å·¥ç¨‹æ‹–è¿›ä¸»å·¥ç¨‹æ–‡ä»¶ç›®å½•ä¸­ï¼š"><a href="#2-1-å­å·¥ç¨‹æ‹–è¿›ä¸»å·¥ç¨‹æ–‡ä»¶ç›®å½•ä¸­ï¼š" class="headerlink" title="2.1 å­å·¥ç¨‹æ‹–è¿›ä¸»å·¥ç¨‹æ–‡ä»¶ç›®å½•ä¸­ï¼š"></a>2.1 å­å·¥ç¨‹æ‹–è¿›ä¸»å·¥ç¨‹æ–‡ä»¶ç›®å½•ä¸­ï¼š</h6><p><img src="https://upload-images.jianshu.io/upload_images/1893416-171dd213a7b49ac8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h6 id="2-2-æ‰“å¼€ä¸»å·¥ç¨‹æ·»åŠ å­å·¥ç¨‹"><a href="#2-2-æ‰“å¼€ä¸»å·¥ç¨‹æ·»åŠ å­å·¥ç¨‹" class="headerlink" title="2.2 æ‰“å¼€ä¸»å·¥ç¨‹æ·»åŠ å­å·¥ç¨‹"></a>2.2 æ‰“å¼€ä¸»å·¥ç¨‹æ·»åŠ å­å·¥ç¨‹</h6><p>è¿™é‡Œå¯ä»¥é€‰æ‹©Dragæˆ–Add File to â€œAddSubProjectDemoâ€,ç»“æŸåå¦‚å›¾ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/1893416-6b027e77b4aa1c80.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h6 id="2-3-åœ¨ä¸»å·¥ç¨‹ä¸­æ·»åŠ å­å·¥ç¨‹ä¾èµ–ï¼ˆ-aæ–‡ä»¶ï¼‰"><a href="#2-3-åœ¨ä¸»å·¥ç¨‹ä¸­æ·»åŠ å­å·¥ç¨‹ä¾èµ–ï¼ˆ-aæ–‡ä»¶ï¼‰" class="headerlink" title="2.3 åœ¨ä¸»å·¥ç¨‹ä¸­æ·»åŠ å­å·¥ç¨‹ä¾èµ–ï¼ˆ.aæ–‡ä»¶ï¼‰"></a>2.3 åœ¨ä¸»å·¥ç¨‹ä¸­æ·»åŠ å­å·¥ç¨‹ä¾èµ–ï¼ˆ.aæ–‡ä»¶ï¼‰</h6><p>åœ¨å·¥ç¨‹<code>target -&gt; Build Phases -&gt; Link Binary With Libraries</code>ä¸­æ·»åŠ <code>libsubProject.a</code><br><img src="https://upload-images.jianshu.io/upload_images/1893416-5746395f0e7daa00.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h6 id="2-4-åœ¨ä¸»å·¥ç¨‹ä¸­æ·»åŠ å­å·¥ç¨‹å¤´æ–‡ä»¶"><a href="#2-4-åœ¨ä¸»å·¥ç¨‹ä¸­æ·»åŠ å­å·¥ç¨‹å¤´æ–‡ä»¶" class="headerlink" title="2.4 åœ¨ä¸»å·¥ç¨‹ä¸­æ·»åŠ å­å·¥ç¨‹å¤´æ–‡ä»¶"></a>2.4 åœ¨ä¸»å·¥ç¨‹ä¸­æ·»åŠ å­å·¥ç¨‹å¤´æ–‡ä»¶</h6><p>åœ¨å·¥ç¨‹<code>target -&gt; Build Settings -&gt; Search Paths -&gt; Header Search Paths</code>ä¸­åŠ å…¥å­æ–‡ä»¶ç›®å½•ï¼›<br><img src="https://upload-images.jianshu.io/upload_images/1893416-63f2ac7d48b54fb7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<blockquote>
<p>å…³äº<code>Header Search Paths</code>è¿™é‡Œè¯´æ˜ä¸€ä¸‹ï¼š</p>
<ol>
<li><code>$(inherited)</code><br>targetåœ¨è®¾ç½®è‡ªå·±è·¯å¾„çš„æ—¶å€™å¦‚æœåŠ äº†è¿™ä¸ªï¼Œé‚£ä¹ˆå°±æ˜¯ç»§æ‰¿projecté‡Œè®¾ç½®çš„è·¯å¾„ã€‚å¦‚æœä¸éœ€è¦ç»§æ‰¿å°±ä¸åŠ ï¼Œè¦ä¸ç„¶ä¹±åŠ æœ‰å¯èƒ½æ•´æ··å¯¼è‡´è·¯å¾„é”™è¯¯ã€‚</li>
<li>å¸¦å¼•å·çš„è·¯å¾„å’Œä¸å¸¦å¼•å·çš„è·¯å¾„<br>å¸¦å¼•å·ä¸»è¦æ˜¯é¢„é˜²è·¯å¾„é‡Œæœ‰ç©ºæ ¼å¯¼è‡´æœ¬æ¥ä¸€ä¸ªè·¯å¾„å˜æˆäº†ä¸¤ä¸ªè·¯å¾„ï¼Œå› ä¸ºç©ºæ ¼åˆ†å¼€å°±è¢«è§£æä½ä¸¤ä¸ªè·¯å¾„ï¼Œæ‰€ä»¥æœ€å¥½è·¯å¾„å¸¦ä¸Šå¼•å·ã€‚</li>
<li><code>$(SRCROOT) / $(PROJECT_DIR)</code>åŸºæœ¬æ²¡å•¥åŒºåˆ«ï¼Œéƒ½æ˜¯æŒ‡å‘<code>*.xcodeproj</code>æ‰€åœ¨çš„è·¯å¾„</li>
<li><code>recursive</code>éå†è¯¥ç›®å½•ï¼Œ<code>non-recursive</code>é»˜è®¤è·¯å¾„è®¾ç½®ï¼›ä¸éå†è¯¥ç›®å½•ã€‚</li>
</ol>
</blockquote>
<p>å·¥ç¨‹ç¯å¢ƒé…ç½®å¥½åï¼Œæœ¬ä¾‹åœ¨å­å·¥ç¨‹åŠ äº†ä¸€ä¸ªç±»æ–¹æ³•æ‰“å°ï¼Œä¸»å·¥ç¨‹å›è°ƒï¼Œæœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/1893416-bc5eddf194b72e94.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>é™„ä¸Šdemoå·¥ç¨‹ï¼š<br><a href="https://github.com/binzi56/AddSubProjectDemo.git" target="_blank" rel="external">demoä¸‹è½½</a></p>
<p>å‚è€ƒæ–‡ç« ï¼š<br><a href="https://www.jianshu.com/p/f2bc7d155a86" target="_blank" rel="external">Xcodeåˆ›å»ºå­å·¥ç¨‹ä»¥åŠå·¥ç¨‹ä¾èµ–</a><br><a href="https://www.jianshu.com/p/9f9c1fd2e8b5" target="_blank" rel="external">Xcode Search Pathsç›¸å…³é…ç½®</a><br><a href="https://blog.csdn.net/ylwdi/article/details/26259207" target="_blank" rel="external">Xcodeç¯å¢ƒè®¾ç½®</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘é¡¹ç›®æ”¶åˆ°ä¸€ä¸ªæ–°éœ€æ±‚ï¼Œéœ€è¦æ·»åŠ å­å·¥ç¨‹åˆ†è§£é¡¹ç›®ä¸€éƒ¨åˆ†åŠŸèƒ½ï¼ŒğŸ‘‡å°†å­¦åˆ°çš„ä¸€äº›ä¸œè¥¿åˆ†äº«ä¸‹ï¼›&lt;br&gt;ç¤ºä¾‹ï¼š&lt;br&gt;&lt;strong&gt;ä¸»å·¥ç¨‹ï¼ˆAddSubProjectDemoï¼‰&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;å­å·¥ç¨‹ï¼ˆsubProjectï¼‰&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://binzi56.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://binzi56.github.io/tags/iOS/"/>
    
      <category term="objective-c" scheme="https://binzi56.github.io/tags/objective-c/"/>
    
      <category term="Xcode" scheme="https://binzi56.github.io/tags/Xcode/"/>
    
  </entry>
  
  <entry>
    <title>iOSåˆ¶ä½œç”µå­ç­¾ç« </title>
    <link href="https://binzi56.github.io/2017/12/16/iOS-electronic-signature/"/>
    <id>https://binzi56.github.io/2017/12/16/iOS-electronic-signature/</id>
    <published>2017-12-16T08:57:51.000Z</published>
    <updated>2017-12-20T12:24:13.946Z</updated>
    
    <content type="html"><![CDATA[<p>åƒæ™šé¥­çš„æ—¶å€™, æœ‹å‹å‘äº†ä¸€ç»„å›¾ç‰‡è¿‡æ¥, è®©æˆ‘æŠ ä¸ªå›¾; å¯¹, æ²¡å¬é”™, çŸ¥é“æˆ‘æ˜¯ç¨‹åºçŒ¿, æ‰€ä»¥è®©æˆ‘æŠ ä¸ªå›¾;<br><img src="http://upload-images.jianshu.io/upload_images/1893416-468ef184ce3e1947.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>æŠ å›¾è¿™ä¸ªè¯´æ³•, UIè®¾è®¡å¸ˆä»¬éƒ½æ¥å—ä¸äº†; èº«ä¸ºç¨‹åºçŒ¿å½“ç„¶è¦æ›´é«˜é›…ä¸€äº›, èƒ½æ•²ä»£ç çš„å°±ç»ä¸æŠ å›¾;<br><img src="http://upload-images.jianshu.io/upload_images/1893416-84dede82b6ccab5a.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<a id="more"></a>
<p>å¥½äº†, è¿›å…¥æ­£é¢˜; å…¶å®åˆ†æä¸€ä¸‹, éœ€æ±‚ä¹Ÿæ¯”è¾ƒç®€å•, å°±æ˜¯æŠŠå›¾ç‰‡ä¸­çš„ç™½è‰²æˆ–è€…æ¥è¿‘ç™½è‰²çš„èƒŒæ™¯æ¢ä¸ºé€æ˜, é»‘è‰²ç­¾åéœ²å‡ºæ¥; ä¸‹é¢æ˜¯å›¾ç‰‡å¤„ç†å‰:<br><img src="http://upload-images.jianshu.io/upload_images/1893416-207a3d2599590cea.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>é¦–å…ˆè¯´ä¸€ä¸‹è¿”å›åŸå§‹å›¾ç‰‡æ–‡å­—, ä»£ç å¦‚ä¸‹:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">//è¿”å›åŸå§‹å›¾åƒ(å°†å›¾ç‰‡çš„èƒŒæ™¯ç½®ä¸ºé€æ˜)</div><div class="line">- (UIImage *)returnOrginImage:(UIImage *)sourceImage</div><div class="line">&#123;</div><div class="line">    //åˆ†é…å†…å­˜</div><div class="line">    const int imageWidth = sourceImage.size.width;</div><div class="line">    const int imageHeight = sourceImage.size.height;</div><div class="line">    size_t bytesPerRow = imageWidth * 4;</div><div class="line">    uint32_t* rgbImageBuf = (uint32_t*)malloc(bytesPerRow * imageHeight);</div><div class="line"></div><div class="line">    //åˆ›å»ºcontext</div><div class="line">    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceRGB();</div><div class="line">    CGContextRef context = CGBitmapContextCreate(rgbImageBuf, imageWidth, imageHeight, 8, bytesPerRow, colorSpace,kCGBitmapByteOrder32Little | kCGImageAlphaNoneSkipLast);</div><div class="line">    CGContextDrawImage(context, CGRectMake(0, 0, imageWidth, imageHeight), sourceImage.CGImage);</div><div class="line"></div><div class="line">    //éå†åƒç´ </div><div class="line">    int pixelNum = imageWidth * imageHeight;</div><div class="line">    uint32_t* pCurPtr = rgbImageBuf;</div><div class="line">    for (int i = 0; i &lt; pixelNum; i++, pCurPtr++)&#123;</div><div class="line">        //æ¥è¿‘ç™½è‰²</div><div class="line">        //å°†åƒç´ ç‚¹è½¬æˆå­èŠ‚æ•°ç»„æ¥è¡¨ç¤º---RGBA</div><div class="line">        //ptr[0]:é€æ˜åº¦,ptr[1]:R,ptr[2]:G,ptr[3]:B</div><div class="line"></div><div class="line">        //åˆ†åˆ«å–å‡ºRGBå€¼åã€‚è¿›è¡Œåˆ¤æ–­éœ€ä¸éœ€è¦è®¾æˆé€æ˜</div><div class="line">        uint8_t* ptr = (uint8_t*)pCurPtr;</div><div class="line">        if (ptr[1] &gt; 140 &amp;&amp; ptr[2] &gt; 140 &amp;&amp; ptr[3] &gt; 140) &#123;</div><div class="line">            //å½“RGBå€¼éƒ½å¤§äº140åˆ™æ¯”è¾ƒæ¥è¿‘ç™½è‰²çš„éƒ½å°†é€æ˜åº¦è®¾ä¸º0</div><div class="line">            //demoä¸­çš„å›¾ç‰‡æœ‰ç‚¹ç°, æ‰€ä»¥è®¾ç½®äº†140, å¯ä»¥æ ¹æ®éœ€è¦è‡ªè¡Œè®¾ç½®</div><div class="line">            ptr[0] = 0;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    //å°†å†…å­˜è½¬æˆimage</div><div class="line">    CGDataProviderRef dataProvider =CGDataProviderCreateWithData(NULL, rgbImageBuf, bytesPerRow * imageHeight, nil);</div><div class="line">    CGImageRef imageRef = CGImageCreate(imageWidth, imageHeight,8, 32, bytesPerRow, colorSpace,kCGImageAlphaLast |kCGBitmapByteOrder32Little, dataProvider,NULL, true,kCGRenderingIntentDefault);</div><div class="line">    CGDataProviderRelease(dataProvider);</div><div class="line"></div><div class="line">    UIImage *resultUIImage = [UIImage imageWithCGImage:imageRef];</div><div class="line"></div><div class="line">    //é‡Šæ”¾</div><div class="line">    CGImageRelease(imageRef);</div><div class="line">    CGContextRelease(context);</div><div class="line">    CGColorSpaceRelease(colorSpace);</div><div class="line">    return resultUIImage;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å‚æ•°bytesPerRowä»£è¡¨è¢«æ¸²æŸ“å†…å­˜åŒºåŸŸä¸­æ¯è¡Œæ‰€å å­—èŠ‚, å…¶ä¸­4ä»£è¡¨æ¯ä¸ªåƒç´ ç‚¹RGBAæ‰€å çš„å­—èŠ‚, ä¹‹åä¹˜ä»¥<code>imageHeight</code>å¾—åˆ°æ‰€å å†…å­˜ç©ºé—´;<code>colorspace</code>ç”¨äºè¢«æ¸²æŸ“å†…å­˜åŒºåŸŸçš„é¢œè‰²;æœ€å…³é”®çš„ä»£ç å°±æ˜¯å°†RGBå€¼ä¸ºç™½è‰²æˆ–è¶‹è¿‘ä¸ç™½è‰²çš„é€æ˜åº¦è®¾ä¸º0;æˆ‘è¿™é‡Œå–äº†140æ˜¯å› ä¸ºè¿™å¼ å›¾ç‰‡èƒŒæ™¯æœ‰ç‚¹ç°, å¤§å®¶å¯ä»¥è‡ªè¡Œè®¾ç½®;<br>æ•ˆæœå¦‚ä¸‹:<br><img src="http://upload-images.jianshu.io/upload_images/1893416-b66dea0ad03274d6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="åŸå›¾å›¾åƒ"></p>
<p>çœ‹å¾—å‡ºæ–‡å­—æœ‰ç‚¹æ¨¡ç³Š, è¿™æ˜¯å› ä¸ºå¤„ç†è¿‡ç¨‹æ˜¯å¯¹æ¯ä¸€ä¸ªåƒç´ ç›´æ¥è®¾ç½®ä¸ºé€æ˜,  å›¾ç‰‡å¹¶ä¸æ˜¯åªæœ‰é»‘ç™½ä¸¤ä¸ªé¢œè‰², æ‰€ä»¥æ–‡å­—å‘¨è¾¹çš„åŒºåŸŸå°±ä¼šå˜æš—äº†, å†åŠ ä¸ŠåŸå›¾ç»™çš„ä¹Ÿä¸æ˜¯å¾ˆæ¸…æ™°, é‚£åº”è¯¥æ€ä¹ˆå¤„ç†å‘¢?<br>è¿™é‡Œæ¶‰åŠåˆ°ç°åº¦å›¾, ä»£ç å¦‚ä¸‹:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">//è¿”å›ç°åº¦å›¾åƒ</div><div class="line">-(UIImage*)returnGrayImage:(UIImage*)sourceImage&#123;</div><div class="line">    int width = sourceImage.size.width;</div><div class="line">    int height = sourceImage.size.height;</div><div class="line"></div><div class="line">    CGColorSpaceRef colorSpace = CGColorSpaceCreateDeviceGray();</div><div class="line">    CGContextRef context = CGBitmapContextCreate (nil,width,height,8,0,colorSpace,kCGImageAlphaNone);</div><div class="line">    CGColorSpaceRelease(colorSpace);</div><div class="line"></div><div class="line">    if (context == NULL) &#123;</div><div class="line">        return nil;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    CGContextDrawImage(context,CGRectMake(0, 0, width, height), sourceImage.CGImage);</div><div class="line">    UIImage *grayImage = [UIImage imageWithCGImage:CGBitmapContextCreateImage(context)];</div><div class="line">    CGContextRelease(context);</div><div class="line"></div><div class="line">    return grayImage;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>æ•ˆæœå›¾:<br><img src="http://upload-images.jianshu.io/upload_images/1893416-9d562934957373b1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç°åº¦å›¾"></p>
<p>è¯´åˆ°ç°åº¦å›¾, å°±ä¸å¾—ä¸æä¸€ä¸ªå¾ˆè‘—åçš„å½©è‰²è½¬ç°åº¦çš„å¿ƒç†å­¦å…¬å¼ï¼š<br><code>Gray = R*0.299 + G*0.587 + B*0.114</code></p>
<blockquote>
<p>ç®—æ³•å¤„ç†å¦‚ä¸‹:<br>a.      é¦–å…ˆå°†å½©è‰²å›¾åƒè½¬æ¢ä¸ºç°åº¦å›¾åƒ<br>b.      è®¡ç®—ç°åº¦å›¾åƒçš„ç®—æœ¯å¹³å‡å€¼M<br>c.      ä»¥Mä¸ºé˜ˆå€¼ï¼Œå®Œæˆå¯¹ç°åº¦å›¾äºŒå€¼åŒ–( å¤§äºé˜ˆå€¼M,åƒç´ ç‚¹èµ‹å€¼ä¸ºç™½è‰²ï¼Œå¦åˆ™èµ‹å€¼ä¸ºé»‘<br>è‰²)</p>
</blockquote>
<p>ä¸Šé¢çš„ä»£ç è¿˜çœ‹ä¸å‡ºæ¥, åº”è¯¥æ˜¯æ–¹æ³•å†…éƒ¨åšäº†å¤„ç†, å’±ä»¬æ¥çœ‹ğŸ‘‡ä¸‹é¢çš„:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">for (size_t i = 0; i &lt; height; i++) &#123;</div><div class="line">       for (size_t j = 0; j &lt; width; j++)&#123;</div><div class="line">           // è®¾ç½®æ¯ä¸ªåƒç´ çš„rgbaå€¼</div><div class="line">           size_t pixelIndex = i * width * 4 + j * 4;</div><div class="line">           unsigned char red   = data[pixelIndex];</div><div class="line">           unsigned char green = data[pixelIndex + 1];</div><div class="line">           unsigned char blue  = data[pixelIndex + 2];</div><div class="line"></div><div class="line">           //å–ç°åº¦å€¼</div><div class="line">           unsigned char gray = 0.299 * red + 0.587 * green + 0.114 * blue;</div><div class="line">           data[pixelIndex]     = gray;    // r</div><div class="line">           data[pixelIndex + 1] = gray;    // g</div><div class="line">           data[pixelIndex + 2] = gray;    // b</div><div class="line">       &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p>
<p>é™„:<br><a href="http://en.wikipedia.org/wiki/Grayscale#Converting_color_to_grayscale" target="_blank" rel="external">ç»´åŸºç°åº¦ç®—æ³•</a></p>
<p>å¤„ç†æˆç°åº¦å›¾ååŸºæœ¬åªå‰©ä¸‹é»‘ç™½ä¸¤ç§é¢œè‰²; ä¸ºäº†å¯»æ±‚æœ€ä¼˜è§£, æˆ‘ä»¬å†æŠŠå±å¹•ä¸­ç™½è‰²å˜é€æ˜, é»‘è‰²åŠ æ·±, å°±å¾—åˆ°æ‰€è°“çš„é«˜ä¿çœŸæ•ˆæœäº†;<br>ä»£ç å¦‚ä¸‹:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">//è¿”å›é«˜ä¿çœŸå›¾åƒ(åªè¿”å›é»‘ç™½ä¸¤ç§é¢œè‰²)</div><div class="line">- (UIImage *)returnHightQualityImage:(UIImage *)sourceImage&#123;</div><div class="line">    NSData *imageData = UIImagePNGRepresentation(sourceImage);</div><div class="line"></div><div class="line">    CGImageSourceRef sourceRef = CGImageSourceCreateWithData((CFDataRef)imageData, NULL);</div><div class="line">    CGImageRef imageRef = CGImageSourceCreateImageAtIndex(sourceRef, 0, NULL);</div><div class="line"></div><div class="line">    size_t width = CGImageGetWidth(imageRef);</div><div class="line">    size_t height = CGImageGetHeight(imageRef);</div><div class="line"></div><div class="line">    unsigned char *data = calloc(width * height * 4, sizeof(unsigned char)); // å–å›¾ç‰‡é¦–åœ°å€</div><div class="line">    size_t bitsPerComponent = 8; // r g b a æ¯ä¸ªcomponent bitsæ•°ç›®</div><div class="line">    size_t bytesPerRow = width * 4; // ä¸€å¼ å›¾ç‰‡æ¯è¡Œå­—èŠ‚æ•°ç›® (æ¯ä¸ªåƒç´ ç‚¹åŒ…å«r g b a å››ä¸ªå­—èŠ‚)</div><div class="line">    CGColorSpaceRef space = CGColorSpaceCreateDeviceRGB(); // åˆ›å»ºrgbé¢œè‰²ç©ºé—´</div><div class="line"></div><div class="line">    CGContextRef context = CGBitmapContextCreate(data, width, height, bitsPerComponent, bytesPerRow, space, kCGImageAlphaPremultipliedLast | kCGBitmapByteOrder32Big);</div><div class="line">    CGContextDrawImage(context, CGRectMake(0, 0, width, height), imageRef);</div><div class="line"></div><div class="line">    for (size_t i = 0; i &lt; height; i++)</div><div class="line">    &#123;</div><div class="line">        for (size_t j = 0; j &lt; width; j++)</div><div class="line">        &#123;</div><div class="line">            // è®¾ç½®æ¯ä¸ªåƒç´ çš„rgbaå€¼</div><div class="line">            size_t pixelIndex = i * width * 4 + j * 4;</div><div class="line"></div><div class="line">            unsigned char red   = data[pixelIndex];</div><div class="line">            unsigned char green = data[pixelIndex + 1];</div><div class="line">            unsigned char blue  = data[pixelIndex + 2];</div><div class="line"></div><div class="line">            //å–ç°åº¦å€¼</div><div class="line">            unsigned char gray = 0.299 * red + 0.587 * green + 0.114 * blue;</div><div class="line">            gray = gray &gt; 150 ? 255 : 0;</div><div class="line">            data[pixelIndex]     = gray;    // r</div><div class="line">            data[pixelIndex + 1] = gray;    // g</div><div class="line">            data[pixelIndex + 2] = gray;    // b</div><div class="line">            data[pixelIndex + 3] = gray == 255 ? 0 : 255;    // a (255 ä»£è¡¨é€æ˜)</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    CGImageRef newImage = CGBitmapContextCreateImage(context);</div><div class="line">    UIImage *image = [[UIImage alloc] initWithCGImage:newImage];</div><div class="line">    return image;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>æœ€ç»ˆæ•ˆæœå›¾:<br><img src="http://upload-images.jianshu.io/upload_images/1893416-2ed17a648b9b1d31.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="é«˜ä¿çœŸ"></p>
<p>æœ€åé™„ä¸Šgithubåœ°å€;<br><a href="https://github.com/binzi56/ChangeBgColorDemo" target="_blank" rel="external">demoä¸‹è½½</a></p>
<blockquote>
<p><strong>æ‰©å±•</strong><br><a href="https://zhuanlan.zhihu.com/p/30745861" target="_blank" rel="external">ç”¨ C è¯­è¨€ç”»å…‰â€“Milo Yip</a><br><img src="http://upload-images.jianshu.io/upload_images/1893416-fa2327db028f4a1e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ•ˆæœå›¾"></p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åƒæ™šé¥­çš„æ—¶å€™, æœ‹å‹å‘äº†ä¸€ç»„å›¾ç‰‡è¿‡æ¥, è®©æˆ‘æŠ ä¸ªå›¾; å¯¹, æ²¡å¬é”™, çŸ¥é“æˆ‘æ˜¯ç¨‹åºçŒ¿, æ‰€ä»¥è®©æˆ‘æŠ ä¸ªå›¾;&lt;br&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1893416-468ef184ce3e1947.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;æŠ å›¾è¿™ä¸ªè¯´æ³•, UIè®¾è®¡å¸ˆä»¬éƒ½æ¥å—ä¸äº†; èº«ä¸ºç¨‹åºçŒ¿å½“ç„¶è¦æ›´é«˜é›…ä¸€äº›, èƒ½æ•²ä»£ç çš„å°±ç»ä¸æŠ å›¾;&lt;br&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1893416-84dede82b6ccab5a.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://binzi56.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://binzi56.github.io/tags/iOS/"/>
    
      <category term="objective-c" scheme="https://binzi56.github.io/tags/objective-c/"/>
    
  </entry>
  
  <entry>
    <title>æºç å‰–æ--SVPullToRefresh</title>
    <link href="https://binzi56.github.io/2017/10/17/iOS-SVPullToRefresh/"/>
    <id>https://binzi56.github.io/2017/10/17/iOS-SVPullToRefresh/</id>
    <published>2017-10-16T16:29:17.000Z</published>
    <updated>2017-10-16T16:38:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>é˜…è¯»æºç ä¹‹è·¯ç»ˆäºå¼€å¯äº†, å°ç™½ä¸€æš, å¤§ç¥ä»¬è¦å¤šå¤šç…§é¡¾å•Š, æœ‰ä»€ä¹ˆå»ºè®®å¯ä»¥è¯„è®ºæˆ–ç§ä¿¡, åœ¨æ­¤å¤šè°¢äº†!!!!</p>
<hr>
<h2 id="æ¦‚è¦"><a href="#æ¦‚è¦" class="headerlink" title="æ¦‚è¦"></a>æ¦‚è¦</h2><p><img src="http://upload-images.jianshu.io/upload_images/1893416-e1f3d71f45bb56e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ–‡ä»¶ç»“æ„"></p>
<h5 id="æ–‡ç« ç›®å½•"><a href="#æ–‡ç« ç›®å½•" class="headerlink" title="æ–‡ç« ç›®å½•"></a>æ–‡ç« ç›®å½•</h5><ul>
<li>å‰è¨€</li>
<li>APIè¯´æ˜</li>
<li>åŸç†è§£æ</li>
<li>æ€»ç»“</li>
</ul>
<hr>
<h2 id="1-å‰è¨€"><a href="#1-å‰è¨€" class="headerlink" title="1.å‰è¨€"></a>1.å‰è¨€</h2><p>ä½œä¸ºä¸€ä¸ªåˆ·æ–°æ¡†æ¶, <a href="https://github.com/samvermette/SVPullToRefresh" target="_blank" rel="external">SVPullToRefresh</a>ä»¥å…¶ç®€æ´, é€šä¿—æ˜“æ‡‚ä¸ºå¤§å®¶æ‰€æ¨å´‡. å¯¹äºåˆšå¼€å§‹è¯»æºç çš„æˆ‘æ¥è¯´, å†åˆé€‚ä¸è¿‡äº†, è€Œä¸”æœ€è¿‘æ­£åœ¨åšä¸€ä¸ªåˆ·æ–°demo, ç”¨åˆ°, é¡ºä¾¿æ•´ç†ä¸€ä¸‹, å­¦ä¹ å­¦ä¹ .<br>SVæ˜¯ä¸ªç†Ÿæ‚‰çš„å‰ç¼€, å°±ç®—æ²¡å¬è¿‡<a href="https://github.com/samvermette/SVPullToRefresh" target="_blank" rel="external">SVPullToRefresh</a>, ä¹Ÿå¬è¿‡<a href="https://github.com/samvermette/SVProgressHUD" target="_blank" rel="external">SVProgressHUD</a>å§. é™¤äº†è¿™äº›, ä½œè€…<a href="http://samvermette.com" target="_blank" rel="external">Sam</a>è¿˜æœ‰å…¶ä»–ä¼˜ç§€çš„å¼€æºä»£ç , å¤§å®¶æ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹.</p>
<hr>
<a id="more"></a>
<h2 id="2-APIè¯´æ˜"><a href="#2-APIè¯´æ˜" class="headerlink" title="2.APIè¯´æ˜"></a>2.APIè¯´æ˜</h2><h4 id="2-1-ä¸‹æ‹‰åˆ·æ–°"><a href="#2-1-ä¸‹æ‹‰åˆ·æ–°" class="headerlink" title="2.1 ä¸‹æ‹‰åˆ·æ–°"></a>2.1 ä¸‹æ‹‰åˆ·æ–°</h4><p><strong>ä¸‹æ‹‰åˆ·æ–°ScrollView</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">@class SVPullToRefreshView;</div><div class="line">@interface UIScrollView (SVPullToRefresh)</div><div class="line"></div><div class="line">typedef NS_ENUM(NSUInteger, SVPullToRefreshPosition) &#123;</div><div class="line">    SVPullToRefreshPositionTop = 0,</div><div class="line">    SVPullToRefreshPositionBottom,</div><div class="line">&#125;;</div><div class="line"></div><div class="line">//é»˜è®¤æ·»åŠ æ–¹æ³•, positionä¸ºtop</div><div class="line">- (void)addPullToRefreshWithActionHandler:(void (^)(void))actionHandler;</div><div class="line"></div><div class="line">/*</div><div class="line">  è‡ªå®šä¹‰æ·»åŠ ä¸‹æ‹‰åˆ·æ–°çš„æ–¹æ³•, å¯ä»¥æ”¹å˜åˆ·æ–°æ–¹å¼;</div><div class="line">  topä¸ºä¸‹æ‹‰åˆ·æ–°, bottomä¸ºä¸Šæ‹‰åˆ·æ–°;</div><div class="line">*/</div><div class="line">- (void)addPullToRefreshWithActionHandler:(void (^)(void))actionHandler position:(SVPullToRefreshPosition)position;</div><div class="line"></div><div class="line">//è§¦å‘ä¸€æ¬¡åˆ·æ–°, ä¼šæ‰§è¡Œhandlerè¿™ä¸ªblocké‡Œé¢çš„æ–¹æ³•</div><div class="line">- (void)triggerPullToRefresh;</div><div class="line"></div><div class="line">//ä¸‹æ‹‰åˆ·æ–°è§†å›¾</div><div class="line">@property (nonatomic, strong, readonly) SVPullToRefreshView *pullToRefreshView;</div><div class="line"></div><div class="line">//æ˜¯å¦å±•ç¤ºä¸‹æ‹‰åˆ·æ–°è§†å›¾(é¡»åœ¨addPullToRefreshWithActionHandler:æ–¹æ³•åé¢)</div><div class="line">@property (nonatomic, assign) BOOL showsPullToRefresh;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure></p>
<p><strong>ä¸‹æ‹‰åˆ·æ–°View</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">//åªä¿ç•™å¯æ›´æ”¹é€‰é¡¹</div><div class="line"></div><div class="line">@interface SVPullToRefreshView : UIView</div><div class="line">//ä¸‹æ‹‰åˆ·æ–°ç®­å¤´é¢œè‰²</div><div class="line">@property (nonatomic, strong) UIColor *arrowColor;</div><div class="line">//æ–‡æœ¬é¢œè‰²</div><div class="line">@property (nonatomic, strong) UIColor *textColor;</div><div class="line">//æŒ‡ç¤ºå™¨viewé¢œè‰²</div><div class="line">@property (nonatomic, strong, readwrite) UIColor *activityIndicatorViewColor NS_AVAILABLE_IOS(5_0);</div><div class="line">//æŒ‡ç¤ºå™¨ç±»å‹</div><div class="line">@property (nonatomic, readwrite) UIActivityIndicatorViewStyle activityIndicatorViewStyle;</div><div class="line"></div><div class="line">//æ ¹æ®åˆ·æ–°çŠ¶æ€è®¾ç½®æ ‡é¢˜</div><div class="line">- (void)setTitle:(NSString *)title forState:(SVPullToRefreshState)state;</div><div class="line">//æ ¹æ®åˆ·æ–°çŠ¶æ€è®¾ç½®å‰¯æ ‡é¢˜</div><div class="line">- (void)setSubtitle:(NSString *)subtitle forState:(SVPullToRefreshState)state;</div><div class="line">//æ ¹æ®åˆ·æ–°çŠ¶æ€è®¾ç½®è‡ªå®šä¹‰View</div><div class="line">- (void)setCustomView:(UIView *)view forState:(SVPullToRefreshState)state;</div><div class="line"></div><div class="line">//å¼€å§‹åŠ¨ç”»</div><div class="line">- (void)startAnimating;</div><div class="line">//ç»“æŸåŠ¨ç”»</div><div class="line">- (void)stopAnimating;</div><div class="line"></div><div class="line">//æœ€åæ›´æ–°æ—¥æœŸ(NSDate)</div><div class="line">@property (nonatomic, strong) NSDate *lastUpdatedDate DEPRECATED_ATTRIBUTE;</div><div class="line">//æ—¥æœŸæ ¼å¼(NSDateFormatter)</div><div class="line">@property (nonatomic, strong) NSDateFormatter *dateFormatter DEPRECATED_ATTRIBUTE;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure></p>
<p>ğŸ‘‡æ˜¯æˆ‘è‡ªå·±æµ‹è¯•çš„, æŠŠæ‰€æœ‰å±æ€§ç©äº†ä¸€é, äº²æµ‹å¥½ç”¨, O(âˆ©_âˆ©)Oå“ˆå“ˆ~<br><img src="http://upload-images.jianshu.io/upload_images/1893416-fa4677ef411c6391.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¸‹æ‹‰æµ‹è¯•æ•ˆæœå›¾"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"> [self.tableView addPullToRefreshWithActionHandler:^&#123;</div><div class="line">       //ä¸‹æ‹‰åˆ·æ–°æ•°æ®</div><div class="line">    &#125;];</div><div class="line">    self.tableView.pullToRefreshView.backgroundColor = RedColor;</div><div class="line">    self.tableView.pullToRefreshView.arrowColor = [UIColor whiteColor];</div><div class="line">    self.tableView.pullToRefreshView.textColor = [UIColor whiteColor];</div><div class="line">    [self.tableView.pullToRefreshView setSubtitle:@&quot;ç«ä¹‹ç‰&quot; forState:SVInfiniteScrollingStateLoading];</div><div class="line">    [self.tableView.pullToRefreshView setTitle:@&quot;æ­£åœ¨åŠ è½½..waiting..&quot; forState:SVInfiniteScrollingStateLoading];</div><div class="line"></div><div class="line">    self.tableView.pullToRefreshView.activityIndicatorViewColor = BlueColor;</div><div class="line">    self.tableView.pullToRefreshView.activityIndicatorViewStyle = UIActivityIndicatorViewStyleWhiteLarge;</div><div class="line"></div><div class="line">//    UIView *pullView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 50, 50)];</div><div class="line">//    pullView.backgroundColor = [UIColor cyanColor];</div><div class="line">//    [self.tableView.pullToRefreshView setCustomView:pullView forState:SVPullToRefreshStateAll];</div></pre></td></tr></table></figure>
<h4 id="2-2-ä¸Šæ‹‰åˆ·æ–°"><a href="#2-2-ä¸Šæ‹‰åˆ·æ–°" class="headerlink" title="2.2 ä¸Šæ‹‰åˆ·æ–°"></a>2.2 ä¸Šæ‹‰åˆ·æ–°</h4><p><strong>ä¸Šæ‹‰åˆ·æ–°ScrollView</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">@class SVInfiniteScrollingView;</div><div class="line"></div><div class="line">@interface UIScrollView (SVInfiniteScrolling)</div><div class="line">//é»˜è®¤æ·»åŠ ä¸Šæ‹‰åˆ·æ–°è§†å›¾</div><div class="line">- (void)addInfiniteScrollingWithActionHandler:(void (^)(void))actionHandler;</div><div class="line">////è§¦å‘ä¸€æ¬¡åˆ·æ–°, ä¼šæ‰§è¡Œhandlerè¿™ä¸ªblocké‡Œé¢çš„æ–¹æ³•</div><div class="line">- (void)triggerInfiniteScrolling;</div><div class="line">//ä¸Šæ‹‰åˆ·æ–°è§†å›¾</div><div class="line">@property (nonatomic, strong, readonly) SVInfiniteScrollingView *infiniteScrollingView;</div><div class="line">//æ˜¯å¦å±•ç¤ºä¸Šæ‹‰åˆ·æ–°è§†å›¾</div><div class="line">@property (nonatomic, assign) BOOL showsInfiniteScrolling;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure></p>
<p><strong>ä¸Šæ‹‰åˆ·æ–°View</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">@interface SVInfiniteScrollingView : UIView</div><div class="line">//æŒ‡ç¤ºå™¨ç±»å‹</div><div class="line">@property (nonatomic, readwrite) UIActivityIndicatorViewStyle activityIndicatorViewStyle;</div><div class="line">//åˆ·æ–°çŠ¶æ€</div><div class="line">@property (nonatomic, readonly) SVInfiniteScrollingState state;</div><div class="line">//æ˜¯å¦å–æ¶ˆä¸Šæ‹‰åŠ è½½</div><div class="line">@property (nonatomic, readwrite) BOOL enabled;</div><div class="line">//æ ¹æ®åˆ·æ–°çŠ¶æ€è®¾ç½®è‡ªå®šä¹‰View</div><div class="line">- (void)setCustomView:(UIView *)view forState:(SVInfiniteScrollingState)state;</div><div class="line">//å¼€å§‹åŠ¨ç”»</div><div class="line">- (void)startAnimating;</div><div class="line">//ç»“æŸåŠ¨ç”»</div><div class="line">- (void)stopAnimating;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure></p>
<p>é™„ä¸Šæµ‹è¯•æ•ˆæœ:<br><img src="http://upload-images.jianshu.io/upload_images/1893416-623ae6f8c963101b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¸Šæ‹‰æµ‹è¯•æ•ˆæœå›¾"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">    // setup infinite scrolling</div><div class="line">    [self.tableView addInfiniteScrollingWithActionHandler:^&#123;</div><div class="line">        //ä¸Šæ‹‰åˆ·æ–°æ•°æ®</div><div class="line">    &#125;];</div><div class="line"></div><div class="line">    self.tableView.infiniteScrollingView.backgroundColor = BlueColor;</div><div class="line">    self.tableView.infiniteScrollingView.activityIndicatorViewStyle = UIActivityIndicatorViewStyleWhite;</div><div class="line"></div><div class="line">//    UIImageView *pullImageView = [[UIImageView alloc] initWithFrame:CGRectMake(0, 0, 50, 50)];</div><div class="line">//    pullImageView.image = [UIImage imageNamed:@&quot;avatar&quot;];</div><div class="line">//    pullImageView.layer.cornerRadius = 25;</div><div class="line">//    pullImageView.layer.masksToBounds = YES;</div><div class="line">//    [self.tableView.infiniteScrollingView setCustomView:pullImageView forState:SVPullToRefreshStateAll];</div><div class="line">//</div><div class="line">//    self.tableView.infiniteScrollingView.enabled = NO;</div></pre></td></tr></table></figure>
<h2 id="3-åŸç†è§£æ"><a href="#3-åŸç†è§£æ" class="headerlink" title="3.åŸç†è§£æ"></a>3.åŸç†è§£æ</h2><h4 id="3-1-ä¸‹æ‹‰åˆ·æ–°"><a href="#3-1-ä¸‹æ‹‰åˆ·æ–°" class="headerlink" title="3.1 ä¸‹æ‹‰åˆ·æ–°"></a>3.1 ä¸‹æ‹‰åˆ·æ–°</h4><p><img src="http://upload-images.jianshu.io/upload_images/1893416-eb7e0de8a37132ee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¸‹æ‹‰åˆ·æ–°æµç¨‹å›¾"></p>
<p>ä»¥ä¸Šæ˜¯ä¸‹æ‹‰åˆ·æ–°çš„ä¸»è¦æµç¨‹å›¾, æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥æ‰£æ‰£ç»†èŠ‚;</p>
<h6 id="3-1-1-void-triggerPullToRefreshè§¦å‘äº†ä¸€æ¬¡åˆ·æ–°"><a href="#3-1-1-void-triggerPullToRefreshè§¦å‘äº†ä¸€æ¬¡åˆ·æ–°" class="headerlink" title="3.1.1 -(void)triggerPullToRefreshè§¦å‘äº†ä¸€æ¬¡åˆ·æ–°:"></a>3.1.1 <code>-(void)triggerPullToRefresh</code>è§¦å‘äº†ä¸€æ¬¡åˆ·æ–°:</h6><p>ä»¥ä¸‹æ˜¯æ–¹æ³•çš„å†…éƒ¨å®ç°;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- (void)triggerPullToRefresh &#123;</div><div class="line">    self.pullToRefreshView.state = SVPullToRefreshStateTriggered;</div><div class="line">    [self.pullToRefreshView startAnimating];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>çœ‹äº†ä¸€çœ¼, å½“æ—¶å°±æ‡µäº†; æ€ä¹ˆå°±è¿™ç‚¹å„¿ä»£ç , å®Œå…¨çœ‹ä¸å‡ºæ¥å•Š, åˆ«ç€æ€¥, æ¥ç€ä¸€ä¸ªä¸ªç‚¹è¿›å»çœ‹. å‘ç°stateå±æ€§çš„setteræ–¹æ³•é‡Œé¢åšäº†å¤„ç†;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">- (void)setState:(SVPullToRefreshState)newState &#123;</div><div class="line"></div><div class="line">    if(_state == newState)</div><div class="line">        return;</div><div class="line"></div><div class="line">    SVPullToRefreshState previousState = _state;</div><div class="line">    _state = newState;</div><div class="line"></div><div class="line">    [self setNeedsLayout];</div><div class="line">    [self layoutIfNeeded];</div><div class="line"></div><div class="line">    switch (newState) &#123;</div><div class="line">        case SVPullToRefreshStateAll:</div><div class="line">        case SVPullToRefreshStateStopped:</div><div class="line">            [self resetScrollViewContentInset];</div><div class="line">            break;</div><div class="line"></div><div class="line">        case SVPullToRefreshStateTriggered:</div><div class="line">            break;</div><div class="line"></div><div class="line">        case SVPullToRefreshStateLoading:</div><div class="line">            [self setScrollViewContentInsetForLoading];</div><div class="line"></div><div class="line">            if(previousState == SVPullToRefreshStateTriggered &amp;&amp; pullToRefreshActionHandler)</div><div class="line">                pullToRefreshActionHandler();</div><div class="line">            break;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>æ¥ä¸‹æ¥æ‹†åˆ†ä¸€ä¸‹:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">self.pullToRefreshView.state = SVPullToRefreshStateTriggered;</div></pre></td></tr></table></figure></p>
<p>æ‰§è¡Œå®Œè¿™æ­¥ä»£ç , æ‰§è¡Œä¸€æ¬¡<code>-(void)setState:</code>, ä¹‹åbreakè·³å‡º;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[self.pullToRefreshView startAnimating];</div></pre></td></tr></table></figure></p>
<p>è¿™æ­¥<code>pullToRefreshView</code>æ‰§è¡Œ<code>-(void)startAnimating</code>, æ–¹æ³•å†…éƒ¨å®ç°å¦‚ä¸‹:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">- (void)startAnimating&#123;</div><div class="line">    ...</div><div class="line">    self.state = SVPullToRefreshStateLoading;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å¯ä»¥çœ‹å‡ºä¹‹ååˆæ‰§è¡Œäº†ä¸€æ¬¡<code>-(void)setState:</code>, è¿™æ—¶<code>previousState == SVPullToRefreshStateTriggered</code>æ¡ä»¶æ»¡è¶³, æ‰§è¡ŒinfiniteScrollingHandler(), ä¹Ÿå°±æ‰§è¡Œäº†blocké‡Œé¢åˆ·æ–°æ•°æ®çš„æ–¹æ³•;</p>
<h6 id="3-1-2-åˆ©ç”¨runtime-KVOæ·»åŠ æˆå‘˜å˜é‡"><a href="#3-1-2-åˆ©ç”¨runtime-KVOæ·»åŠ æˆå‘˜å˜é‡" class="headerlink" title="3.1.2 åˆ©ç”¨runtime+KVOæ·»åŠ æˆå‘˜å˜é‡"></a>3.1.2 åˆ©ç”¨runtime+KVOæ·»åŠ æˆå‘˜å˜é‡</h6><p>ä»£ç å¦‚ä¸‹:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">static char UIScrollViewPullToRefreshView;</div><div class="line">- (void)setPullToRefreshView:(SVPullToRefreshView *)pullToRefreshView &#123;</div><div class="line">    [self willChangeValueForKey:@&quot;SVPullToRefreshView&quot;];</div><div class="line">    objc_setAssociatedObject(self, &amp;UIScrollViewPullToRefreshView,</div><div class="line">                             pullToRefreshView,</div><div class="line">                             OBJC_ASSOCIATION_ASSIGN);</div><div class="line">    [self didChangeValueForKey:@&quot;SVPullToRefreshView&quot;];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (SVPullToRefreshView *)pullToRefreshView &#123;</div><div class="line">    return objc_getAssociatedObject(self, &amp;UIScrollViewPullToRefreshView);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>å…³äºKVO:</strong><br>ä»ä»£ç ä¸­å¯ä»¥çœ‹å‡º<code>willChangeValueForKey :</code>å’Œ<code>didChangeValueForKey :</code>æ˜¯KVOçš„ä¸€éƒ¨åˆ†, æºæ–‡ä»¶çš„ä»£ç ä¸º:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">@interface NSObject(NSKeyValueObserverNotification)</div><div class="line">- (void)willChangeValueForKey:(NSString *)key;</div><div class="line">- (void)didChangeValueForKey:(NSString *)key;</div><div class="line">@end</div></pre></td></tr></table></figure></p>
<p>ç”¨äº†è¿™ä¸¤ä¸ªæ–¹æ³•ä¹Ÿå°±ä»£è¡¨æ‰‹åŠ¨è§¦å‘äº†KVO, è¿™ä¹Ÿä¸ºäº†æ§åˆ¶å›è°ƒçš„è°ƒç”¨æ—¶æœº, åœ¨<code>setPullToRefreshView:</code>ä¸­è§¦å‘. è€Œæ‰‹åŠ¨è§¦å‘çš„åœºæ™¯ä¸€èˆ¬æ˜¯ä¸ä½¿ç”¨å±æ€§ï¼Œæˆ–é‡å†™äº†setterï¼Œéœ€è¦æ‰‹åŠ¨é€šçŸ¥ç³»ç»Ÿ.<br>ä¸€èˆ¬æˆ‘ä»¬æ˜¯ä¸éœ€è¦ç”¨çš„, æ¯”å¦‚<code>@property</code>å†™ä¸€ä¸ªå±æ€§, ç³»ç»Ÿä¼šä»¥æŸç§æ–¹å¼åœ¨ä¸­é—´æ’å…¥ <code>wilChangeValueForKey:</code>, <code>didChangeValueForKey:</code>å’Œ <code>observeValueForKeyPath:ofObject:change:context:</code>çš„è°ƒç”¨.<br>æƒ³è¦äº†è§£æ›´å¤š, å¯ä»¥çœ‹ä¸€ä¸‹<br><a href="https://developer.apple.com/library/content/documentation/Cocoa/Conceptual/KeyValueObserving/Articles/KVOCompliance.html#//apple_ref/doc/uid/20002178-SW3" target="_blank" rel="external">KVO Programming Guide - Appleå®˜æ–¹æ–‡æ¡£</a></p>
<p><strong>å…³äºruntime:</strong><br>è¿™é‡Œè¦çŸ¥é“è¿™ä¸¤ä¸ªæ–¹æ³•:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">//set</div><div class="line">objc_setAssociatedObject(id _Nonnull object, const void * _Nonnull key,</div><div class="line">                         id _Nullable value, objc_AssociationPolicy policy)</div><div class="line">//get</div><div class="line">objc_getAssociatedObject(id _Nonnull object, const void * _Nonnull key)</div><div class="line"></div><div class="line">//objc_AssociationPolicyç±»å‹è¯´æ˜</div><div class="line">//å…³è”æ—¶é‡‡ç”¨çš„åè®®ï¼Œæœ‰assignï¼Œretainï¼Œcopyç­‰åè®®ï¼Œä¸€èˆ¬ä½¿ç”¨OBJC_ASSOCIATION_RETAIN_NONATOMIC</div><div class="line">typedef OBJC_ENUM(uintptr_t, objc_AssociationPolicy) &#123;</div><div class="line">    OBJC_ASSOCIATION_ASSIGN = 0,           /**&lt; Specifies a weak reference to the associated object. */</div><div class="line">    OBJC_ASSOCIATION_RETAIN_NONATOMIC = 1, /**&lt; Specifies a strong reference to the associated object.</div><div class="line">                                            *   The association is not made atomically. */</div><div class="line">    OBJC_ASSOCIATION_COPY_NONATOMIC = 3,   /**&lt; Specifies that the associated object is copied.</div><div class="line">                                            *   The association is not made atomically. */</div><div class="line">    OBJC_ASSOCIATION_RETAIN = 01401,       /**&lt; Specifies a strong reference to the associated object.</div><div class="line">                                            *   The association is made atomically. */</div><div class="line">    OBJC_ASSOCIATION_COPY = 01403          /**&lt; Specifies that the associated object is copied.</div><div class="line">                                            *   The association is made atomically. */</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>çœ‹å®Œæ‰€æœ‰API, å…¶å®ä¹Ÿäº†è§£çš„å·®ä¸å¤š, è¿™æ ·å°±ç»™scrollViewå¢åŠ äº†ä¸€ä¸ª<code>SVPullToRefreshView</code>ç±»å‹çš„å±æ€§;</p>
<h6 id="3-1-3-ç›‘å¬æ¢ç©¶"><a href="#3-1-3-ç›‘å¬æ¢ç©¶" class="headerlink" title="3.1.3 ç›‘å¬æ¢ç©¶"></a>3.1.3 ç›‘å¬æ¢ç©¶</h6><p>è¿™é‡Œä¸»è¦æ¶‰åŠscrollViewçš„ä¸‰ä¸ªç›‘å¬, <code>contentOffset</code>, <code>contentSize</code>, <code>frame</code>;<br><code>frame</code>å°±ä¸ç”¨è¯´äº†, è¯´ä¸€ä¸‹å¦å¤–ä¸¤ä¸ª;<br><code>contentOffset</code>æ˜¯scrollviewå½“å‰æ˜¾ç¤ºåŒºåŸŸé¡¶ç‚¹ç›¸å¯¹äºframeé¡¶ç‚¹çš„åç§»é‡ã€‚å¯ä»¥ç†è§£ä¸ºcontentviewçš„é¡¶ç‚¹ç›¸å¯¹äºscrollerVIewçš„frameçš„åç§»é‡;<br><code>contentSize</code>æ˜¯scrollviewå½“å‰æ‰€æœ‰å†…å®¹åŒºåŸŸçš„å¤§å°;<br>é¡ºä¾¿æä¸‹<code>contentInset</code>, ä¸‹é¢ç”¨åˆ°, è¡¨ç¤ºcontentView.frameä¸scrollerView.frameçš„å…³ç³», å¯ä»¥ç±»æ¯”äºcssé‡Œçš„padding.<br>ä¾‹å¦‚:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">testScrollView.contentInset = UIEdgeInsetsMake(10, 10, 10, 10);</div></pre></td></tr></table></figure></p>
<p>åˆ™testScrollViewçš„top, left, bottom, rightä¸º10;</p>
<p>å¥½äº†, ç°åœ¨åˆ°é‡å¤´æˆäº†, ç›‘å¬å¦‚ä½•æ‰§è¡Œçš„, ä»£ç å¦‚ä¸‹:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">#pragma mark - Observing</div><div class="line">- (void)observeValueForKeyPath:(NSString *)keyPath ofObject:(id)object change:(NSDictionary *)change context:(void *)context &#123;</div><div class="line">    if([keyPath isEqualToString:@&quot;contentOffset&quot;])</div><div class="line">        [self scrollViewDidScroll:[[change valueForKey:NSKeyValueChangeNewKey] CGPointValue]];</div><div class="line">    else if([keyPath isEqualToString:@&quot;contentSize&quot;]) &#123;</div><div class="line">        [self layoutSubviews];</div><div class="line">        CGFloat yOrigin;</div><div class="line">        ...</div><div class="line">        self.frame = CGRectMake(0, yOrigin, self.bounds.size.width, SVPullToRefreshViewHeight);</div><div class="line">    &#125;</div><div class="line">    else if([keyPath isEqualToString:@&quot;frame&quot;])</div><div class="line">        [self layoutSubviews];</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å¯ä»¥ç†è§£ä¸ºå½“ç›‘å¬<code>contentOffset</code>æ”¹å˜æ—¶, scrollViewæ»šåŠ¨, æ­¤æ—¶æ‰§è¡Œ<code>scrollViewDidScroll:</code>æ–¹æ³•å¾—åˆ°æ­¤æ—¶çš„æ»šåŠ¨state; å½“ä¸º<code>contentSize</code>å’Œ<code>frame</code>æ—¶, scrollViewè§†å›¾å‘ç”Ÿå˜åŒ–, æ­¤æ—¶æ‰§è¡Œ<code>layoutSubviews</code>é‡æ–°åŠ è½½è§†å›¾, åŒ…æ‹¬æ ¹æ®çŠ¶æ€æ”¹å˜è§†å›¾æ ·å¼, éƒ½åœ¨è¿™é‡Œé¢æ‰§è¡Œ;<br><strong><code>scrollViewDidScroll:</code>æ–¹æ³•:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">- (void)scrollViewDidScroll:(CGPoint)contentOffset &#123;</div><div class="line">    if(self.state != SVPullToRefreshStateLoading) &#123;</div><div class="line">        CGFloat scrollOffsetThreshold = 0;</div><div class="line">        switch (self.position) &#123;</div><div class="line">            case SVPullToRefreshPositionTop:</div><div class="line">                scrollOffsetThreshold = self.frame.origin.y - self.originalTopInset;</div><div class="line">                break;</div><div class="line">            case SVPullToRefreshPositionBottom:</div><div class="line">                scrollOffsetThreshold = MAX(self.scrollView.contentSize.height - self.scrollView.bounds.size.height, 0.0f) + self.bounds.size.height + self.originalBottomInset;</div><div class="line">                break;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        if(!self.scrollView.isDragging &amp;&amp; self.state == SVPullToRefreshStateTriggered)</div><div class="line">            self.state = SVPullToRefreshStateLoading;</div><div class="line">        else if(contentOffset.y &lt; scrollOffsetThreshold &amp;&amp; self.scrollView.isDragging &amp;&amp; self.state == SVPullToRefreshStateStopped &amp;&amp; self.position == SVPullToRefreshPositionTop)</div><div class="line">            self.state = SVPullToRefreshStateTriggered;</div><div class="line">        else if(contentOffset.y &gt;= scrollOffsetThreshold &amp;&amp; self.state != SVPullToRefreshStateStopped &amp;&amp; self.position == SVPullToRefreshPositionTop)</div><div class="line">            self.state = SVPullToRefreshStateStopped;</div><div class="line">        else if(contentOffset.y &gt; scrollOffsetThreshold &amp;&amp; self.scrollView.isDragging &amp;&amp; self.state == SVPullToRefreshStateStopped &amp;&amp; self.position == SVPullToRefreshPositionBottom)</div><div class="line">            self.state = SVPullToRefreshStateTriggered;</div><div class="line">        else if(contentOffset.y &lt;= scrollOffsetThreshold &amp;&amp; self.state != SVPullToRefreshStateStopped &amp;&amp; self.position == SVPullToRefreshPositionBottom)</div><div class="line">            self.state = SVPullToRefreshStateStopped;</div><div class="line">    &#125; else &#123;</div><div class="line">        CGFloat offset;</div><div class="line">        UIEdgeInsets contentInset;</div><div class="line">        switch (self.position) &#123;</div><div class="line">            case SVPullToRefreshPositionTop:</div><div class="line">                ...</div><div class="line">                self.scrollView.contentInset = UIEdgeInsetsMake(offset, contentInset.left, contentInset.bottom, contentInset.right);</div><div class="line">                break;</div><div class="line">            case SVPullToRefreshPositionBottom:</div><div class="line">                if (self.scrollView.contentSize.height &gt;= self.scrollView.bounds.size.height) &#123;</div><div class="line">                    ...</div><div class="line">                    self.scrollView.contentInset = UIEdgeInsetsMake(contentInset.top, contentInset.left, offset, contentInset.right);</div><div class="line">                &#125; else if (self.wasTriggeredByUser) &#123;</div><div class="line">                    ...</div><div class="line">                    self.scrollView.contentInset = UIEdgeInsetsMake(-offset, contentInset.left, contentInset.bottom, contentInset.right);</div><div class="line">                &#125;</div><div class="line">                break;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å¯ä»¥çœ‹å‡ºæ ¹æ®postionä½ç½®, stateæ˜¯SVPullToRefreshStateLoadingçŠ¶æ€çš„æ—¶å€™, æ”¹å˜scrollViewçš„contentInset;éè¯¥çŠ¶æ€çš„æ—¶å€™, æ ¹æ®contentOffsetå’Œpostionè®¾ç½®state;<br><img src="http://upload-images.jianshu.io/upload_images/1893416-aded6f779f3e39d4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>ä¸‹æ‹‰åˆ·æ–°å, scrollViewçš„å†…å®¹é«˜åº¦ä¸‹ç§»60; å½“ç„¶åªæ˜¯å†…å®¹é«˜åº¦, æ•´ä¸ªscrollViewè¿˜æ˜¯å…¨å±çš„, å¯¹æ¯”cssä¸­paddingç†è§£ä¸€ä¸‹;<br>æ³¨:<br> <code>SVPullToRefreshView</code>å‘å³ç§»åŠ¨ä¸€ç‚¹å„¿è·ç¦», æ–¹ä¾¿çœ‹è§†å›¾å±‚çº§;</p>
<p><strong><code>layoutSubviews</code>æ–¹æ³•:</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line">- (void)layoutSubviews &#123;</div><div class="line"></div><div class="line">    for(id otherView in self.viewForState) &#123;</div><div class="line">        if([otherView isKindOfClass:[UIView class]])</div><div class="line">           //ä»çˆ¶è§†å›¾å‰¥ç¦»</div><div class="line">            [otherView removeFromSuperview];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    id customView = [self.viewForState objectAtIndex:self.state];</div><div class="line">    BOOL hasCustomView = [customView isKindOfClass:[UIView class]];</div><div class="line"></div><div class="line">    self.titleLabel.hidden = hasCustomView;</div><div class="line">    self.subtitleLabel.hidden = hasCustomView;</div><div class="line">    self.arrow.hidden = hasCustomView;</div><div class="line"></div><div class="line">    if(hasCustomView) &#123;</div><div class="line">      //æ·»åŠ customView</div><div class="line">        [self addSubview:customView];</div><div class="line">        ...</div><div class="line">        [customView setFrame:CGRectMake(origin.x, origin.y, viewBounds.size.width, viewBounds.size.height)];</div><div class="line">    &#125;</div><div class="line">    else &#123;</div><div class="line">   //æ ¹æ®stateæ—‹è½¬arrowView</div><div class="line">        switch (self.state) &#123;</div><div class="line">            case SVPullToRefreshStateAll:</div><div class="line">            case SVPullToRefreshStateStopped:</div><div class="line">                self.arrow.alpha = 1;</div><div class="line">                [self.activityIndicatorView stopAnimating];</div><div class="line">                switch (self.position) &#123;</div><div class="line">                    case SVPullToRefreshPositionTop:</div><div class="line">                        [self rotateArrow:0 hide:NO];</div><div class="line">                        break;</div><div class="line">                    case SVPullToRefreshPositionBottom:</div><div class="line">                        [self rotateArrow:(float)M_PI hide:NO];</div><div class="line">                        break;</div><div class="line">                &#125;</div><div class="line">                break;</div><div class="line"></div><div class="line">            ...</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        CGFloat leftViewWidth = MAX(self.arrow.bounds.size.width,self.activityIndicatorView.bounds.size.width);</div><div class="line"></div><div class="line">        ...</div><div class="line">        CGFloat labelX = (self.bounds.size.width / 2) - (totalMaxWidth / 2) + leftViewWidth + margin;</div><div class="line"></div><div class="line">        if(subtitleSize.height &gt; 0)&#123;</div><div class="line">            ...</div><div class="line">            self.titleLabel.frame = CGRectIntegral(CGRectMake(labelX, titleY, titleSize.width, titleSize.height));</div><div class="line">            self.subtitleLabel.frame = CGRectIntegral(CGRectMake(labelX, titleY + titleSize.height + marginY, subtitleSize.width, subtitleSize.height));</div><div class="line">        &#125;else&#123;</div><div class="line">            ...</div><div class="line">            self.titleLabel.frame = CGRectIntegral(CGRectMake(labelX, titleY, titleSize.width, titleSize.height));</div><div class="line">            self.subtitleLabel.frame = CGRectIntegral(CGRectMake(labelX, titleY + titleSize.height + marginY, subtitleSize.width, subtitleSize.height));</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        CGFloat arrowX = (self.bounds.size.width / 2) - (totalMaxWidth / 2) + (leftViewWidth - self.arrow.bounds.size.width) / 2;</div><div class="line">        self.arrow.frame = CGRectMake(arrowX,</div><div class="line">                                      (self.bounds.size.height / 2) - (self.arrow.bounds.size.height / 2),</div><div class="line">                                      self.arrow.bounds.size.width,</div><div class="line">                                      self.arrow.bounds.size.height);</div><div class="line">        self.activityIndicatorView.center = self.arrow.center;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><code>self.viewForState</code>ä¸ºä¸€ä¸ªå¯å˜æ•°ç»„, é‡Œé¢æ˜¯è€Œä¸”æ ¹æ®çŠ¶æ€è£…å…¥ç›¸åº”stateçš„customView, é¦–å…ˆä»é€šè¿‡<code>- (void)setCustomView:forState:</code>æ–¹æ³•æ·»åŠ å<code>removeFromSuperview</code>ä»çˆ¶è§†å›¾å‰¥ç¦», ä¹‹åæ ¹æ®æ˜¯å¦ä¼ å…¥äº†customViewå†³å®šæ˜¯å¦æ·»åŠ è‡ªå®šä¹‰è§†å›¾; å¦‚æœæ²¡æœ‰customViewåˆ™æ”¹å˜é‡Œé¢arrowViewçš„è§’åº¦;æœ€åéƒ½å¾—æ”¹å˜<code>titleLabel</code>, <code>subtitleLabel</code>, <code>arrow</code>, <code>activityIndicatorView</code>çš„å°ºå¯¸æˆ–ä½ç½®;<br>å€¼å¾—æ³¨æ„çš„æ˜¯é‡Œé¢çš„ä¸€ä¸ªæ–¹æ³•æš´éœ²äº†demoçš„å¹´çºª, O(âˆ©_âˆ©)Oå“ˆå“ˆ~<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- (CGSize)sizeWithFont:(UIFont *)font constrainedToSize:(CGSize)size lineBreakMode:(NSLineBreakMode)lineBreakMode NS_DEPRECATED_IOS(2_0, 7_0, &quot;Use -boundingRectWithSize:options:attributes:context:&quot;) __TVOS_PROHIBITED;</div></pre></td></tr></table></figure></p>
<p>7.0ä¹‹åå·²å–æ¶ˆ, éš¾æ€ªæˆ‘æ„Ÿè§‰æ²¡è§è¿‡è¿™ä¸ªæ–¹æ³•. å“, è¿˜æ˜¯å¤ªå¹´è½»<del>~</del></p>
<h4 id="3-2-ä¸Šæ‹‰åˆ·æ–°"><a href="#3-2-ä¸Šæ‹‰åˆ·æ–°" class="headerlink" title="3.2 ä¸Šæ‹‰åˆ·æ–°"></a>3.2 ä¸Šæ‹‰åˆ·æ–°</h4><p>è¯ä¸å¤šè¯´, å…ˆçœ‹ä¸œè¥¿â€¦(æ­¤è¯å‡ºè‡ªè€ç½—è¯­å½•ğŸ˜Š)<br><img src="http://upload-images.jianshu.io/upload_images/1893416-489dd2f370ac3295.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¸Šæ‹‰åˆ·æ–°æµç¨‹å›¾"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">- (void)setState:(SVInfiniteScrollingState)newState &#123;</div><div class="line"></div><div class="line">    if(_state == newState)</div><div class="line">        return;</div><div class="line"></div><div class="line">    SVInfiniteScrollingState previousState = _state;</div><div class="line">    _state = newState;</div><div class="line"></div><div class="line">    for(id otherView in self.viewForState) &#123;</div><div class="line">        if([otherView isKindOfClass:[UIView class]])</div><div class="line">            [otherView removeFromSuperview];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    id customView = [self.viewForState objectAtIndex:newState];</div><div class="line">    BOOL hasCustomView = [customView isKindOfClass:[UIView class]];</div><div class="line"></div><div class="line">    if(hasCustomView) &#123;</div><div class="line">        [self addSubview:customView];</div><div class="line">        ...</div><div class="line">        [customView setFrame:CGRectMake(origin.x, origin.y, viewBounds.size.width, viewBounds.size.height)];</div><div class="line">    &#125;</div><div class="line">    else &#123;</div><div class="line">        ...</div><div class="line">        [self.activityIndicatorView setFrame:CGRectMake(origin.x, origin.y, viewBounds.size.width, viewBounds.size.height)];</div><div class="line">        //æ ¹æ®çŠ¶æ€è®¾ç½®activityIndicatorViewæ˜¯å¦åŠ¨ç”»</div><div class="line">        switch (newState) &#123;</div><div class="line">            case SVInfiniteScrollingStateStopped:</div><div class="line">                [self.activityIndicatorView stopAnimating];</div><div class="line">                break;</div><div class="line">            ...</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    if(previousState == SVInfiniteScrollingStateTriggered &amp;&amp; newState == SVInfiniteScrollingStateLoading &amp;&amp; self.infiniteScrollingHandler &amp;&amp; self.enabled)</div><div class="line">        self.infiniteScrollingHandler();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>ä¸Šæ‹‰åˆ·æ–°ç›¸å¯¹äºä¸‹æ‹‰, å°‘äº†å¾ˆå¤šä¸œè¥¿, ä¹Ÿå°±ç®€å•äº†ä¸€äº›, é‡å¤æ€§çš„å°±ä¸å¤šè¯´äº†.å€¼å¾—æ³¨æ„çš„æ˜¯, å¯¹æ¯”ä¸‹æ‹‰, ä¸Šæ‹‰æŠŠ<code>layoutSubviews</code>é‡Œé¢ä¸œè¥¿æ”¾åˆ°<code>setState:</code>é‡Œé¢. ä¹Ÿæ˜¯, æ¯•ç«Ÿæ²¡å¤šå°‘ä¸œè¥¿, å¯¹æ¯”ç€ä¸‹æ‹‰åˆ·æ–°æ¥çœ‹;</p>
<h2 id="4-æ€»ç»“"><a href="#4-æ€»ç»“" class="headerlink" title="4.æ€»ç»“"></a>4.æ€»ç»“</h2><p>è¿™æ¬¡é˜…è¯»æºç ï¼Œå¯ä»¥è¯´æ”¶è·æ»¡æ»¡å•Šã€‚ä»¥å‰è§‰å¾—æºç é˜…è¯»æ˜¯ä¸ªæ¯”è¾ƒæ¯ç‡¥çš„è¿‡ç¨‹ï¼Œå¯æ˜¯å½“æˆ‘æŠŠä¸€ä¸ªä¸ªé—®é¢˜è§£å†³äº†ä¹‹åï¼Œæˆå°±æ„Ÿä¹Ÿæ…¢æ…¢ç´¯ç§¯ï¼Œæ„Ÿè§‰å°±æ˜¯è¶Šè¯»è¶Šæ¥åŠ²å„¿ã€‚è€Œä¸”å‘ç°è¯»ä¸€éæ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œæ¯çœ‹äº†ä¸€ééƒ½å¤šå°‘ä¼šæœ‰äº›æ”¶è·ã€‚æ…¢æ…¢çš„ä»(è¿™ä¸ªæ–¹æ³•æ˜¯å¹²ä»€ä¹ˆçš„)â€“&gt;(ä¸ºä»€ä¹ˆå†™è¿™ä¸ªæ–¹æ³•)â€“&gt;(ä¸ºä»€ä¹ˆå†™åœ¨è¿™é‡Œ)ï¼Œç­‰ç­‰ä¸€äº›æ€è€ƒã€‚åœ¨å¯¹ä½œè€…ç§°èµğŸ‘çš„åŒæ—¶ä¹Ÿä¸ºè‡ªå·±è®¤è¯†äº†è¿™ç§æ–¹æ³•è€Œæ„Ÿåˆ°é«˜å…´ã€‚<br>å†æ¥å†å‰ï¼ï¼ï¼<br>åŠ æ²¹ğŸ’ª2017ï¼ï¼ï¼</p>
<blockquote>
<p>æƒ³è¦äº†è§£æ›´å¤šçš„å†…å®¹, å¯ä»¥å…³æ³¨ä¸€ä¸‹æˆ‘çš„ä¸ªäººå…¬ä¼—å·ã€‚è¯¥å…¬ä¼—å·æ¯ä¸ªå·¥ä½œæ—¥ä¼šæœ‰æ–°é—»æ¨é€ï¼Œæ¯å‘¨æŠ€æœ¯åˆ†äº«ï¼Œåšå®¢æ›´æ–°ä¼šå®æ—¶æ¨é€ã€‚åšä¸ªæœ‰æ€åº¦çš„iOSå¼€å‘è€…ï¼Œå°±ä»èº«è¾¹çš„ä¸€ä»¶ä»¶å°äº‹å„¿åšèµ·ã€‚æ»¡æ»¡çš„æ­£èƒ½é‡ï¼Œæœ‰æ²¡æœ‰ï¼ŸDo you get itï¼Ÿ<br><img src="http://upload-images.jianshu.io/upload_images/1893416-dbd322b5baeea686.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é˜…è¯»æºç ä¹‹è·¯ç»ˆäºå¼€å¯äº†, å°ç™½ä¸€æš, å¤§ç¥ä»¬è¦å¤šå¤šç…§é¡¾å•Š, æœ‰ä»€ä¹ˆå»ºè®®å¯ä»¥è¯„è®ºæˆ–ç§ä¿¡, åœ¨æ­¤å¤šè°¢äº†!!!!&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;æ¦‚è¦&quot;&gt;&lt;a href=&quot;#æ¦‚è¦&quot; class=&quot;headerlink&quot; title=&quot;æ¦‚è¦&quot;&gt;&lt;/a&gt;æ¦‚è¦&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1893416-e1f3d71f45bb56e7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;æ–‡ä»¶ç»“æ„&quot;&gt;&lt;/p&gt;
&lt;h5 id=&quot;æ–‡ç« ç›®å½•&quot;&gt;&lt;a href=&quot;#æ–‡ç« ç›®å½•&quot; class=&quot;headerlink&quot; title=&quot;æ–‡ç« ç›®å½•&quot;&gt;&lt;/a&gt;æ–‡ç« ç›®å½•&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;å‰è¨€&lt;/li&gt;
&lt;li&gt;APIè¯´æ˜&lt;/li&gt;
&lt;li&gt;åŸç†è§£æ&lt;/li&gt;
&lt;li&gt;æ€»ç»“&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&quot;1-å‰è¨€&quot;&gt;&lt;a href=&quot;#1-å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;1.å‰è¨€&quot;&gt;&lt;/a&gt;1.å‰è¨€&lt;/h2&gt;&lt;p&gt;ä½œä¸ºä¸€ä¸ªåˆ·æ–°æ¡†æ¶, &lt;a href=&quot;https://github.com/samvermette/SVPullToRefresh&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SVPullToRefresh&lt;/a&gt;ä»¥å…¶ç®€æ´, é€šä¿—æ˜“æ‡‚ä¸ºå¤§å®¶æ‰€æ¨å´‡. å¯¹äºåˆšå¼€å§‹è¯»æºç çš„æˆ‘æ¥è¯´, å†åˆé€‚ä¸è¿‡äº†, è€Œä¸”æœ€è¿‘æ­£åœ¨åšä¸€ä¸ªåˆ·æ–°demo, ç”¨åˆ°, é¡ºä¾¿æ•´ç†ä¸€ä¸‹, å­¦ä¹ å­¦ä¹ .&lt;br&gt;SVæ˜¯ä¸ªç†Ÿæ‚‰çš„å‰ç¼€, å°±ç®—æ²¡å¬è¿‡&lt;a href=&quot;https://github.com/samvermette/SVPullToRefresh&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SVPullToRefresh&lt;/a&gt;, ä¹Ÿå¬è¿‡&lt;a href=&quot;https://github.com/samvermette/SVProgressHUD&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;SVProgressHUD&lt;/a&gt;å§. é™¤äº†è¿™äº›, ä½œè€…&lt;a href=&quot;http://samvermette.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Sam&lt;/a&gt;è¿˜æœ‰å…¶ä»–ä¼˜ç§€çš„å¼€æºä»£ç , å¤§å®¶æ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹.&lt;/p&gt;
&lt;hr&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://binzi56.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://binzi56.github.io/tags/iOS/"/>
    
      <category term="æºç å‰–æ" scheme="https://binzi56.github.io/tags/%E6%BA%90%E7%A0%81%E5%89%96%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>iOS11é—®é¢˜æ±‡æ€»</title>
    <link href="https://binzi56.github.io/2017/10/03/iOS11-problems/"/>
    <id>https://binzi56.github.io/2017/10/03/iOS11-problems/</id>
    <published>2017-10-03T10:48:03.000Z</published>
    <updated>2017-10-15T05:04:28.000Z</updated>
    
    <content type="html"><![CDATA[<p>iOS11æœ€ç»ˆè¿˜æ˜¯æ¥äº†, è¿™æ¬¡æ”¹ç‰ˆå±å¹•å°ºå¯¸, æ§ä»¶ç‰¹æ€§éƒ½æœ‰ä¸€äº›æ¯”è¾ƒå¤§çš„æ”¹å˜. ç½‘ä¸Šçœ‹çš„é—®é¢˜é›¶é›¶æ•£æ•£, ğŸ‘‡æ”¶é›†äº†ä¸€ä¸‹å¼€å‘ä¸­å‡ºç°çš„é—®é¢˜, æ•´ç†ä¸€ä¸‹, æ–¹ä¾¿ä¹‹åä½¿ç”¨.</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-a195c2b81590dd7f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç›®å½•æ¦‚è§ˆ"><br><a id="more"></a></p>
<h3 id="1-å¯¼èˆªæ "><a href="#1-å¯¼èˆªæ " class="headerlink" title="1. å¯¼èˆªæ "></a>1. å¯¼èˆªæ </h3><blockquote>
<p>å¯¼èˆªæ é«˜åº¦ä¸€ç›´æ˜¯å›ºå®šçš„64P, åˆ°äº†iOS11è¿™ä¸ªè§„åˆ™è¢«æ‰“ç ´äº†, é™¤äº†iPhoneXå…¨é¢å±, åˆ˜æµ·ç­‰é€‚é…é—®é¢˜, è¿˜å¢åŠ äº†å¤§æ ‡é¢˜çš„å±æ€§, <code>titleView</code>æ”¯æŒ<code>autolayout</code>;<br><img src="http://upload-images.jianshu.io/upload_images/1893416-daac4a32e952f600.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å¤§æ ‡é¢˜ç¤ºä¾‹" title="å¤§æ ‡é¢˜ç¤ºä¾‹"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; //æ ¹æ®prefersLargeTitlesè®¾ç½®, é»˜è®¤ä¸ºNO;</div><div class="line">&gt;  self.navigationController.navigationBar.prefersLargeTitles = YES;</div><div class="line">&gt;</div></pre></td></tr></table></figure></p>
<p>ä¸‹æ–¹é™„ä¸€ä¸ªå¯¼èˆªæ çš„å¯¹æ¯”å›¾:<br><img src="http://upload-images.jianshu.io/upload_images/1893416-91dd5506e292db2c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¸€èˆ¬æœºå‹å¯¼èˆªæ å°ºå¯¸å›¾(é™¤äº†iPhoneX)" title="ä¸€èˆ¬æœºå‹å¯¼èˆªæ å°ºå¯¸å›¾(é™¤äº†iPhoneX)"><br><img src="http://upload-images.jianshu.io/upload_images/1893416-ae10d86857447eb1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="iPhoneXå¯¼èˆªæ å°ºå¯¸å›¾" title="iPhoneXå¯¼èˆªæ å°ºå¯¸å›¾"></p>
</blockquote>
<h5 id="1-1-å°ºå¯¸é€‚é…"><a href="#1-1-å°ºå¯¸é€‚é…" class="headerlink" title="1.1 å°ºå¯¸é€‚é…"></a>1.1 å°ºå¯¸é€‚é…</h5><p><strong>sol 1: å®å®šä¹‰é«˜åº¦</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">#define NAVIGATION_HEIGHT (CGRectGetHeight([[UIApplication sharedApplication] statusBarFrame]) + CGRectGetHeight(self.navigationController.navigationBar.frame))</div><div class="line"></div><div class="line">#ifdef __IPHONE_11_0</div><div class="line">if (@available(iOS 11.0, *)) &#123;</div><div class="line">self.navigationBar.frame = CGRectMake(0, STATUSBAR_HEIGHT,ScreenWidth, NAVIGATION_HEIGHT);</div><div class="line">&#125;</div><div class="line">#endif</div></pre></td></tr></table></figure></p>
<p><strong>sol 2: å·¥å…·ç±»è·å–é«˜åº¦</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">@implementation TestUtil</div><div class="line">+ (CGFloat)navigationBarHeight &#123;</div><div class="line">    if (IS_iPhoneX) &#123;</div><div class="line">        return 88.0f;</div><div class="line">    &#125;</div><div class="line">    return 64.0f;</div><div class="line">&#125;</div><div class="line">@end</div><div class="line">#define IS_iPhoneX ([UIScreen mainScreen].bounds.size.width == 375 &amp;&amp; [UIScreen mainScreen].bounds.size.height == 812)</div></pre></td></tr></table></figure></p>
<h5 id="1-2-titleViewæ‰©å±•"><a href="#1-2-titleViewæ‰©å±•" class="headerlink" title="1.2 titleViewæ‰©å±•"></a>1.2 titleViewæ‰©å±•</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//titleViewè‡ªæ‰©å±•å°ºå¯¸, éœ€è¦è‡ªå®šä¹‰viewå®ç°è¯¥æ–¹æ³•</div><div class="line">- (CGSize)intrinsicContentSize &#123;</div><div class="line">    return UILayoutFittingExpandedSize;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="1-3-è¿”å›æŒ‰é’®åç§»"><a href="#1-3-è¿”å›æŒ‰é’®åç§»" class="headerlink" title="1.3 è¿”å›æŒ‰é’®åç§»"></a>1.3 è¿”å›æŒ‰é’®åç§»</h5><p>è¿”å›æŒ‰é’®å‘ä¸‹åç§»;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//è®¾ç½®navigationControllerçš„backIndicatorImageå’ŒbackIndicatorTransitionMaskImage</div><div class="line">UIImage *backButtonImage = [[UIImage imageNamed:@&quot;icon_tabbar_back&quot;] imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal];</div><div class="line">self.navigationBar.backIndicatorImage = backButtonImage;</div><div class="line">self.navigationBar.backIndicatorTransitionMaskImage = backButtonImage;</div></pre></td></tr></table></figure></p>
<h3 id="2-å®‰å…¨åŒºåŸŸ-å†…å®¹éƒ¨åˆ†"><a href="#2-å®‰å…¨åŒºåŸŸ-å†…å®¹éƒ¨åˆ†" class="headerlink" title="2. å®‰å…¨åŒºåŸŸ(å†…å®¹éƒ¨åˆ†)"></a>2. å®‰å…¨åŒºåŸŸ(å†…å®¹éƒ¨åˆ†)</h3><blockquote>
<p>å…³äºå®‰å…¨åŒºåŸŸ,  tableViewåºŸå¼ƒäº†<code>automaticallyAdjustsScrollViewInsets</code>å±æ€§; <code>estimatedRowHeight</code>, <code>estimatedSectionHeaderHeight</code> <code>estimatedSectionFooterHeight</code>ä¸‰ä¸ªé«˜åº¦ä¼°ç®—å±æ€§ç”±é»˜è®¤çš„0å˜æˆäº†<code>UITableViewAutomaticDimension</code>;å½“ç„¶äº†, è¿™ä¸ªæ˜¯é€ æˆUIç´Šä¹±çš„åŸå› , å€¼å¾—ä¸€æçš„æ˜¯<strong>tableViewçš„æ–°ç‰¹æ€§</strong>;</p>
<ul>
<li>è®¾ç½®<code>delaysContentTouches</code>ä¸º<code>NO</code>, ä¸ä¼šç«‹å³è§¦å‘cellçš„å“åº”äº‹ä»¶;</li>
<li>ä¸¤æ ¹æ‰‹æŒ‡å¿«é€Ÿçš„è½»å‡»cellï¼Œå¯ä»¥åŒæ—¶é€‰ä¸­ä¸¤ä¸ªcellè¿›å…¥ç¼–è¾‘çŠ¶æ€ã€‚å¦‚æœä¸¤ä¸ªæ‰‹æŒ‡å­˜åœ¨ä¸åŒæ­¥é—®é¢˜ï¼Œåˆ™ä¼šé»˜è®¤è¯†åˆ«å…¶ä¸­çš„ä¸€ä¸ªæ‰‹æŒ‡è¡¨ç¤ºå•é€‰cell;</li>
<li>æ–°å¢äº†ä¸€ä¸ªå±æ€§<code>separatorInsetReference</code>å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªcellåˆ†å‰²çº¿çš„è¾¹è·;</li>
<li>cellæˆ–è€…è¡¨å¤´è¡¨å°¾é»˜è®¤é‡‡ç”¨è‡ªé€‚åº”é«˜åº¦çš„æ–¹æ¡ˆ(é€ æˆUIç´Šä¹±çš„åŸå› );</li>
<li>å¢åŠ äº†numberOfLineså±æ€§æ¥å®ç°ç±»ä¼¼äºUILabelä¸€æ ·çš„é«˜åº¦è‡ªé€‚åº”å˜åŒ–;</li>
</ul>
</blockquote>
<h5 id="2-1-é¡¶éƒ¨åç§»"><a href="#2-1-é¡¶éƒ¨åç§»" class="headerlink" title="2.1 é¡¶éƒ¨åç§»"></a>2.1 é¡¶éƒ¨åç§»</h5><p><code>automaticallyAdjustsScrollViewInsets</code>å±æ€§è¢«åºŸå¼ƒï¼Œé¡¶éƒ¨å°±å¤šäº†ä¸€äº›åç§»;<br><strong>sol 1: </strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">if (@available(iOS 11.0, *)) &#123;</div><div class="line">    self.tableView.contentInsetAdjustmentBehavior = UIScrollViewContentInsetAdjustmentNever;</div><div class="line">&#125; else &#123;</div><div class="line">    self.automaticallyAdjustsScrollViewInsets = NO;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>sol 2: </strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//iOS11 è§£å†³SafeAreaçš„é—®é¢˜ï¼ŒåŒæ—¶èƒ½è§£å†³popæ—¶ä¸Šçº§é¡µé¢scrollViewæŠ–åŠ¨çš„é—®é¢˜</div><div class="line">if (@available(iOS 11, *)) &#123;</div><div class="line">[UIScrollView appearance].contentInsetAdjustmentBehavior = UIScrollViewContentInsetAdjustmentNever;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>sol 3: </strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#defineÂ  adjustsScrollViewInsets_NO(scrollView,vc)\do &#123; \_Pragma(&quot;clang diagnostic push&quot;) \_Pragma(&quot;clang diagnostic ignored \&quot;-Warc-performSelector-leaks\&quot;&quot;) \if ([UIScrollView instancesRespondToSelector:NSSelectorFromString(@&quot;setContentInsetAdjustmentBehavior:&quot;)]) &#123;\[scrollViewÂ  performSelector:NSSelectorFromString(@&quot;setContentInsetAdjustmentBehavior:&quot;) withObject:@(2)];\&#125; else &#123;\vc.automaticallyAdjustsScrollViewInsets = NO;\&#125;\_Pragma(&quot;clang diagnostic pop&quot;) \&#125; while (0)</div></pre></td></tr></table></figure></p>
<p>ç½‘å‹è¿˜å‡ºç°äº†<strong>webView</strong>ä¼šå‘ä¸‹ç§»åŠ¨éƒ¨åˆ†è·ç¦»çš„é—®é¢˜;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">if (@available(iOS 11.0, *)) &#123;</div><div class="line">webView.scrollView.contentInsetAdjustmentBehavior = UIScrollViewContentInsetAdjustmentNever;</div><div class="line">&#125; else &#123;</div><div class="line">// Fallback on earlier versions</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h5 id="2-2-cellé—´éš”å˜å¤§"><a href="#2-2-cellé—´éš”å˜å¤§" class="headerlink" title="2.2 cellé—´éš”å˜å¤§"></a>2.2 cellé—´éš”å˜å¤§</h5><p><strong>sol 1: </strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">self.table.estimatedRowHeight = 0;</div><div class="line">self.table.estimatedSectionHeaderHeight = 0;</div><div class="line">self.table.estimatedSectionFooterHeight = 0;</div></pre></td></tr></table></figure></p>
<p><strong>sol 2: </strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//è§£å†³iOS11ï¼Œä»…å®ç°heightForHeaderInSectionï¼Œæ²¡æœ‰å®ç°viewForHeaderInSectionæ–¹æ³•æ—¶,sectioné—´è·å¤§çš„é—®é¢˜</div><div class="line">[UITableView appearance].estimatedRowHeight = 0;</div><div class="line">[UITableView appearance].estimatedSectionHeaderHeight = 0;</div><div class="line">[UITableView appearance].estimatedSectionFooterHeight = 0;</div></pre></td></tr></table></figure></p>
<h3 id="3-åº•éƒ¨åŒºåŸŸ-tabBar"><a href="#3-åº•éƒ¨åŒºåŸŸ-tabBar" class="headerlink" title="3. åº•éƒ¨åŒºåŸŸ(tabBar)"></a>3. åº•éƒ¨åŒºåŸŸ(tabBar)</h3><blockquote>
<p>åº•éƒ¨åŒºåŸŸä¸»è¦æ˜¯iPhoneXä¸å…¶ä»–æœºå‹ä¸ä¸€æ ·, ä¸€èˆ¬æœºå‹é«˜åº¦ä¸º49, iPhoneXä¸º83;</p>
</blockquote>
<h5 id="é€‚é…é—®é¢˜"><a href="#é€‚é…é—®é¢˜" class="headerlink" title="é€‚é…é—®é¢˜"></a>é€‚é…é—®é¢˜</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">#defineÂ kTabBarHeightÂ ([[UIApplicationÂ sharedApplication]Â statusBarFrame].size.height&gt;20?83:49)</div></pre></td></tr></table></figure>
<h3 id="4-å…¶ä»–é—®é¢˜"><a href="#4-å…¶ä»–é—®é¢˜" class="headerlink" title="4. å…¶ä»–é—®é¢˜"></a>4. å…¶ä»–é—®é¢˜</h3><blockquote>
<p>åœ¨IOS11ï¼ŒåŸæœ‰çš„<code>NSLocationAlwaysUsageDeion</code>è¢«é™çº§ä¸º<code>NSLocationWhenInUseUsageDeion</code>;</p>
</blockquote>
<h5 id="4-1-ç³»ç»Ÿè·å–æƒé™æ¡†æœªå¼¹å‡º"><a href="#4-1-ç³»ç»Ÿè·å–æƒé™æ¡†æœªå¼¹å‡º" class="headerlink" title="4.1 ç³»ç»Ÿè·å–æƒé™æ¡†æœªå¼¹å‡º"></a>4.1 ç³»ç»Ÿè·å–æƒé™æ¡†æœªå¼¹å‡º</h5><p>éœ€è¦åœ¨plistæ–‡ä»¶ä¸­é…ç½®<code>NSLocationAlwaysAndWhenInUseUsageDeion</code>ï¼Œç³»ç»Ÿæ¡†æ‰ä¼šå¼¹å‡º;ä½¿ç”¨requestAlwaysAuthorizationè·å–æƒé™ IOS11ç³»ç»Ÿå¼¹æ¡†ä¼šæŠŠå‡ ç§æƒé™çº§åˆ«å…¨éƒ¨åˆ—å‡ºï¼Œä¾›ç”¨æˆ·é€‰æ‹©;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">NSLocationUsageDescription</div><div class="line">è·å–åœ°ç†ä½ç½®ï¼Œç²¾å‡†æ¨é€æœåŠ¡</div><div class="line">NSLocationWhenInUseUsageDescription</div><div class="line">è·å–åœ°ç†ä½ç½®ï¼Œç²¾å‡†æ¨é€æœåŠ¡</div><div class="line">NSLocationAlwaysUsageDescription</div><div class="line">Appéœ€è¦æ‚¨çš„åŒæ„,æ‰èƒ½å§‹ç»ˆè®¿é—®ä½ç½®</div><div class="line">NSLocationAlwaysAndWhenInUseUsageDeion</div><div class="line">Appéœ€è¦æ‚¨çš„åŒæ„,æ‰èƒ½å§‹ç»ˆè®¿é—®ä½ç½®</div></pre></td></tr></table></figure></p>
<h5 id="4-2-iPhone-Xä¸Šè¿è¡Œç¼“å†²é¡µæœ‰é»‘è‰²åŒºåŸŸ"><a href="#4-2-iPhone-Xä¸Šè¿è¡Œç¼“å†²é¡µæœ‰é»‘è‰²åŒºåŸŸ" class="headerlink" title="4.2 iPhone Xä¸Šè¿è¡Œç¼“å†²é¡µæœ‰é»‘è‰²åŒºåŸŸ"></a>4.2 iPhone Xä¸Šè¿è¡Œç¼“å†²é¡µæœ‰é»‘è‰²åŒºåŸŸ</h5><p><strong>sol 1: æ·»åŠ iPhoneXçš„Launchå›¾1125x2436</strong><br>ä½¿ç”¨LaunchScreenæ¥å½“åšç¼“å†²é¡µæˆ–è€…ä¿®æ”¹Assetsä¸­çš„LaunchImageï¼Œæ·»åŠ iPhoneXçš„Launchå›¾1125*2436ï¼ˆç«–å±);</p>
<p><strong>sol 2: ä¿®æ”¹Contents.jsonæ–‡ä»¶</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">&quot;extent&quot; : &quot;full-screen&quot;,</div><div class="line">&quot;idiom&quot; : &quot;iphone&quot;,</div><div class="line">&quot;subtype&quot; : &quot;2436h&quot;,</div><div class="line">&quot;filename&quot; : &quot;1125_2436.pngâ€,</div><div class="line">&quot;minimum-system-version&quot; : &quot;11.0&quot;,</div><div class="line">&quot;orientation&quot; : &quot;portrait&quot;,</div><div class="line">&quot;scale&quot; : &quot;3x&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>sol 2: ä½¿ç”¨ LaunchScreen.storyboard è®¾ç½®å¯åŠ¨å›¾</strong><br>ä½¿ç”¨ LaunchScreen.storyboard æ–‡ä»¶å°†ç®€å•è§†å›¾çº¦æŸå®šä½ï¼Œå®ç°å„ç§å°ºå¯¸çš„è‡ªé€‚åº”ã€‚</p>
<h5 id="4-3-ç¬¬ä¸‰æ–¹ä¾èµ–åº“é—®é¢˜"><a href="#4-3-ç¬¬ä¸‰æ–¹ä¾èµ–åº“é—®é¢˜" class="headerlink" title="4.3 ç¬¬ä¸‰æ–¹ä¾èµ–åº“é—®é¢˜"></a>4.3 ç¬¬ä¸‰æ–¹ä¾èµ–åº“é—®é¢˜</h5><p>ReactiveCocoa Unknown warning group â€˜-Wreceiver-is-weakâ€™,ignoredè­¦å‘Š;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">#define RACObserve(TARGET, KEYPATH) \</div><div class="line">    (&#123; \</div><div class="line">        _Pragma(&quot;clang diagnostic push&quot;) \</div><div class="line">        _Pragma(&quot;clang diagnostic ignored \&quot;-Wreceiver-is-weak\&quot;&quot;) \</div><div class="line">        __weak id target_ = (TARGET); \</div><div class="line">        [target_ rac_valuesForKeyPath:@keypath(TARGET, KEYPATH) observer:self]; \</div><div class="line">        _Pragma(&quot;clang diagnostic pop&quot;) \</div><div class="line">    &#125;)</div></pre></td></tr></table></figure></p>
<h5 id="4-4-xibç¼–è¯‘é—®é¢˜"><a href="#4-4-xibç¼–è¯‘é—®é¢˜" class="headerlink" title="4.4 xibç¼–è¯‘é—®é¢˜"></a>4.4 xibç¼–è¯‘é—®é¢˜</h5><p>ä¸€èˆ¬æ˜¯æ‰“å¼€ä»¥å‰çš„å·¥ç¨‹, ç¼–è¯‘çš„æ—¶å€™xibæŠ¥é”™, ä¾‹å¦‚:<br><strong><em>warning: Internationalization is not available when compiling for targets before iOS 6.0</em></strong><br>è§£å†³åŠæ³•ï¼š<br>é€‰æ‹©ç¼–è¯‘é”™è¯¯çš„xibæ–‡ä»¶ï¼Œæ‰¾åˆ°Builds for æ”¹ä¸ºiOS 7.0 and Later</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-1290960facc55d59.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h5 id="4-5-ç›¸å†Œæƒé™å˜æ›´"><a href="#4-5-ç›¸å†Œæƒé™å˜æ›´" class="headerlink" title="4.5 ç›¸å†Œæƒé™å˜æ›´"></a>4.5 ç›¸å†Œæƒé™å˜æ›´</h5><p><strong>iOS11ä»¥å‰ï¼š</strong><br><code>NSPhotoLibraryUsageDescription</code>ï¼šè®¿é—®ç›¸å†Œå’Œå­˜å‚¨ç…§ç‰‡åˆ°ç›¸å†Œï¼ˆè¯»å†™ï¼‰ï¼Œä¼šå‡ºç°ç”¨æˆ·æˆæƒ;</p>
<p><strong>iOS11ä¹‹åï¼š</strong><br><code>NSPhotoLibraryUsageDescription</code>ï¼šæ— éœ€æ·»åŠ ã€‚é»˜è®¤å¼€å¯è®¿é—®ç›¸å†Œæƒé™ï¼ˆè¯»ï¼‰ï¼Œæ— éœ€ç”¨æˆ·æˆæƒ;<br><code>NSPhotoLibraryAddUsageDescription</code>ï¼š æ·»åŠ å†…å®¹åˆ°ç›¸å†Œï¼ˆå†™ï¼‰ï¼Œä¼šå‡ºç°ç”¨æˆ·æˆæƒ;</p>
<h5 id="4-6-è·³è½¬App-Storeè¯„è®ºå˜æ›´"><a href="#4-6-è·³è½¬App-Storeè¯„è®ºå˜æ›´" class="headerlink" title="4.6 è·³è½¬App Storeè¯„è®ºå˜æ›´"></a>4.6 è·³è½¬App Storeè¯„è®ºå˜æ›´</h5><p><strong>iOS11ä»¥å‰ï¼š</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">- (void)goToAppStore</div><div class="line">&#123;</div><div class="line"> NSStringÂ *itunesurlÂ =Â @&quot;[http://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?id=XXXXXXXX&amp;pageNumber=0&amp;sortOrdering=2&amp;type=Purple](http://itunes.apple.com/WebObjects/MZStore.woa/wa/viewContentsUserReviews?id=XXXXXXXX&amp;pageNumber=0&amp;sortOrdering=2&amp;type=Purple)+Software&amp;mt=8&quot;;</div><div class="line"> [[UIApplicationÂ sharedApplication]Â openURL:[NSURLÂ URLWithString:itunesurl]];Â </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>iOS11ä¹‹åï¼š</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">- (void)goToAppStore</div><div class="line">&#123;</div><div class="line">NSStringÂ *itunesurlÂ =Â @</div><div class="line">&quot;itms-[apps://itunes.apple.com/cn/app/idXXXXXX?mt=8&amp;action=write-review](apps://itunes.apple.com/cn/app/idXXXXXX?mt=8&amp;action=write-review)&quot;;</div><div class="line">[[UIApplicationÂ sharedApplication]Â openURL:[NSURLÂ URLWithString:itunesurl]];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>æ³¨ï¼šXXXä¸ºä½ è‡ªå·±çš„APP ID;</p>
<p>è¿™äº›é—®é¢˜æ˜¯ç½‘å‹ä»¬è¶Ÿè¿‡çš„å‘,å¸Œæœ›ç®€å‹ä»¬å¦‚æœé‡åˆ°è¿‡å…¶ä»–é—®é¢˜,  èƒ½ç§¯æè¡¥å……, å…±åŒè¿›æ­¥;</p>
<h5 id="é¢˜å¤–è¯"><a href="#é¢˜å¤–è¯" class="headerlink" title="é¢˜å¤–è¯"></a>é¢˜å¤–è¯</h5><p>ä¸€ä¸ªäººçš„å›½åº†, æµªä¸èµ·æ¥, å†™ç¯‡åšå®¢å‹å‹æƒŠğŸ˜“</p>
<blockquote>
<p>å‚è€ƒæ–‡ç« :<br><a href="http://www.cocoachina.com/ios/20170926/20655.html" target="_blank" rel="external">å…³äºiPhone Xã€iOS 11 ã€Xcode9ï¼Œæˆ‘ä»¬åº”è¯¥çŸ¥é“è¿™äº›</a><br><a href="http://www.jianshu.com/p/18374fbdb972" target="_blank" rel="external">iOS11å°±é—®ä½ ä¸€å¥â€œæƒŠä¸æƒŠå–œï¼Ÿæ„ä¸æ„å¤–ï¼Ÿâ€5.8çš„è‹¦ç¬‘ã€‚ã€‚ã€‚ã€‚ã€‚</a><br><a href="http://www.cocoachina.com/ios/20170929/20683.html" target="_blank" rel="external">iOS11 é€‚é…ä¹‹å¯¼èˆªæ ã€tableViewã€searchBaré‡åˆ°çš„bug</a><br><a href="http://www.cocoachina.com/ios/20170915/20580.html" target="_blank" rel="external">ç®€ä¹¦Appé€‚é…iOS 11</a><br><a href="http://www.cocoachina.com/ios/20170925/20642.html" target="_blank" rel="external">10åˆ†é’Ÿé€‚é… iOS 11 &amp; iPhone X</a><br><a href="http://www.jianshu.com/p/b5067cbc6da3" target="_blank" rel="external">iOS11å¼€å‘ æ–°å¢åŠŸèƒ½å¤§å…¨</a><br><a href="https://juejin.im/post/59cf5a5c5188257e78531557" target="_blank" rel="external">iPhone X + iOS 11 é€‚é…æŒ‡å—</a></p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;iOS11æœ€ç»ˆè¿˜æ˜¯æ¥äº†, è¿™æ¬¡æ”¹ç‰ˆå±å¹•å°ºå¯¸, æ§ä»¶ç‰¹æ€§éƒ½æœ‰ä¸€äº›æ¯”è¾ƒå¤§çš„æ”¹å˜. ç½‘ä¸Šçœ‹çš„é—®é¢˜é›¶é›¶æ•£æ•£, ğŸ‘‡æ”¶é›†äº†ä¸€ä¸‹å¼€å‘ä¸­å‡ºç°çš„é—®é¢˜, æ•´ç†ä¸€ä¸‹, æ–¹ä¾¿ä¹‹åä½¿ç”¨.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1893416-a195c2b81590dd7f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;ç›®å½•æ¦‚è§ˆ&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://binzi56.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://binzi56.github.io/tags/iOS/"/>
    
      <category term="iOS11" scheme="https://binzi56.github.io/tags/iOS11/"/>
    
  </entry>
  
  <entry>
    <title>iOS Googleåœ°å›¾å¼€å‘å°ç»“(2017)</title>
    <link href="https://binzi56.github.io/2017/09/26/iOS-GoogleMap/"/>
    <id>https://binzi56.github.io/2017/09/26/iOS-GoogleMap/</id>
    <published>2017-09-26T15:06:29.000Z</published>
    <updated>2017-10-15T01:59:41.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘æ¥è§¦äº†ä¸€ä¸ªinternationalçš„é¡¹ç›®, ç”¨åˆ°Googleåœ°å›¾, åœ¨æ­¤ç¨å¾®æ€»ç»“ä¸€ä¸‹, æ–¹ä¾¿ä»¥åä½¿ç”¨;</p>
<h3 id="ä¸€-å‡†å¤‡å·¥ä½œ"><a href="#ä¸€-å‡†å¤‡å·¥ä½œ" class="headerlink" title="ä¸€. å‡†å¤‡å·¥ä½œ"></a>ä¸€. å‡†å¤‡å·¥ä½œ</h3><p>å¼€å‘Googleåœ°å›¾å½“ç„¶ç¦»ä¸å¼€ç¿»å¢™äº†, å…ˆåˆ†äº«å‡ ä¸ªå¥½ç”¨çš„å…è´¹ç¿»å¢™è½¯ä»¶:</p>
<h5 id="1-è½¯ä»¶"><a href="#1-è½¯ä»¶" class="headerlink" title="1.è½¯ä»¶:"></a>1.è½¯ä»¶:</h5><p><strong><a href="https://www.getlantern.org/en_US/" target="_blank" rel="external">lantern</a></strong><br>(For Window, Mac, Android, Ubuntu)</p>
<p><strong>LetsVPN</strong>(appStoreç›´æ¥ä¸‹è½½)<br>(For iOS)<br><a id="more"></a></p>
<h5 id="2-ç›¸å…³èµ„æ–™"><a href="#2-ç›¸å…³èµ„æ–™" class="headerlink" title="2.ç›¸å…³èµ„æ–™:"></a>2.ç›¸å…³èµ„æ–™:</h5><p><a href="https://developers.google.com/maps/documentation/ios-sdk/start?hl=zh-cn" target="_blank" rel="external">Googleåœ°å›¾API</a><br>å®˜æ–¹Googleåœ°å›¾API</p>
<p><a href="https://github.com/nfarina/calloutview" target="_blank" rel="external">SMCalloutView</a><br>è¿™ä¸ªæ˜¯ç‚¹å‡»å¤§å¤´é’ˆå¼¹å‡ºä¿¡æ¯æ¡†çš„è‡ªå®šä¹‰è§†å›¾, å®˜æ–¹åœ°å›¾è‡ªå®šä¹‰æœ‰å±€é™æ€§, ä¸‹é¢ğŸ‘‡ä¼šè®²åˆ°, ç¤ºä¾‹å¦‚å›¾:</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-0b21e2d562a95cc5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è‡ªå®šä¹‰è§†å›¾"></p>
<h3 id="äºŒ-å¼€å‘å†…å®¹"><a href="#äºŒ-å¼€å‘å†…å®¹" class="headerlink" title="äºŒ.å¼€å‘å†…å®¹"></a>äºŒ.å¼€å‘å†…å®¹</h3><p>å¯¹äºiOSå¼€å‘è€…, Googleåœ°å›¾æä¾›äº†ä¸¤ä¸ªå¼€å‘å…¥å£:<br><a href="https://developers.google.com/maps/documentation/ios-sdk/?hl=zh-cn" target="_blank" rel="external">Maps SDK for iOS</a><br>æ·»åŠ  Google åœ°å›¾</p>
<p><a href="https://developers.google.com/places/ios-api/?hl=zh-cn" target="_blank" rel="external">Places API for iOS</a><br>æ·»åŠ ä½ç½®çš„æœ€æ–°ä¿¡æ¯</p>
<h5 id="1-Places-API-for-iOS"><a href="#1-Places-API-for-iOS" class="headerlink" title="1.Places API for iOS"></a>1.Places API for iOS</h5><p>è¿™ä¸ªä¸€èˆ¬å¼€å‘Googleåœ°å›¾ç”¨ä¸åˆ°, ä¸è¿‡è¿˜æ˜¯ç®€å•è¯´ä¸€ä¸‹, å®˜æ–¹demoæˆªå›¾;</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-69497dbaa0b1ba8d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Places APIå®˜æ–¹demoæˆªå›¾"></p>
<p>section0: (Autocomplete)<br><img src="http://upload-images.jianshu.io/upload_images/1893416-84c46dcc2f1d7623.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Autocomplete"><br>Autocompleteä¸»è¦åŠŸèƒ½æ˜¯æœç´¢ç›¸å…³çš„ä½ç½®ä¿¡æ¯(æ–‡æœ¬æ–¹å¼);<br>é‡Œé¢è¿˜ä¼šå±•ç¤ºUISearchBar/UISearchViewControllerçš„å‡ ç§å‘ˆç°æ–¹æ³•, æ„Ÿå…´è¶£çš„å¯ä»¥çœ‹çœ‹;</p>
<p>section1: (Programmatic APIs)</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-658ab6980c184c22.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Programmatic APIs"><br>Programmatic APIsä¸»è¦å±•ç¤ºæœç´¢æˆ–æ‰€é€‰ç‚¹é™„è¿‘çš„ä¿¡æ¯(åœ°å›¾æ–¹å¼);</p>
<h5 id="2-Maps-SDK-for-iOS"><a href="#2-Maps-SDK-for-iOS" class="headerlink" title="2.Maps SDK for iOS"></a>2.Maps SDK for iOS</h5><p>é‡ç‚¹ä»‹ç»å†…å®¹, mark, markâ€¦.<br>è¿˜æ˜¯ä¸€æ ·, å…ˆçœ‹ä¸‹å®˜æ–¹demo, å¤§æ¦‚æµè§ˆä¸€ä¸‹Googleåœ°å›¾çš„åŠŸèƒ½;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">//åŸºæœ¬ç»„æˆéƒ¨åˆ†</div><div class="line">Map(åœ°å›¾): åŸºæœ¬çš„åœ°å›¾åˆ›å»º, ç»„ä»¶, ç±»åˆ«ç­‰;</div><div class="line">Panorama(å…¨æ™¯): å›ºå®š/å¯æ—‹è½¬çš„è¡—æ™¯;</div><div class="line">Overlays(è¦†ç›–ç‰©): åœ°å›¾è§†å›¾çš„è‡ªå®šä¹‰(åœ°å›¾å¤§å¤´é’ˆ, å¼¹å‡ºä¿¡æ¯æ¡†ç­‰);</div><div class="line">Camera(æ‘„åƒå¤´): å½“å‰åœ°å›¾çš„å¯è§†èŒƒå›´(è®¾ç½®æ‘„åƒå¤´ä¸­å¿ƒç‚¹åæ ‡ã€é•œå¤´ç¼©æ”¾æ¯”ä¾‹ã€æ–¹å‘ã€è§†è§’ç­‰);</div><div class="line">Services(æœåŠ¡): åœ°ç†ç¼–ç /é€†åœ°ç†ç¼–ç ;</div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-1d597406f6308d98.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Maps SDK Demos ç»“æ„æ¦‚è§ˆ"></p>
<h6 id="2-1-å¸¸ç”¨ç±»ä»‹ç»"><a href="#2-1-å¸¸ç”¨ç±»ä»‹ç»" class="headerlink" title="2.1 å¸¸ç”¨ç±»ä»‹ç»:"></a>2.1 å¸¸ç”¨ç±»ä»‹ç»:</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">GMSMapView æœ€ä¸»è¦çš„åœ°å›¾ç±»</div><div class="line">GMSCameraPosition åœ°å›¾æ‘„åƒå¤´ï¼Œå¯ä»¥ç†è§£ä¸ºå½“å‰åœ°å›¾çš„å¯è§†èŒƒå›´ï¼Œå¯ä»¥è·å–åˆ°æ‘„åƒå¤´ä¸­å¿ƒç‚¹åæ ‡ã€é•œå¤´ç¼©æ”¾æ¯”ä¾‹ã€æ–¹å‘ã€è§†è§’ç­‰å‚æ•°</div><div class="line">GMSMarker åœ°å›¾å¤§å¤´é’ˆ</div><div class="line">GMSGeocoder åå‘åœ°ç†ç¼–ç ç±»</div><div class="line">GMSAddress åå‘åœ°ç†ç¼–ç è¿”å›çš„ç±»,åŒ…å«åæ ‡åŠåœ°ç†ä½ç½®æè¿°ç­‰ä¿¡æ¯</div><div class="line">CLLocationManager å°±æ˜¯CoreLocationæ¡†æ¶ä¸‹çš„åœ°ç†ä½ç½®ç®¡ç†ç±»</div><div class="line">GMSAutocompleteFetcher æœç´¢è‡ªåŠ¨è¡¥å…¨æŠ“å–å™¨ï¼Œé€šè¿‡è¯¥ç±»çš„ä»£ç†æ–¹æ³•å®ç°æœç´¢è‡ªåŠ¨è¡¥å…¨</div></pre></td></tr></table></figure>
<h6 id="2-2-å¸¸ç”¨æ–¹æ³•ä»‹ç»"><a href="#2-2-å¸¸ç”¨æ–¹æ³•ä»‹ç»" class="headerlink" title="2.2 å¸¸ç”¨æ–¹æ³•ä»‹ç»:"></a>2.2 å¸¸ç”¨æ–¹æ³•ä»‹ç»:</h6><p><code>GMSMapViewDelegate</code>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">mapView:willMove: é•œå¤´å³å°†ç§»åŠ¨æ—¶è°ƒç”¨</div><div class="line">mapView:didChangeCameraPosition:é•œå¤´ç§»åŠ¨å®Œæˆåè°ƒç”¨mapView:didTapAtCoordinate: ç‚¹å‡»åœ°å›¾æ—¶è°ƒç”¨</div><div class="line">mapView:didLongPressAtCoordinate: é•¿æŒ‰åœ°å›¾æ—¶è°ƒç”¨</div><div class="line">mapView:didTapMarker: ç‚¹å‡»å¤§å¤´é’ˆæ—¶è°ƒç”¨</div><div class="line">mapView:didTapInfoWindowOfMarker: ç‚¹å‡»å¤§å¤´é’ˆçš„å¼¹å‡ºè§†çª—æ—¶è°ƒç”¨</div><div class="line">mapView:didLongPressInfoWindowOfMarker: é•¿æŒ‰å¤§å¤´é’ˆè§†çª—æ—¶è°ƒç”¨</div><div class="line">mapView:markerInfoWindow: è‡ªå®šä¹‰å¤§å¤´é’ˆå¼¹å‡ºè§†çª—ï¼Œè¿”å›UIView</div><div class="line">mapView:didCloseInfoWindowOfMarker: è‡ªå®šä¹‰å¤§å¤´é’ˆå¼¹å‡ºè§†çª—å…³é—­æ—¶è°ƒç”¨</div><div class="line">mapView:didDragMarker: æ‹–æ‹½å¤§å¤´é’ˆæ—¶è°ƒç”¨</div><div class="line">didTapMyLocationButtonForMapView: ç‚¹å‡»å®šä½å¤§å¤´é’ˆ, è¿”å›BOOLå€¼</div></pre></td></tr></table></figure></p>
<h6 id="2-3-Google-Maps-URL-æ¶æ„-å•ç‹¬ä»‹ç»ä¸€ä¸‹"><a href="#2-3-Google-Maps-URL-æ¶æ„-å•ç‹¬ä»‹ç»ä¸€ä¸‹" class="headerlink" title="2.3 Google Maps URL æ¶æ„(å•ç‹¬ä»‹ç»ä¸€ä¸‹):"></a>2.3 Google Maps URL æ¶æ„(å•ç‹¬ä»‹ç»ä¸€ä¸‹):</h6><p>ç¡®å®ä¸å›½å†…ä¸åŒ, Googleåœ°å›¾URLæ¶æ„æ²¡åœ¨demoä¸­ä»‹ç»;</p>
<h2 id="ğŸ‘‡ä»‹ç»ä¸€ä¸‹"><a href="#ğŸ‘‡ä»‹ç»ä¸€ä¸‹" class="headerlink" title="ğŸ‘‡ä»‹ç»ä¸€ä¸‹:"></a>ğŸ‘‡ä»‹ç»ä¸€ä¸‹:</h2><blockquote>
<p><strong><em>iOS ç‰ˆ Google Maps åº”ç”¨æ”¯æŒä»¥ä¸‹ URL æ¶æ„:</em></strong></p>
<ul>
<li><code>comgooglemaps://</code><br>å’Œ <code>comgooglemaps-x-callback://</code><br>â€“ è¿™äº›æ¶æ„å…è®¸æ‚¨å¯åŠ¨ iOS ç‰ˆ Google Maps åº”ç”¨ï¼Œå¹¶æ‰§è¡Œä¸‹åˆ—å‡ é¡¹æ“ä½œä¹‹ä¸€ï¼š<ul>
<li>ä»¥æŒ‡å®šçš„ç¼©æ”¾çº§åˆ«æ˜¾ç¤ºæŒ‡å®šä½ç½®çš„åœ°å›¾ã€‚</li>
<li>æœç´¢ä½ç½®æˆ–åœ°ç‚¹ï¼Œå¹¶å°†å®ƒä»¬æ˜¾ç¤ºåœ¨åœ°å›¾ä¸Šã€‚</li>
<li>è¯·æ±‚ä»ä¸€ä¸ªä½ç½®å‰å¾€å¦ä¸€ä¸ªä½ç½®çš„è·¯çº¿ã€‚ å¯ä»¥è¿”å›ä»¥ä¸‹å››ç§äº¤é€šæ–¹å¼çš„è·¯çº¿ï¼šé©¾è½¦ã€æ­¥è¡Œã€éª‘è‡ªè¡Œè½¦å’Œä¹˜åå…¬å…±äº¤é€šå·¥å…·ã€‚</li>
<li>å‘åº”ç”¨æ·»åŠ å¯¼èˆªã€‚</li>
<li>å½“åº”ç”¨å®Œæˆåï¼Œä½¿ç”¨ <a href="https://developers.google.com/maps/documentation/ios-sdk/urlscheme?hl=zh-cn#specify-a-callback-url" target="_blank" rel="external">comgooglemaps-x-callback://
</a> å‘å‡ºä¸€ä¸ªå›è°ƒã€‚ å›è°ƒç»å¸¸ç”¨æ¥ä½¿ç”¨æˆ·è¿”å›åˆ°æœ€åˆæ‰“å¼€ iOS ç‰ˆ Google Maps çš„åº”ç”¨ã€‚</li>
</ul>
</li>
<li><code>comgooglemapsurl://</code> â€“ æ­¤æ¶æ„å…è®¸æ‚¨ä½¿ç”¨ä»æ¡Œé¢ Google Maps ç½‘ç«™å¾—åˆ°çš„ URL å¯åŠ¨ iOS ç‰ˆ Google Maps åº”ç”¨ã€‚ è¿™æ„å‘³ç€æ‚¨å¯ä»¥ä¸ºç”¨æˆ·æä¾›åŸç”Ÿç§»åŠ¨ä½“éªŒï¼Œè€Œä¸æ˜¯ç®€å•åœ°åŠ è½½ Google Maps ç½‘ç«™ã€‚<ul>
<li>åŸå§‹ URL å¯ä»¥æ˜¯ maps.google.comï¼Œæˆ–è€… google.com/mapsï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä»»ä½•æœ‰æ•ˆçš„å›½å®¶ä»£ç é¡¶çº§åŸŸåæ¥ä»£æ›¿ comã€‚<ul>
<li>æ‚¨è¿˜å¯ä»¥ä¼ é€’ goo.gl/maps é‡å®šå‘ URLã€‚<br>æ‚¨å¯ä»¥å°† x-source å’Œ x-success å‚æ•°ä¸ comgooglemapsurl:// URL æ¶æ„ç»“åˆä½¿ç”¨æ¥å‘å‡ºå›è°ƒã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
</blockquote>
<p><strong>2.3.1 æ£€æŸ¥è®¾å¤‡ä¸Šæ˜¯å¦å·²å®‰è£… Google Maps åº”ç”¨;</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">if ([[UIApplication sharedApplication] canOpenURL:</div><div class="line">     [NSURL URLWithString:@&quot;comgooglemaps://&quot;]]) &#123;</div><div class="line">      //å·²å®‰è£…Googleåœ°å›¾APP</div><div class="line">&#125; else &#123;</div><div class="line">     //æœªå®‰è£…Googleåœ°å›¾APP</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>2.3.2 æ˜¾ç¤ºåœ°å›¾</strong><br><strong>å‚æ•°:</strong></p>
<ul>
<li><code>center</code>ï¼šè¿™æ˜¯åœ°å›¾è§†å£ä¸­å¿ƒç‚¹ã€‚ å…¶æ ¼å¼ä¸ºç”¨é€—å·åˆ†éš”çš„å­—ç¬¦ä¸² <code>latitude</code>,<code>longitude</code>ã€‚</li>
<li><code>mapmode</code>ï¼šè®¾ç½®æ‰€æ˜¾ç¤ºåœ°å›¾çš„ç§ç±»ã€‚ å¯ä»¥è®¾ç½®ä¸ºï¼šstandard æˆ– streetviewã€‚ å¦‚æœæœªæŒ‡å®šï¼Œåˆ™å°†ä½¿ç”¨å½“å‰çš„åº”ç”¨è®¾ç½®ã€‚</li>
<li><code>views</code>ï¼šå¼€å¯/å…³é—­ç‰¹å®šè§†å›¾ã€‚ å¯ä»¥è®¾ç½®ä¸ºï¼š<code>satellite</code>ã€<code>traffic</code> æˆ– <code>transit</code>ã€‚ å¯ä»¥ä½¿ç”¨é€—å·åˆ†éš”ç¬¦æ¥è®¾ç½®å¤šä¸ªå€¼ã€‚ å¦‚æœæŒ‡å®šäº†ä¸å¸¦ä»»ä½•å€¼çš„å‚æ•°ï¼Œé‚£ä¹ˆå°†æ¸…é™¤æ‰€æœ‰çš„è§†å›¾ã€‚</li>
<li><code>zoom</code>ï¼šæŒ‡å®šåœ°å›¾çš„ç¼©æ”¾çº§åˆ«ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//ç¤ºä¾‹ URLï¼Œå®ƒä»¥çº½çº¦ä¸ºä¸­å¿ƒã€é‡‡ç”¨ 14 çº§ç¼©æ”¾çº§åˆ«æ¥æ˜¾ç¤ºåœ°å›¾ï¼Œä¸”å¼€å¯äº†äº¤é€šè§†å›¾</div><div class="line">comgooglemaps://?center=40.765819,-73.975866&amp;zoom=14&amp;views=traffic</div></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>2.3.3 æœç´¢</strong><br><strong>å‚æ•°:</strong></p>
<ul>
<li><code>q</code>ï¼šç”¨äºæœç´¢çš„æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//ç¤ºä¾‹ URL ç”¨æ¥åœ¨æŒ‡å®šä½ç½®é™„è¿‘æœç´¢â€œPizza&quot;</div><div class="line">comgooglemaps://?q=Pizza&amp;center=37.759748,-122.427135</div></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>2.3.4 æ˜¾ç¤ºè·¯çº¿</strong><br><strong>å‚æ•°:</strong></p>
<ul>
<li><code>saddr</code>ï¼šè®¾ç½®è·¯çº¿æœç´¢çš„èµ·ç‚¹ã€‚ å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªçº¬åº¦ã€ç»åº¦æˆ–æŸ¥è¯¢æ ¼å¼çš„åœ°å€ã€‚ å¦‚æœå®ƒæ˜¯è¿”å›å¤šä¸ªç»“æœçš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼Œ å°†é€‰æ‹©ç¬¬ä¸€ä¸ªç»“æœã€‚ å¦‚æœè¯¥å€¼ç•™ç©ºï¼Œé‚£ä¹ˆå°†ä½¿ç”¨è¯¥ç”¨æˆ·çš„å½“å‰ä½ç½®ã€‚</li>
<li><code>daddr</code>ï¼šè®¾ç½®è·¯çº¿æœç´¢çš„ç»ˆç‚¹ã€‚ å…·æœ‰ä¸ <code>saddr</code> ç›¸åŒçš„æ ¼å¼å’Œè¡Œä¸ºã€‚</li>
<li><code>directionsmode</code>ï¼šäº¤é€šæ–¹å¼ã€‚ å¯ä»¥è®¾ç½®ä¸ºï¼š<code>driving</code>ã€<code>transit</code>ã€<code>bicycling</code> æˆ– <code>walking</code>ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// ç¤ºä¾‹ URL ç”¨æ¥æ˜¾ç¤º Google çº½çº¦åŠäº‹å¤„ä¸è‚¯å°¼è¿ªå›½é™…æœºåœºä¹‹é—´çš„äº¤é€šè·¯çº¿</div><div class="line">comgooglemaps://?saddr=Google+Inc,+8th+Avenue,+New+York,+NY&amp;daddr=John+F.+Kennedy+International+Airport,+Van+Wyck+Expressway,+Jamaica,+New+York&amp;directionsmode=transit</div></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>2.3.5 æŒ‡å®šå›è°ƒURL</strong><br><strong>å‚æ•°:</strong></p>
<ul>
<li><code>x-source</code> â€“ å‘é€ <code>x-callback</code> è¯·æ±‚çš„åº”ç”¨çš„åç§°ã€‚ æœ€å¥½ä½¿ç”¨çŸ­åç§°ã€‚</li>
<li><code>x-success</code> â€“ å®Œæˆæ—¶è°ƒç”¨çš„ URLã€‚ é€šå¸¸ï¼Œè¿™æ˜¯æ‚¨è‡ªå·±çš„åº”ç”¨çš„ URL æ¶æ„ï¼Œå¯ä»¥è®©ç”¨æˆ·è¿”å›åˆ°åŸæ¥çš„åº”ç”¨ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// ç¤ºä¾‹å°†å¯åŠ¨ iOS ç‰ˆ Google Maps åº”ç”¨ï¼Œå¹¶ä»¥çº½çº¦ä¸ºä¸­å¿ƒæ˜¾ç¤ºåœ°å›¾ã€‚ è¯¥åº”ç”¨è¿˜ä¼šæ˜¾ç¤ºæ ‡æœ‰â€œSourceAppâ€çš„æŒ‰é’®ã€‚ å½“ç‚¹å‡»â€œSourceAppâ€æŒ‰é’®æ—¶ï¼ŒiOS ç‰ˆ Google Maps åº”ç”¨å°†å‘å‡ºä¸€ä¸ªæŒ‡å‘è™šæ‹Ÿçš„ URL æ¶æ„çš„å›è°ƒï¼Œ sourceapp://?resume=true.</div><div class="line">comgooglemaps-x-callback://?center=40.765819,-73.975866&amp;zoom=14</div><div class="line">   &amp;x-success=sourceapp://?resume=true</div><div class="line">   &amp;x-source=SourceApp</div></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>2.3.6 å‘åº”ç”¨æ·»åŠ å¯¼èˆª</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">// ä»£ç å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ comgooglemaps-x-callback:// æ¶æ„æ¥è¯·æ±‚è·¯çº¿ï¼Œç„¶ååœ¨æ‚¨çš„ç”¨æˆ·å‡†å¤‡å°±ç»ªåè¿”å›åˆ°æ‚¨çš„åº”ç”¨ã€‚ è¯¥ä»£ç å°†æ‰§è¡Œä»¥ä¸‹æ“ä½œ</div><div class="line">NSURL *testURL = [NSURL URLWithString:@&quot;comgooglemaps-x-callback://&quot;];</div><div class="line">if ([[UIApplication sharedApplication] canOpenURL:testURL]) &#123;</div><div class="line">  NSString *directionsRequest = @&quot;comgooglemaps-x-callback://&quot; +</div><div class="line">      @&quot;?daddr=John+F.+Kennedy+International+Airport,+Van+Wyck+Expressway,+Jamaica,+New+York&quot; +</div><div class="line">      @&quot;&amp;x-success=sourceapp://?resume=true&amp;x-source=AirApp&quot;;</div><div class="line">  NSURL *directionsURL = [NSURL URLWithString:directionsRequest];</div><div class="line">  [[UIApplication sharedApplication] openURL:directionsURL];</div><div class="line">&#125; else &#123;</div><div class="line">  NSLog(@&quot;Can&apos;t use comgooglemaps-x-callback:// on this device.&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è¯¥ä»£ç å°†æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ul>
<li>éªŒè¯ comgooglemaps-x-callback:// URL æ¶æ„æ˜¯å¦å¯ç”¨ã€‚</li>
<li>å¯åŠ¨ iOS ç‰ˆ Google Maps åº”ç”¨ï¼Œå¹¶è¯·æ±‚å‰å¾€çº½çº¦å¸‚è‚¯å°¼è¿ªå›½é™…æœºåœºçš„è·¯çº¿ã€‚ å°†èµ·å§‹åœ°å€ç•™ç©ºå³å¯è¯·æ±‚ä»ç”¨æˆ·çš„å½“å‰ä½ç½®å‡ºå‘çš„è·¯çº¿ã€‚</li>
<li>å°†æ ‡è®°ä¸ºâ€œAirAppâ€çš„æŒ‰é’®æ·»åŠ åˆ° iOS ç‰ˆ Google Maps åº”ç”¨ä¸­ã€‚ è¯¥æŒ‰é’®æ ‡ç­¾ç”± x-source å‚æ•°å®šä¹‰ã€‚</li>
<li>å½“ç”¨æˆ·ç‚¹å‡»è¿”å›æŒ‰é’®æ—¶ï¼Œè°ƒç”¨è™šæ‹Ÿ URL æ¶æ„ sourceapp://,ã€‚</li>
</ul>
<h3 id="ä¸‰-é‡åˆ°çš„é—®é¢˜"><a href="#ä¸‰-é‡åˆ°çš„é—®é¢˜" class="headerlink" title="ä¸‰.é‡åˆ°çš„é—®é¢˜"></a>ä¸‰.é‡åˆ°çš„é—®é¢˜</h3><p>å¼€å‘ä¸­éš¾å…é‡åˆ°ä¸€äº›ç¨€å¥‡å¤æ€ªçš„é—®é¢˜, è¿™é‡Œå°±ç€æˆ‘é‡åˆ°çš„é—®é¢˜åˆ†äº«ä¸€ä¸‹;</p>
<p><strong>éœ€æ±‚:</strong><br>å®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„å¼¹çª—, è¦æ±‚ç‚¹å‡»å¼¹çª—å·¦è¾¹è§†å›¾è¿”å›ä¸Šä¸€é¡µ, ç‚¹å‡»å³è¾¹è§†å›¾è·³è½¬å¯¼èˆªåŠŸèƒ½;</p>
<p><strong>é—®é¢˜:</strong><br>åœ¨<code>mapView:markerInfoWindow:</code>ä¸­æˆ‘è‡ªå®šä¹‰äº†ä¸€ä¸ªæ°”æ³¡è§†å›¾, è§†å›¾å·¦å³å„ä¸€ä¸ªæŒ‰é’®, æŒ‰é’®çš„ç‚¹å‡»æ–¹æ³•è¢«å±è”½, åªå“åº”äº†æ•´ä¸ªæ°”æ³¡è§†å›¾çš„ç‚¹å‡»æ–¹æ³•(<code>mapView:didTapInfoWindowOfMarker:</code>);</p>
<p><strong>è§£å†³åŠæ³•:</strong><br>åœ¨è¯•äº†nä¸ªæ–¹æ³•å, ç»ˆäºè®©æˆ‘æ‰¾åˆ°äº†<a href="https://github.com/nfarina/calloutview" target="_blank" rel="external">SMCalloutView</a>, githubä¸Šçš„ä¸€ä¸ªè‡ªå®šä¹‰æ°”æ³¡çš„ä¸‰æ–¹, å¯ä»¥è‡ªç”±å®šä¹‰å·¦å³,ä¸­é—´, èƒŒæ™¯è§†å›¾, éå¸¸æ£’ğŸ‘, O(âˆ©_âˆ©)Oå“ˆå“ˆ~</p>
<p>é¦–å…ˆæ˜¯åŸºç¡€æ“ä½œ:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">#import &lt;SMCalloutView/SMCalloutView.h&gt;</div><div class="line"></div><div class="line">static const CGFloat CalloutYOffset = 10.0f;</div><div class="line"></div><div class="line">@interface ViewController ()</div><div class="line">@property (strong, nonatomic) SMCalloutView *calloutView;</div><div class="line">@property (strong, nonatomic) UIView *emptyCalloutView;</div><div class="line">@end</div></pre></td></tr></table></figure></p>
<p>ä¹‹ååˆå§‹åŒ–<code>SMCalloutView</code>, åˆ›å»ºä¸€ä¸ªç©ºView;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">- (void)viewDidLoad</div><div class="line">&#123;</div><div class="line">        self.calloutView = [[SMCalloutView alloc] init];</div><div class="line">    self.calloutView.contentView = [UIView new];</div><div class="line"></div><div class="line">    self.emptyCalloutView = [[UIView alloc] initWithFrame:CGRectZero];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>å…¶æ¬¡æ˜¯GMSMapViewDelegateé‡Œé¢çš„è®¾ç½®:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line">- (UIView *)mapView:(GMSMapView *)mapView markerInfoWindow:(GMSMarker *)marker &#123;</div><div class="line">    CLLocationCoordinate2D anchor = marker.position;</div><div class="line"></div><div class="line">    CGPoint point = [mapView.projection pointForCoordinate:anchor];</div><div class="line"></div><div class="line">    self.calloutView.calloutOffset = CGPointMake(0, -CalloutYOffset);</div><div class="line"></div><div class="line">    //SMCalloutViewä¸­contentView</div><div class="line">    UIView *googleTipView = [UIView alloc] initWithFrame:CGRectMake(0, 0, 200, 50);</div><div class="line"></div><div class="line">    //å·¦æ–¹æŒ‰é’®</div><div class="line">    UIButton *leftButton = [[UIButton alloc] initWithFrame:CGRectMake(0, 0, 100, 50)];</div><div class="line">    [googleTipView addSubview:bView];</div><div class="line">    [leftButton addTarget:self action:@selector(leftButtonClick:) forControlEvents:UIControlEventTouchUpInside];</div><div class="line"></div><div class="line">    //å³æ–¹æŒ‰é’®</div><div class="line">    UIButton *rightButton = [[UIButton alloc] initWithFrame:CGRectMake(100, 0, 100, 50)];</div><div class="line">    [googleTipView addSubview:bView];</div><div class="line">    [rightButton addTarget:self action:@selector(rightButtonClick:) forControlEvents:UIControlEventTouchUpInside];</div><div class="line"></div><div class="line">    //å–æ¶ˆé»˜è®¤èƒŒæ™¯</div><div class="line">    SMCalloutBackgroundView *calloutBgView = [[SMCalloutBackgroundView alloc] initWithFrame:CGRectZero];</div><div class="line"></div><div class="line">    self.calloutView.backgroundView = calloutBgView;</div><div class="line">    self.calloutView.contentView = googleTipView;</div><div class="line"></div><div class="line">    self.calloutView.hidden = NO;</div><div class="line"></div><div class="line">    CGRect calloutRect = CGRectZero;</div><div class="line">    calloutRect.origin = point;</div><div class="line">    calloutRect.size = CGSizeZero;</div><div class="line"></div><div class="line">    [self.calloutView presentCalloutFromRect:calloutRect</div><div class="line">                                      inView:mapView</div><div class="line">                           constrainedToView:mapView</div><div class="line">                                    animated:YES];</div><div class="line"></div><div class="line">    return self.emptyCalloutView;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)mapView:(GMSMapView *)pMapView didChangeCameraPosition:(GMSCameraPosition *)position &#123;</div><div class="line">    if (pMapView.selectedMarker != nil &amp;&amp; !self.calloutView.hidden) &#123;</div><div class="line">        CLLocationCoordinate2D anchor = [pMapView.selectedMarker position];</div><div class="line"></div><div class="line">        CGPoint arrowPt = self.calloutView.backgroundView.arrowPoint;</div><div class="line">        CGPoint pt = [pMapView.projection pointForCoordinate:anchor];</div><div class="line">        pt.x -= arrowPt.x;</div><div class="line">        pt.y -= arrowPt.y + CalloutYOffset;</div><div class="line"></div><div class="line">        self.calloutView.frame = (CGRect) &#123;.origin = pt, .size = self.calloutView.frame.size &#125;;</div><div class="line">    &#125; else &#123;</div><div class="line">        self.calloutView.hidden = YES;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)mapView:(GMSMapView *)mapView didTapAtCoordinate:(CLLocationCoordinate2D)coordinate &#123;</div><div class="line">    self.calloutView.hidden = YES;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (BOOL)mapView:(GMSMapView *)mapView didTapMarker:(GMSMarker *)marker &#123;</div><div class="line">    mapView.selectedMarker = marker;</div><div class="line">    return YES;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>ç»“æœå°±å¯ä»¥åœ¨ç‚¹å‡»æ–¹æ³•é‡Œé¢å°½æƒ…çš„è°ƒç”¨äº†:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">//å·¦è¾¹æŒ‰é’®ç‚¹å‡»æ–¹æ³•</div><div class="line">- (void)leftButtonClick:(UIButton *)button&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line">//å³è¾¹æŒ‰é’®ç‚¹å‡»æ–¹æ³•</div><div class="line">- (void)rightButtonClick:(UIButton *)button&#123;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>æœ€åæ„Ÿè°¢è¿™ä½ç½‘å‹çš„åˆ†äº«, é™„ä¸Šé“¾æ¥:<br><a href="https://stackoverflow.com/questions/15267183/custom-annotation-view-in-google-maps-sdk" target="_blank" rel="external">stackoverflowç½‘å‹çš„åˆ†äº«</a></p>
<p>å…³äºGoogleåœ°å›¾å¼€å‘:<br><a href="http://www.jianshu.com/p/dc7d267d63d0" target="_blank" rel="external">iOS Googleåœ°å›¾SDKå…¥é—¨æ•™ç¨‹</a><br><a href="http://www.jianshu.com/p/2a1bf192e496" target="_blank" rel="external">iOSï¼ï¼è°·æ­Œåœ°å›¾ç›¸å…³åŠŸèƒ½çš„å®ç°</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ€è¿‘æ¥è§¦äº†ä¸€ä¸ªinternationalçš„é¡¹ç›®, ç”¨åˆ°Googleåœ°å›¾, åœ¨æ­¤ç¨å¾®æ€»ç»“ä¸€ä¸‹, æ–¹ä¾¿ä»¥åä½¿ç”¨;&lt;/p&gt;
&lt;h3 id=&quot;ä¸€-å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;a href=&quot;#ä¸€-å‡†å¤‡å·¥ä½œ&quot; class=&quot;headerlink&quot; title=&quot;ä¸€. å‡†å¤‡å·¥ä½œ&quot;&gt;&lt;/a&gt;ä¸€. å‡†å¤‡å·¥ä½œ&lt;/h3&gt;&lt;p&gt;å¼€å‘Googleåœ°å›¾å½“ç„¶ç¦»ä¸å¼€ç¿»å¢™äº†, å…ˆåˆ†äº«å‡ ä¸ªå¥½ç”¨çš„å…è´¹ç¿»å¢™è½¯ä»¶:&lt;/p&gt;
&lt;h5 id=&quot;1-è½¯ä»¶&quot;&gt;&lt;a href=&quot;#1-è½¯ä»¶&quot; class=&quot;headerlink&quot; title=&quot;1.è½¯ä»¶:&quot;&gt;&lt;/a&gt;1.è½¯ä»¶:&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://www.getlantern.org/en_US/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;lantern&lt;/a&gt;&lt;/strong&gt;&lt;br&gt;(For Window, Mac, Android, Ubuntu)&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;LetsVPN&lt;/strong&gt;(appStoreç›´æ¥ä¸‹è½½)&lt;br&gt;(For iOS)&lt;br&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://binzi56.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://binzi56.github.io/tags/iOS/"/>
    
      <category term="objective-c" scheme="https://binzi56.github.io/tags/objective-c/"/>
    
  </entry>
  
  <entry>
    <title>ionicéš¾ç‚¹é—®é¢˜æ•´ç†(æŒç»­æ›´æ–°)</title>
    <link href="https://binzi56.github.io/2017/09/09/ionic-diffict-problems/"/>
    <id>https://binzi56.github.io/2017/09/09/ionic-diffict-problems/</id>
    <published>2017-09-09T06:59:57.000Z</published>
    <updated>2017-09-26T15:15:57.000Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1-iOSç«¯é•¿æ•°å­—è‡ªåŠ¨è¯†åˆ«ä¸ºç”µè¯ï¼Œé¢œè‰²å˜è“"><a href="#1-iOSç«¯é•¿æ•°å­—è‡ªåŠ¨è¯†åˆ«ä¸ºç”µè¯ï¼Œé¢œè‰²å˜è“" class="headerlink" title="1. iOSç«¯é•¿æ•°å­—è‡ªåŠ¨è¯†åˆ«ä¸ºç”µè¯ï¼Œé¢œè‰²å˜è“"></a>1. iOSç«¯é•¿æ•°å­—è‡ªåŠ¨è¯†åˆ«ä¸ºç”µè¯ï¼Œé¢œè‰²å˜è“</h4><p>h5:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;data.mobilePhone&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>æ•ˆæœå›¾:<br><img src="http://upload-images.jianshu.io/upload_images/1893416-962251f0d28d2750.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç³»ç»Ÿé»˜è®¤æ•ˆæœ"><br><a id="more"></a><br>è§£å†³åŠæ³•:<br>index.htmlçš„headä¸­åŠ å…¥ä»£ç ğŸ‘‡:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"format-detection"</span> <span class="attr">content</span>=<span class="string">"telephone=no"</span> /&gt;</span></div></pre></td></tr></table></figure></p>
<p>å¤„ç†åæ•ˆæœå›¾:<br><img src="http://upload-images.jianshu.io/upload_images/1893416-549065ac7a10197c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å¤„ç†åæ•ˆæœå›¾"></p>
<h4 id="2-ion-radioè®¾ç½®é€‰ä¸­-ä¸å¯ç”¨æ ·å¼"><a href="#2-ion-radioè®¾ç½®é€‰ä¸­-ä¸å¯ç”¨æ ·å¼" class="headerlink" title="2. ion-radioè®¾ç½®é€‰ä¸­/ä¸å¯ç”¨æ ·å¼"></a>2. ion-radioè®¾ç½®é€‰ä¸­/ä¸å¯ç”¨æ ·å¼</h4><p><strong>è®¾ç½®å•é€‰æ¡†é€‰ä¸­æ ·å¼:</strong>(ä»…ä»¥èƒŒæ™¯é¢œè‰²ä¸ºä¾‹)<br>css:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.item-radio</span> <span class="selector-tag">input</span><span class="selector-pseudo">:checked</span> + <span class="selector-class">.radio-content</span> <span class="selector-class">.item-content</span> &#123;</div><div class="line">  <span class="attribute">background</span>: <span class="number">#5cbaf0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>è®¾ç½®å•é€‰æ¡†ä¸å¯ç”¨çš„æ ·å¼:</strong>(ä»…ä»¥èƒŒæ™¯é¢œè‰²ä¸ºä¾‹)<br>css:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.item-radio</span> <span class="selector-tag">input</span><span class="selector-pseudo">:disabled</span> + <span class="selector-class">.radio-content</span> <span class="selector-class">.item-content</span> &#123;</div><div class="line">  <span class="attribute">background</span>: <span class="number">#5cbaf0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>é™„:<br><a href="https://docs.angularjs.org/api/ng/input/input%5Bradio%5D" target="_blank" rel="external">ion-radio API</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;1-iOSç«¯é•¿æ•°å­—è‡ªåŠ¨è¯†åˆ«ä¸ºç”µè¯ï¼Œé¢œè‰²å˜è“&quot;&gt;&lt;a href=&quot;#1-iOSç«¯é•¿æ•°å­—è‡ªåŠ¨è¯†åˆ«ä¸ºç”µè¯ï¼Œé¢œè‰²å˜è“&quot; class=&quot;headerlink&quot; title=&quot;1. iOSç«¯é•¿æ•°å­—è‡ªåŠ¨è¯†åˆ«ä¸ºç”µè¯ï¼Œé¢œè‰²å˜è“&quot;&gt;&lt;/a&gt;1. iOSç«¯é•¿æ•°å­—è‡ªåŠ¨è¯†åˆ«ä¸ºç”µè¯ï¼Œé¢œè‰²å˜è“&lt;/h4&gt;&lt;p&gt;h5:&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&amp;#123;&amp;#123;data.mobilePhone&amp;#125;&amp;#125;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;p&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ•ˆæœå›¾:&lt;br&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1893416-962251f0d28d2750.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;ç³»ç»Ÿé»˜è®¤æ•ˆæœ&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="ionic" scheme="https://binzi56.github.io/categories/ionic/"/>
    
    
      <category term="ionic" scheme="https://binzi56.github.io/tags/ionic/"/>
    
  </entry>
  
  <entry>
    <title>ä¸ºä»€ä¹ˆæˆ‘å–œæ¬¢ç”¨SDAutoLayout</title>
    <link href="https://binzi56.github.io/2017/09/02/iOS-SDAutoLayout/"/>
    <id>https://binzi56.github.io/2017/09/02/iOS-SDAutoLayout/</id>
    <published>2017-09-02T05:40:59.000Z</published>
    <updated>2017-09-02T06:00:51.000Z</updated>
    
    <content type="html"><![CDATA[<p>åŸºæœ¬çš„é€‚é…æ–¹æ³•å°±ä¸åšä»‹ç»äº†, ğŸ‘‡ä¸»è¦ä»‹ç»ä¸€äº›ä¸ªäººè®¤ä¸ºçš„SDAutoLayouté€‚é…äº®ç‚¹;</p>
<h3 id="äº®ç‚¹1â€”â€”-UILabel"><a href="#äº®ç‚¹1â€”â€”-UILabel" class="headerlink" title="äº®ç‚¹1â€”â€” UILabel"></a>äº®ç‚¹1â€”â€” UILabel</h3><blockquote>
<p>1.1 labelè®¾ç½®æœ€å¤§å®½åº¦ä¸è¡Œæ•°</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-877a4ea704dbbae7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="testLabelè®¾ç½®æœ€å¤§å®½åº¦ä¸è¡Œæ•°"></p>
<p>testLabelè®¾ç½®æœ€å¤§å®½åº¦ä¸è¡Œæ•°:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">_testLabel.text = @&quot;è¿‘æ®µæ—¶é—´ï¼Œäººæ°‘å¸å‡ºç°å¿«é€Ÿå‡å€¼ï¼Œåˆ°åº•æ˜¯å› ä¸ºäººæ°‘å¸â€œè‡ªå¼ºäº†â€ï¼Œè¿˜æ˜¯ç¾å…ƒâ€œå¼±çˆ†äº†â€ï¼Ÿå¯¹æ¯”ç¾å…ƒæŒ‡æ•°è·Œå¹…ä¸äººæ°‘å¸å¯¹ç¾å…ƒå‡å¹…ï¼Œä¸éš¾å‘ç°ï¼Œç¾å…ƒèµ°å¼±ä¾æ—§æ˜¯æ¨åŠ¨äººæ°‘å¸å…‘ç¾å…ƒæ±‡ç‡å‡å€¼çš„ä¸»è¦åŸå› ã€‚&quot;;</div><div class="line"></div><div class="line">_testLabel.sd_layout</div><div class="line">.topSpaceToView(self.view, 50)</div><div class="line">.leftSpaceToView(self.view, 20)</div><div class="line">.autoHeightRatio(0);</div><div class="line"></div><div class="line">// è®¾ç½®æœ€å¤§å®½åº¦</div><div class="line">[_testLabel setSingleLineAutoResizeWithMaxWidth:200];</div><div class="line"></div><div class="line">// è®¾ç½®æœ€å¤§è¡Œæ•°</div><div class="line">[_testLabel setMaxNumberOfLinesToShow:3];</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<blockquote>
<p>1.2 labelå¯Œæ–‡æœ¬è‡ªé€‚åº”</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-b246fb68699c7001.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="testLabelå¯Œæ–‡æœ¬è‡ªé€‚åº”"></p>
<p>testLabelå¯Œæ–‡æœ¬è‡ªé€‚åº”:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">NSString *contentStr = @&quot;è¿‘æ®µæ—¶é—´ï¼Œäººæ°‘å¸å‡ºç°å¿«é€Ÿå‡å€¼ï¼Œåˆ°åº•æ˜¯å› ä¸ºäººæ°‘å¸â€œè‡ªå¼ºäº†â€ï¼Œè¿˜æ˜¯ç¾å…ƒâ€œå¼±çˆ†äº†â€ï¼Ÿå¯¹æ¯”ç¾å…ƒæŒ‡æ•°è·Œå¹…ä¸äººæ°‘å¸å¯¹ç¾å…ƒå‡å¹…ï¼Œä¸éš¾å‘ç°ï¼Œç¾å…ƒèµ°å¼±ä¾æ—§æ˜¯æ¨åŠ¨äººæ°‘å¸å…‘ç¾å…ƒæ±‡ç‡å‡å€¼çš„ä¸»è¦åŸå› ã€‚&quot;;</div><div class="line"></div><div class="line">NSMutableParagraphStyle *paragraphStyle = [[NSMutableParagraphStyle alloc] init];</div><div class="line">[paragraphStyle setLineSpacing:10];</div><div class="line">UIColor *color = [UIColor whiteColor];</div><div class="line">NSAttributedString *contentString = [[NSAttributedString alloc] initWithString:contentStr attributes:@&#123;NSForegroundColorAttributeName : color, NSParagraphStyleAttributeName: paragraphStyle&#125;];</div><div class="line"></div><div class="line"></div><div class="line">_testLabel.attributedText = contentString;</div><div class="line"></div><div class="line">_testLabel.sd_layout</div><div class="line">.leftSpaceToView(self.view, 20)</div><div class="line">.rightSpaceToView(self.view, 20)</div><div class="line">.topSpaceToView(self.view, 100)</div><div class="line">.autoHeightRatio(0);</div><div class="line"></div><div class="line">// åªéœ€æ‰§è¡Œè¿™æ­¥ä»£ç , å³å¯é€‚é…å¯Œæ–‡æœ¬</div><div class="line">_testLabel.isAttributedContent = YES;</div></pre></td></tr></table></figure></p>
<h3 id="äº®ç‚¹2â€”â€”-UIButton"><a href="#äº®ç‚¹2â€”â€”-UIButton" class="headerlink" title="äº®ç‚¹2â€”â€” UIButton"></a>äº®ç‚¹2â€”â€” UIButton</h3><blockquote>
<p>2.1 buttoné‡Œçš„titleLabelå’ŒimageViewå¯ä»¥åˆ†å¼€é€‚é…</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-35c02f01dd06757d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="testButtonçš„titleLabelå’ŒimageViewåˆ†å¼€é€‚é…"></p>
<p>testButtonä»£ç :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">_testButton.sd_layout</div><div class="line">.centerXEqualToView(self.view)</div><div class="line">.centerYEqualToView(self.view)</div><div class="line">.widthIs(200)</div><div class="line">.heightIs(200);</div><div class="line"></div><div class="line">_testButton.imageView.sd_layout</div><div class="line">.topSpaceToView(_testButton, 20)</div><div class="line">.centerXEqualToView(_testButton)</div><div class="line">.widthIs(100)</div><div class="line">.heightIs(100);</div><div class="line"></div><div class="line">_testButton.imageView.layer.cornerRadius = 50;</div><div class="line">_testButton.imageView.layer.masksToBounds = YES;</div><div class="line"></div><div class="line">_testButton.titleLabel.sd_layout</div><div class="line">.bottomSpaceToView(_testButton, 20)</div><div class="line">.centerXEqualToView(_testButton)</div><div class="line">.leftSpaceToView(_testButton, 20)</div><div class="line">.rightSpaceToView(_testButton, 20)</div><div class="line">.heightIs(40);</div></pre></td></tr></table></figure></p>
<blockquote>
<p>2.2 buttonæ ¹æ®æ–‡å­—å†…å®¹è‡ªé€‚åº”å¤§å°</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-52f70969c09b85c0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="testButtonæ ¹æ®æ–‡å­—å†…å®¹è‡ªé€‚åº”"></p>
<p>testButtonæ–‡å­—è‡ªé€‚åº”:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[_testButton setTitle:@&quot;testButtonæ–‡å­—è‡ªé€‚åº”&quot; forState:UIControlStateNormal];</div><div class="line"></div><div class="line">_testButton.sd_layout</div><div class="line">.centerXEqualToView(self.view)</div><div class="line">.topSpaceToView(self.view, 200);</div><div class="line"></div><div class="line">// è®¾ç½®buttonæ ¹æ®æ–‡å­—sizeè‡ªé€‚åº”</div><div class="line">[_testButton setupAutoSizeWithHorizontalPadding:5 buttonHeight:24];</div></pre></td></tr></table></figure></p>
<h3 id="äº®ç‚¹3â€”â€”-UIScrollView"><a href="#äº®ç‚¹3â€”â€”-UIScrollView" class="headerlink" title="äº®ç‚¹3â€”â€” UIScrollView"></a>äº®ç‚¹3â€”â€” UIScrollView</h3><blockquote>
<p>3.1 scrollViewè®¾ç½®ç±»ä¼¼äºcollectionViewå¸ƒå±€æ•ˆæœ</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-0574b50f46b39fa9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç±»ä¼¼collectionViewå¸ƒå±€æ•ˆæœ"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">// æ·»åŠ scrollview</div><div class="line">- (void)setupScrollView</div><div class="line">&#123;</div><div class="line">    UIScrollView *scroll = [UIScrollView new];</div><div class="line">    [self.view addSubview:scroll];</div><div class="line">    _testScrollView = scroll;</div><div class="line"></div><div class="line">    // è®¾ç½®scrollviewä¸çˆ¶viewçš„è¾¹è·</div><div class="line">    scroll.sd_layout.spaceToSuperView(UIEdgeInsetsZero);</div><div class="line"></div><div class="line">    [self setupFlowItemContentView];</div><div class="line"></div><div class="line">    // è®¾ç½®scrollviewçš„contentsizeè‡ªé€‚åº”</div><div class="line">    [scroll setupAutoContentSizeWithBottomView:_flowItemContentView bottomMargin:10];</div><div class="line">&#125;</div><div class="line"></div><div class="line">// æ·»åŠ flowItemContentView</div><div class="line">- (void)setupFlowItemContentView</div><div class="line">&#123;</div><div class="line">    _flowItemContentView = [UIView new];</div><div class="line">    _flowItemContentView.backgroundColor = [[UIColor lightGrayColor] colorWithAlphaComponent:0.4];</div><div class="line">    [_testScrollView addSubview:_flowItemContentView];</div><div class="line"></div><div class="line">    _flowItemContentView.sd_layout</div><div class="line">    .leftEqualToView(_testScrollView)</div><div class="line">    .rightEqualToView(_testScrollView)</div><div class="line">    .topEqualToView(_testScrollView);</div><div class="line"></div><div class="line">    [self setupFlowItemViews];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)setupFlowItemViews</div><div class="line">&#123;</div><div class="line">    NSMutableArray *temp = [NSMutableArray new];</div><div class="line">    for (int i = 0; i &lt; 35; i++) &#123;</div><div class="line">        UIView *view = [UIView new];</div><div class="line">        view.backgroundColor = [self randomColor];</div><div class="line">        [_flowItemContentView addSubview:view];</div><div class="line">        view.sd_layout.autoHeightRatio(0.8);</div><div class="line">        [temp addObject:view];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    // å…³é”®æ­¥éª¤ï¼šè®¾ç½®ç±»ä¼¼collectionViewçš„å±•ç¤ºæ•ˆæœ</div><div class="line">    [_flowItemContentView setupAutoWidthFlowItems:[temp copy] withPerRowItemsCount:4 verticalMargin:20 horizontalMargin:10 verticalEdgeInset:0 horizontalEdgeInset:0];</div><div class="line"></div><div class="line">//    [_flowItemContentView setupAutoMarginFlowItems:[temp copy] withPerRowItemsCount:10 itemWidth:60 verticalMargin:20 verticalEdgeInset:10 horizontalEdgeInset:0];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>3.2  å¤æ‚é¡µé¢scrollViewè‡ªé€‚åº”</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-0e3e48f35bbbd675.gif?imageMogr2/auto-orient/strip" alt="å¤æ‚é¡µé¢scrollViewè‡ªé€‚åº”"></p>
<h3 id="äº®ç‚¹4â€”â€”-UITableView"><a href="#äº®ç‚¹4â€”â€”-UITableView" class="headerlink" title="äº®ç‚¹4â€”â€” UITableView"></a>äº®ç‚¹4â€”â€” UITableView</h3><p>tableViewçš„cellè‡ªé€‚åº”, è‡ªå¸¦æ–¹æ³•è§£å†³;<br>ä¸»è¦æœ‰ä¸‰ç‚¹éœ€è¦æ³¨æ„:<br>a. åœ¨tableViewçš„<code>cellForRowAtIndexPath:</code>æ–¹æ³•ä¸­èµ‹å€¼;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cell.model = model;</div></pre></td></tr></table></figure></p>
<p>b. <code>heightForRowAtIndexPath:</code>é‡Œè®¡ç®—è¡Œé«˜;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">return [self.tableView cellHeightForIndexPath:indexPath model:model keyPath:@&quot;model&quot; cellClass:currentClass contentViewWidth:[self cellContentViewWith]];</div></pre></td></tr></table></figure></p>
<p>c. cellä¸­é€‚é…çš„æ—¶å€™è®¾ç½®åº•éƒ¨è¾¹ç•Œ;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// å½“ä½ ä¸ç¡®å®šå“ªä¸ªviewåœ¨è‡ªåŠ¨å¸ƒå±€ä¹‹åä¼šæ’å¸ƒåœ¨cellæœ€ä¸‹æ–¹çš„æ—¶å€™å¯ä»¥è°ƒç”¨æ¬¡æ–¹æ³•å°†æ‰€æœ‰å¯èƒ½åœ¨æœ€ä¸‹æ–¹çš„viewéƒ½ä¼ è¿‡å»</div><div class="line">[self setupAutoHeightWithBottomViewsArray:@[_titleLabel, _imageView] bottomMargin:margin];</div></pre></td></tr></table></figure></p>
<p>è€Œä¸”ä¸å…‰å¦‚æ­¤, è¿˜åŠ å…¥äº†ç¼“å­˜é«˜åº¦çš„è®¾ç½®;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// æ­¤æ­¥è®¾ç½®ç”¨äºå®ç°cellçš„frameç¼“å­˜ï¼Œå¯ä»¥è®©tableviewæ»‘åŠ¨æ›´åŠ æµç•…</div><div class="line">    [cell useCellFrameCacheWithIndexPath:indexPath tableView:tableView];</div></pre></td></tr></table></figure></p>
<p>æ˜¯ä¸æ˜¯æ¯”è¾ƒè´´å¿ƒå‘¢, å½“ç„¶é‡Œé¢è¿˜æœ‰ä¸€äº›å…¶ä»–æ–¹æ³•, å°±ä¸ä¸€ä¸€åˆ—ä¸¾, é™„ä¸Šå®˜æ–¹demoé“¾æ¥, å¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©;<br><strong><a href="https://github.com/gsdios/SDAutoLayout" target="_blank" rel="external">SDAutoLayout</a></strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åŸºæœ¬çš„é€‚é…æ–¹æ³•å°±ä¸åšä»‹ç»äº†, ğŸ‘‡ä¸»è¦ä»‹ç»ä¸€äº›ä¸ªäººè®¤ä¸ºçš„SDAutoLayouté€‚é…äº®ç‚¹;&lt;/p&gt;
&lt;h3 id=&quot;äº®ç‚¹1â€”â€”-UILabel&quot;&gt;&lt;a href=&quot;#äº®ç‚¹1â€”â€”-UILabel&quot; class=&quot;headerlink&quot; title=&quot;äº®ç‚¹1â€”â€” UILabel&quot;&gt;&lt;/a&gt;äº®ç‚¹1â€”â€” UILabel&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;1.1 labelè®¾ç½®æœ€å¤§å®½åº¦ä¸è¡Œæ•°&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1893416-877a4ea704dbbae7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;testLabelè®¾ç½®æœ€å¤§å®½åº¦ä¸è¡Œæ•°&quot;&gt;&lt;/p&gt;
&lt;p&gt;testLabelè®¾ç½®æœ€å¤§å®½åº¦ä¸è¡Œæ•°:&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;_testLabel.text = @&amp;quot;è¿‘æ®µæ—¶é—´ï¼Œäººæ°‘å¸å‡ºç°å¿«é€Ÿå‡å€¼ï¼Œåˆ°åº•æ˜¯å› ä¸ºäººæ°‘å¸â€œè‡ªå¼ºäº†â€ï¼Œè¿˜æ˜¯ç¾å…ƒâ€œå¼±çˆ†äº†â€ï¼Ÿå¯¹æ¯”ç¾å…ƒæŒ‡æ•°è·Œå¹…ä¸äººæ°‘å¸å¯¹ç¾å…ƒå‡å¹…ï¼Œä¸éš¾å‘ç°ï¼Œç¾å…ƒèµ°å¼±ä¾æ—§æ˜¯æ¨åŠ¨äººæ°‘å¸å…‘ç¾å…ƒæ±‡ç‡å‡å€¼çš„ä¸»è¦åŸå› ã€‚&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;_testLabel.sd_layout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;.topSpaceToView(self.view, 50)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;.leftSpaceToView(self.view, 20)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;.autoHeightRatio(0);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// è®¾ç½®æœ€å¤§å®½åº¦&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;[_testLabel setSingleLineAutoResizeWithMaxWidth:200];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;// è®¾ç½®æœ€å¤§è¡Œæ•°&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;[_testLabel setMaxNumberOfLinesToShow:3];&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://binzi56.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://binzi56.github.io/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>iOSæ€§èƒ½ä¼˜åŒ–---tableViewæ‡’åŠ è½½å›¾ç‰‡</title>
    <link href="https://binzi56.github.io/2017/07/07/iOS-tableView-image/"/>
    <id>https://binzi56.github.io/2017/07/07/iOS-tableView-image/</id>
    <published>2017-07-07T08:47:39.000Z</published>
    <updated>2017-07-07T09:16:59.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://ospquvjh2.bkt.clouddn.com/17-7-7/422937.jpg" alt=""><br>å…³äºtableViewçš„æ€§èƒ½ä¼˜åŒ–é—®é¢˜ä¸€ç›´éƒ½æ˜¯iOSå¼€å‘è€…å¿…å¤‡çš„ä¸€é¡¹ä¼˜åŒ–æŠ€èƒ½, å¯ä»¥å¥½ä¸å¤¸å¼ çš„è¯´, appé‡Œé¢åŠæ•°ä»¥ä¸Šçš„é¡µé¢éƒ½éœ€è¦ç”¨åˆ°tableView; å¯¹äºå®ƒçš„ä¼˜åŒ–ç½‘å‹ä¹Ÿæ€»ç»“çš„éå¸¸è¯¦ç»†, é„™äººå°±ä¸è¯¦ç»†è§£é‡Šäº†, é™„ä¸ªé“¾æ¥:<br><a href="http://www.jianshu.com/p/478b9424ec9b" target="_blank" rel="external">å…³äºtableviewçš„ä¼˜åŒ–</a></p>
<h2 id=""><a href="#" class="headerlink" title=""></a><a id="more"></a></h2><p>æœ¬æ–‡ä¸»è¦ä»‹ç»ä¸€ä¸‹å¦‚ä½•åœ¨tableViewä¸­å®ç°æ‡’åŠ è½½å›¾ç‰‡, åˆ«æ€ªæˆ‘å¤šå˜´, ä¸€äº›åˆå­¦è€…å¯¹æ‡’åŠ è½½çš„å°è±¡å¯èƒ½æ˜¯è¿™æ ·çš„:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">@interface ViewController()</div><div class="line">@property (nonatomic,strong) NSMutableArray *lazyLoadArr;</div><div class="line">@end</div><div class="line">@implementation ViewController</div><div class="line">- (NSMutableArray *)lazyLoadArr</div><div class="line">&#123;</div><div class="line">    if (!_lazyLoadArr) &#123;</div><div class="line">        _lazyLoadArr = [NSMutableArray array];</div><div class="line">    &#125;</div><div class="line">    return _lazyLoadArr;</div><div class="line">&#125;</div><div class="line">@end</div></pre></td></tr></table></figure></p>
<p>å®ä¾‹ä¸­å®šä¹‰äº†ä¸€ä¸ªæ‡’åŠ è½½çš„å¯å˜æ•°ç»„, é‡å†™æ•°ç»„çš„getteræ–¹æ³•, åœ¨è¯¥æ–¹æ³•ä¸­åˆ¤æ–­æ˜¯å¦å­˜åœ¨<code>lazyLoadArr</code>, å¦‚æœå­˜åœ¨å°±è¿”å›, ä¸å­˜åœ¨å°±åˆå§‹åŒ–, è¿™æ ·ä¿è¯æ•°ç»„åªåŠ è½½äº†ä¸€æ¬¡; è€Œè¿™ä¸ªåªæ˜¯æ‡’åŠ è½½ä¸­æ¯”è¾ƒå¸¸è§çš„ä¸€ç§ç”¨æ³•;<br>é‚£ä¹ˆä»€ä¹ˆæ˜¯æ‡’åŠ è½½å‘¢?</p>
<blockquote class="blockquote-center"><strong>æ‡’åŠ è½½</strong>ä¹Ÿå«<strong>å»¶è¿ŸåŠ è½½</strong>, æˆ–è€…é€šä¿—æ¥è®²å°±æ˜¯<strong>ç”¨åˆ°æ—¶å†å»åŠ è½½å¯¹è±¡</strong></blockquote>

<p>ä¹Ÿå°±æ˜¯è¯´ç”¨åˆ°è¿™ç§æ€æƒ³çš„åŸºæœ¬ä¸Šéƒ½å±äºæ‡’åŠ è½½;</p>
<hr>
<p>å…¶å®åœ¨tableViewæ‡’åŠ è½½å›¾ç‰‡ä¹Ÿæ˜¯appä¸­æ¯”è¾ƒå¸¸è§çš„åŠŸèƒ½; å®ƒå¯ä»¥å¯ä»¥å‡è½»æœåŠ¡å™¨çš„å‹åŠ›, èŠ‚çº¦æµé‡, æé«˜é¡µé¢çš„åŠ è½½é€Ÿåº¦ç­‰ç­‰, è´¹è¿™ä¹ˆå¤§åŠ²å„¿, æœ€ç»ˆä¹Ÿæ˜¯ä¸ºäº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ;<br>å…ˆé™„ä¸Šå®ç°æ•ˆæœå›¾, è®©å¤§å®¶æ„Ÿå—ä¸€ä¸‹:</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-b3eef803d21197a4.gif?imageMogr2/auto-orient/strip" alt="æ•ˆæœå›¾.gif"><br>è¿™ä¸ªä¾‹å­èŠ‚é€‰è‡ªè‹¹æœçš„å®˜æ–¹ä¾‹å­LazyTableImageså®ç°å›¾ç‰‡æ‡’åŠ è½½;<br><a href="https://developer.apple.com/library/content/samplecode/LazyTableImages/Introduction/Intro.html#//apple_ref/doc/uid/DTS40009394" target="_blank" rel="external">LazyTableImagesä¸‹è½½</a></p>
<p>OK, ç°åœ¨æˆ‘ä»¬å¼€å§‹å‰–æä¸€ä¸‹ä»£ç ;<br>é™„ä¸Šå·¥ç¨‹ç›®å½•:</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-1a1201fce24801bc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å·¥ç¨‹ç›®å½•.png"></p>
<p>é¦–å…ˆè¯´ä¸€ä¸‹ç»†èŠ‚éƒ¨åˆ†, å…¶å®ä¹Ÿä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜, ç•™æ„ä¸€ä¸‹:<br>â‘ å·¥ç¨‹é‡Œé¢çš„AppDelegateç±»è¢«æ›¿æ¢æˆLazyTableAppDelegate, å…¶å®åœ¨å‡½æ•°å…¥å£main.mæ›¿æ¢ä¸‹ç±»å°±è¡Œ;<br>â‘¡pchæ–‡ä»¶å¯¼å…¥äº†Foundation, UIKitæ¡†æ¶å…¨å±€è°ƒç”¨, æ‰€ä»¥å‡ºç°äº†ä»¥ä¸‹æƒ…å†µ:</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-d80fea8b4712be69.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="AppRecord.h"></p>
<p>ä¸€èˆ¬å¯¹å¯¹è±¡çš„åŸºç¡€æ“ä½œéƒ½æ”¾åœ¨äº†Foundation.h, ä¸ºäº†æ–¹ä¾¿, é€šå¸¸ä¹Ÿå°±ç›´æ¥å¼•å…¥<foundation foundation.h="">;</foundation></p>
<h4 id="æ•°æ®è¯·æ±‚"><a href="#æ•°æ®è¯·æ±‚" class="headerlink" title="æ•°æ®è¯·æ±‚"></a>æ•°æ®è¯·æ±‚</h4><p>ä¸ºäº†å‡å°‘æ•°æ®å»¶è¿ŸåŠ è½½çš„å¡é¡¿æ„Ÿ, demoé‡Œç›´æ¥æŠŠæ•°æ®è¯·æ±‚å†™åœ¨äº†LazyTableAppDelegateæ–‡ä»¶ä¸­; é€‰ä¸€å°æ®µä»£ç è¯´ä¸€ä¸‹:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">__weak ParseOperation *weakParser = self.parser;</div><div class="line">self.parser.completionBlock = ^(void) &#123;</div><div class="line">    [UIApplication sharedApplication].networkActivityIndicatorVisible = NO;</div><div class="line">    if (weakParser.appRecordList != nil)</div><div class="line">    &#123;</div><div class="line">        dispatch_async(dispatch_get_main_queue(), ^&#123;</div><div class="line">            RootViewController *rootViewController =</div><div class="line">                (RootViewController*)[(UINavigationController*)weakSelf.window.rootViewController topViewController];</div><div class="line">            rootViewController.entries = weakParser.appRecordList;</div><div class="line">            [rootViewController.tableView reloadData];</div><div class="line">        &#125;);</div><div class="line">    &#125;</div><div class="line">    weakSelf.queue = nil;</div><div class="line">&#125;;</div><div class="line">[self.queue addOperation:self.parser];</div></pre></td></tr></table></figure></p>
<ul>
<li>blockå¾ªç¯å¼•ç”¨é—®é¢˜, è¿™ä¸ªç»å¸¸é‡åˆ°, å°±ä¸å¤šè¯´äº†;</li>
<li>æ•°æ®è¯·æ±‚æ˜¯åœ¨å­çº¿ç¨‹é‡Œè¿›è¡Œäº†, ç„¶è€Œè¦æƒ³å¯¹UIè¿›è¡Œæ“ä½œ, éœ€è¦å›åˆ°ä¸»çº¿ç¨‹, åˆ·æ–°æ•°æ®;</li>
<li>å¯¹äº<code>networkActivityIndicatorVisible</code>,  è¿™ä¸ªæ˜¯UIApplicationçš„ä¸€ä¸ªå±æ€§, ç”¨äºåœ¨çŠ¶æ€æ ä¸Šæ˜¾ç¤ºèŠèŠ±è½¬çš„å›¾æ ‡ï¼Œè¡¨æ˜ç½‘ç»œçŠ¶æ€,  è€Œæˆ‘ä»¬å¹³å¸¸éƒ½æ˜¯ç”¨MBæˆ–è€…SVPæ¥è¡¨ç¤ºç½‘ç»œåŠ è½½çš„, æœ‰å¯èƒ½æ²¡è§è¿‡, è¯´æ˜ä¸€ä¸‹;</li>
</ul>
<h4 id="UIéƒ¨åˆ†-tableView"><a href="#UIéƒ¨åˆ†-tableView" class="headerlink" title="UIéƒ¨åˆ†(tableView)"></a>UIéƒ¨åˆ†(tableView)</h4><p>çœ‹äº†ç¤ºæ„å›¾æˆ‘ä»¬å‘ç°åªæœ‰åœ¨tableViewæ¾å¼€çš„æ—¶å€™æ‰åŠ è½½å›¾ç‰‡, é‚£è¿™ä¸ªæ˜¯æ€ä¹ˆå®ç°çš„å‘¢, æˆ‘ä»tableViewçš„<code>cellForRowAtIndexPath:</code>ä»£ç†æ–¹æ³•ä¸­é€‰äº†ä¸€æ®µä»£ç :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">if (!appRecord.appIcon)</div><div class="line">   &#123;</div><div class="line">       if (self.tableView.dragging == NO &amp;&amp; self.tableView.decelerating == NO)</div><div class="line">       &#123;</div><div class="line">           [self startIconDownload:appRecord forIndexPath:indexPath];</div><div class="line">       &#125;</div><div class="line">       cell.imageView.image = [UIImage imageNamed:@&quot;Placeholder.png&quot;];</div><div class="line">   &#125;</div><div class="line">   else</div><div class="line">   &#123;</div><div class="line">      cell.imageView.image = appRecord.appIcon;</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p>
<p>å½“æ²¡æœ‰ä¸‹è½½å¥½çš„å›¾ç‰‡, å³<code>!appRecord.appIcon</code>æ—¶, åˆ¤æ–­æ˜¯å¦åœæ­¢æ‹–æ‹½(<code>self.tableView.dragging == NO</code>)æˆ–è€…åŠ é€Ÿåº¦ä¸º0(<code>self.tableView.decelerating == NO</code>), éƒ½æ»¡è¶³çš„è¯å°±ä¸‹è½½å›¾ç‰‡, è¿™æ ·å°±å®ç°äº†å›¾ç¤ºæ•ˆæœ;<br>ä½†æ˜¯å…‰è¿™æ ·å¤„ç†æ˜¯ä¸å¤Ÿçš„, å¦‚æœè¿ç»­æ‹–åŠ¨, ä¸è®©tableViewåœæ­¢, é‡Œé¢çš„å›¾ç‰‡æ˜¯ç©ºçš„, æ‰€ä»¥è¿˜è¦è¿›è¡Œä¸‹é¢çš„æ“ä½œ:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">- (void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate</div><div class="line">&#123;</div><div class="line">    if (!decelerate)</div><div class="line">	&#123;</div><div class="line">        [self loadImagesForOnscreenRows];</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView</div><div class="line">&#123;</div><div class="line">    [self loadImagesForOnscreenRows];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>ç”±äºtableViewç»§æ‰¿äº†scrollView, æ‰€ä»¥æ‰åœ¨<code>dragging</code>å’Œ<code>decelerating</code>ç»“æŸçš„æ—¶å€™åŠ è½½å›¾ç‰‡, æœ€ç»ˆå®ç°äº†å›¾ç¤ºæ•ˆæœ;</p>
<h4 id="ä¼˜åŒ–äº®ç‚¹"><a href="#ä¼˜åŒ–äº®ç‚¹" class="headerlink" title="ä¼˜åŒ–äº®ç‚¹"></a>ä¼˜åŒ–äº®ç‚¹</h4><h5 id="ä¸€-å›¾ç‰‡åœ†è§’ä¼˜åŒ–"><a href="#ä¸€-å›¾ç‰‡åœ†è§’ä¼˜åŒ–" class="headerlink" title="ä¸€. å›¾ç‰‡åœ†è§’ä¼˜åŒ–"></a>ä¸€. å›¾ç‰‡åœ†è§’ä¼˜åŒ–</h5><p>ä¸€èˆ¬åœ¨å¼€å‘ä¸­æˆ‘ä»¬æ˜¯è¿™æ ·ç»™å›¾ç‰‡åˆ‡åœ†è§’çš„:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">myImage.layer.cornerRadius = 50;</div><div class="line">myImage.layer.masksToBounds = YES;</div></pre></td></tr></table></figure></p>
<p>å…¶ä¸­<code>masksToBounds(CALayer)</code>è¡¨ç¤ºè§†å›¾çš„å›¾å±‚ä¸Šçš„å­å›¾å±‚,å¦‚æœè¶…å‡ºçˆ¶å›¾å±‚çš„éƒ¨åˆ†å°±æˆªå–æ‰ï¼›è¿˜æœ‰<code>clipsToBounds(UIView)</code>ï¼Œæ˜¯æŒ‡è§†å›¾ä¸Šçš„å­è§†å›¾,å¦‚æœè¶…å‡ºçˆ¶è§†å›¾çš„éƒ¨åˆ†å°±æˆªå–æ‰ã€‚<br>åœ¨iOS9.0ä¹‹å‰è¿™æ ·è®¾ç½®ä¼šè§¦å‘ç¦»å±æ¸²æŸ“ï¼Œæ¯”è¾ƒæ¶ˆè€—æ€§èƒ½ã€‚å°¤å…¶æ˜¯tableViewä¸­(å¤„ç†äº†å¤§é‡å›¾ç‰‡)ï¼Œä¼šæ˜æ˜¾çš„æ„Ÿåˆ°é¡µé¢æœ‰è½»å¾®å¡é¡¿ã€‚<br>é‚£è¦æ€ä¹ˆå¤„ç†å‘¢, ä¸€èˆ¬æˆ‘ä»¬ç”¨Core Graphicsç»˜åˆ¶åœ†è§’, é™„ä¸Šå·¥ç¨‹é‡Œçš„ä»£ç :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">CGSize itemSize = CGSizeMake(kAppIconSize, kAppIconSize);</div><div class="line">UIGraphicsBeginImageContextWithOptions(itemSize, NO, 0.0f);</div><div class="line">CGRect imageRect = CGRectMake(0.0, 0.0, itemSize.width, itemSize.height);</div><div class="line">[image drawInRect:imageRect];</div><div class="line">self.appRecord.appIcon = UIGraphicsGetImageFromCurrentImageContext();</div><div class="line">UIGraphicsEndImageContext();</div></pre></td></tr></table></figure></p>
<h5 id="äºŒ-modelçš„å°æŠ€å·§"><a href="#äºŒ-modelçš„å°æŠ€å·§" class="headerlink" title="äºŒ. modelçš„å°æŠ€å·§"></a>äºŒ. modelçš„å°æŠ€å·§</h5><p>æˆ‘ä»¬å‘ç°åœ¨å·¥ç¨‹ä¸­, æ— è®ºå¯¹äºtableViewæ¥è¯´, è¿˜æ˜¯ä¸‹è½½å›¾ç‰‡æ¥è¯´, éƒ½æ˜¯å¯¹åŒä¸€ä¸ªå¯¹è±¡è¿›è¡Œæ“ä½œ, demoä¸­æŠŠtableViewæ•°æ®é‡Œé¢çš„å¯¹è±¡æ‰©å±•äº†ä¸‹é¢è¿™ä¸¤æ¡å±æ€§:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">@property (nonatomic, strong) UIImage *appIcon;</div><div class="line">@property (nonatomic, strong) NSString *imageURLString;</div></pre></td></tr></table></figure></p>
<p>è¿™æ ·æˆ‘ä»¬å»ä¸‹è½½å›¾ç‰‡çš„æ—¶å€™, åªéœ€è¦ä¼ è¿›å»ä¸€ä¸ªAppRecordç±»çš„å¯¹è±¡, è¿”å›æ¥ä¹Ÿæ˜¯åŒä¸€ä¸ªå¯¹è±¡:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"> // å°†ä¸‹è½½å®Œæˆçš„ç½‘ç»œå›¾ç‰‡çš„dataå€¼ä¼ ç»™è¿™ä¸ªå¯¹è±¡</div><div class="line">UIImage *image = [[UIImage alloc] initWithData:data];</div><div class="line">self.appRecord.appIcon = image;</div></pre></td></tr></table></figure></p>
<p>æœ‰äººè¦é—®äº†åªæ˜¯ç®€åŒ–äº†ä¼ å…¥çš„æ•°æ®å˜›, æ²¡ä»€ä¹ˆç‰¹åˆ«çš„, ä½†æ˜¯ä½ ç»†çœ‹tableViewé‡Œé¢<code>cellForRowAtIndexPath</code>æ–¹æ³•å°±ä¼šå‘ç°, è¿™æ ·åšæ—¢ç®€åŒ–äº†é€»è¾‘åˆ¤æ–­, åˆæ˜“äºç†è§£, å› ä¸ºæ˜¯åŒä¸€ä¸ªå¯¹è±¡;<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">AppRecord *appRecord = (self.entries)[indexPath.row];</div><div class="line">  if (!appRecord.appIcon)         //  ç®€ä¾¿çš„åˆ¤æ–­æ¡ä»¶</div><div class="line">        &#123;</div><div class="line">            if (self.tableView.dragging == NO &amp;&amp; self.tableView.decelerating == NO)</div><div class="line">            &#123;</div><div class="line">                [self startIconDownload:appRecord forIndexPath:indexPath];</div><div class="line">            &#125;</div><div class="line">            cell.imageView.image = [UIImage imageNamed:@&quot;Placeholder.png&quot;];</div><div class="line">        &#125;</div><div class="line">        else</div><div class="line">        &#123;</div><div class="line">           cell.imageView.image = appRecord.appIcon;</div><div class="line">        &#125;</div></pre></td></tr></table></figure></p>
<p>è¿™ä¸ªæ€æƒ³çœŸæ˜¯ä¸ç”±å¾—è®©è€é“åŒå‡»666å•Š, éå¸¸æ£’ğŸ‘;</p>
<p>å¥½çš„, è¿™æ¬¡å°±åˆ†äº«é‚£ä¹ˆå¤š, ä»¥åè¿˜å¾—ç ”ç©¶æ›´å¤šæ›´æ·±çš„æºç , åŠ æ²¹â›½ï¸;</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://ospquvjh2.bkt.clouddn.com/17-7-7/422937.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;å…³äºtableViewçš„æ€§èƒ½ä¼˜åŒ–é—®é¢˜ä¸€ç›´éƒ½æ˜¯iOSå¼€å‘è€…å¿…å¤‡çš„ä¸€é¡¹ä¼˜åŒ–æŠ€èƒ½, å¯ä»¥å¥½ä¸å¤¸å¼ çš„è¯´, appé‡Œé¢åŠæ•°ä»¥ä¸Šçš„é¡µé¢éƒ½éœ€è¦ç”¨åˆ°tableView; å¯¹äºå®ƒçš„ä¼˜åŒ–ç½‘å‹ä¹Ÿæ€»ç»“çš„éå¸¸è¯¦ç»†, é„™äººå°±ä¸è¯¦ç»†è§£é‡Šäº†, é™„ä¸ªé“¾æ¥:&lt;br&gt;&lt;a href=&quot;http://www.jianshu.com/p/478b9424ec9b&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å…³äºtableviewçš„ä¼˜åŒ–&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;headerlink&quot; title=&quot;&quot;&gt;&lt;/a&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://binzi56.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://binzi56.github.io/tags/iOS/"/>
    
      <category term="æ€§èƒ½ä¼˜åŒ–" scheme="https://binzi56.github.io/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>ã€ŠAngularJsæƒå¨æŒ‡å—ã€‹å­¦ä¹ ç¬”è®°---æŒ‡ä»¤</title>
    <link href="https://binzi56.github.io/2017/07/03/angularjs-bookNote/"/>
    <id>https://binzi56.github.io/2017/07/03/angularjs-bookNote/</id>
    <published>2017-07-03T08:45:16.000Z</published>
    <updated>2017-07-03T06:14:49.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ooo.0o0.ooo/2017/06/30/5956101095606.png" alt="ã€ŠAngularJsæƒå¨æŒ‡å—ã€‹"><br>è®°å¾—æœ€å¼€å§‹å­¦ä¹ ionicæ··åˆå¼€å‘çš„æ—¶å€™, æœ‹å‹ä»¬éƒ½æ¨èæˆ‘å…ˆå­¦å­¦angular.js, ç„¶åå†çœ‹ionicæ¡†æ¶çš„ä¸œè¥¿; ç°åœ¨æƒ³æ¥ä¹Ÿç¡®å®, ionicæ¡†æ¶åŸºæœ¬éƒ½æ˜¯UIç›¸å…³çš„çŸ¥è¯†, å¹¶ä¸éš¾, è€Œé¡µé¢é‡Œé¢æ¶‰åŠåˆ°angular.jsçš„å„ç§é€»è¾‘æ‰æ˜¯çœŸæ­£èƒ½è®©ä¸€ä¸ªäººæˆä¸ºå¤§ç‰›çš„çŸ¥è¯†;</p>
<p>é€‰è¿™æœ¬ä¹¦å°±æ˜¯å› ä¸ºæœ‹å‹ä»¬éƒ½æ¨èè¿™æœ¬, è€Œä¸”è®²çš„è¿˜ä¸é”™, æœ€é‡è¦çš„æ˜¯ä»–ä»¬æœ‰èµ„æº, O(âˆ©_âˆ©)Oå“ˆå“ˆ~</p>
<p>é¦–å…ˆä»‹ç»ä¸€ä¸‹æœ¬ä¹¦ä¸­å…³äºæŒ‡ä»¤çš„çŸ¥è¯†ç»“æ„:</p>
<p><img src="https://ooo.0o0.ooo/2017/06/30/595622359f429.png" alt="AngularJsæƒå¨æŒ‡å—ä¹‹æŒ‡ä»¤æ€ç»´å¯¼å›¾"><br><a id="more"></a></p>
<h4 id="ä¸€-æŒ‡ä»¤ç®€ä»‹"><a href="#ä¸€-æŒ‡ä»¤ç®€ä»‹" class="headerlink" title="ä¸€. æŒ‡ä»¤ç®€ä»‹"></a>ä¸€. æŒ‡ä»¤ç®€ä»‹</h4><p>ç”¨è¿‡HTMLçš„éƒ½çŸ¥é“, å¾€å¾€åœ¨å®ç°ä¸€äº›ç‰¹æ®ŠåŠŸèƒ½çš„æ—¶å€™, åŸæœ‰çš„HTMLæ ‡ç­¾å¹¶ä¸å®Œå…¨èƒ½æ»¡è¶³è®¾è®¡è¦æ±‚, è¿™æ—¶å€™æŒ‡ä»¤å°±æ´¾ä¸Šç”¨åœºäº†; æŒ‡ä»¤æœ¬è´¨ä¸Šå°±æ˜¯æ‰©å±•ä¸€äº›è‡ªå®šä¹‰çš„HTMLå…ƒç´ ä»¥å®ç°ä¸€äº›ç‰¹å®šçš„åŠŸèƒ½;</p>
<h4 id="äºŒ-å†…ç½®æŒ‡ä»¤"><a href="#äºŒ-å†…ç½®æŒ‡ä»¤" class="headerlink" title="äºŒ. å†…ç½®æŒ‡ä»¤"></a>äºŒ. å†…ç½®æŒ‡ä»¤</h4><p>AngularJSäº‹å®ä¸Šä¹Ÿæ˜¯åœ¨åŸç”ŸJSçš„åŸºç¡€ä¸Šè¿›è¡Œä¸€äº›æ‰©å±•å’Œä¼˜åŒ–, è‡ªç„¶å°±ä¼šåŒ…æ‹¬ä¸€äº›è‡ªå®šä¹‰çš„å†…ç½®æŒ‡ä»¤; é™¤äº†formå’Œaç­‰ä¸€äº›é‡è½½äº†åŸç”Ÿçš„HTMLå…ƒç´ , å…¶ä»–çš„å†…ç½®æŒ‡ä»¤é€šå¸¸ä»¥ngä½œä¸ºå‰ç¼€; è¿™æ ·åšçš„ç›®çš„ä¹Ÿæ˜¯å¯¹åŸç”Ÿçš„ä¸€ç§ä¼˜åŒ–, æ¯”å¦‚å¸¸ç”¨çš„hrefæŒ‡ä»¤, æ— è®ºé‡Œé¢çš„é“¾æ¥æ˜¯å¯ç”¨è¿˜æ˜¯, ä¸å¯ç”¨çš„, å½“è°ƒç”¨hrefçš„æ—¶å€™, å°±ä¼šç›´æ¥è¿”å›è°ƒç”¨ç»“æœ; è€Œng-hrefæŒ‡ä»¤åˆ™æ˜¯å½“é‡Œé¢çš„è¡¨è¾¾å¼è°ƒç”¨å¹¶ä¸”è¿”å›ä¸€ä¸ªå€¼çš„æ—¶å€™æ‰å¼€å¯, å¦åˆ™ä¼šæ˜¯ä¸€ä¸ªç¦ç”¨çŠ¶æ€; å½“ç„¶æ—¢ç„¶äººå®¶å®˜æ–¹ç”¨ngè¿™ä¸ªå‰ç¼€, ä½ å°±ä¸è¦è·Ÿäººå®¶æŠ¢äº†, æ¢ä¸€ä¸ª, å¤§å®¶å’Œè°ä¸€ç‚¹å„¿;</p>
<p>æœ‰ç½‘å‹æ€»ç»“äº†ä¸€ä¸‹AngularJSçš„å†…ç½®æŒ‡ä»¤, ä¸€å…±æœ‰63ä¸ª;</p>
<p><img src="https://ooo.0o0.ooo/2017/07/02/595868ba9db00.png" alt=""></p>
<p>ç®€å•ä»‹ç»ä¸€ä¸‹formæŒ‡ä»¤:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></div><div class="line">First name:<span class="tag">&lt;/<span class="name">br</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"firstname"</span> <span class="attr">value</span>=<span class="string">"huo"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">Last name:<span class="tag">&lt;/<span class="name">br</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"lastname"</span> <span class="attr">value</span>=<span class="string">"yu"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Submit"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>æ•ˆæœå›¾:</p>
<p><img src="https://ooo.0o0.ooo/2017/07/02/59586ae064bcd.png" alt=""></p>
<p>è¦æ³¨æ„ä¸€ä¸‹å‡ ç‚¹:</p>
<ul>
<li>HTMLåŸç”Ÿçš„formè¡¨å•æ˜¯ä¸èƒ½åµŒå¥—çš„, ä½†Angularå°è£…åå¯ä»¥åµŒå¥—</li>
<li>Angularä¸ºformæ‰©å±•äº†è‡ªåŠ¨æ ¡éªŒ, é˜²æ­¢é‡å¤æäº¤ç­‰åŠŸèƒ½</li>
<li>Angularå¯¹inputå…ƒç´ çš„typeè¿›è¡Œäº†äº†æ‰©å±•, ä¸€å…±æä¾›ä¸€ä¸‹10ä¸­ç±»å‹:<br>text, number, url, email, radio, checkbox, hidden, button, submit, reset;</li>
<li>Angularä¸ºè¡¨å•å†…ç½®äº†4ç§CSSæ ·å¼<br>ng-valid, ng-invalid, ng-pristine, ng-dirty;</li>
<li>å†…ç½®æ ¡éªŒå™¨: require, minlength, maxlength</li>
</ul>
<h4 id="ä¸‰-æŒ‡ä»¤è¯¦è§£"><a href="#ä¸‰-æŒ‡ä»¤è¯¦è§£" class="headerlink" title="ä¸‰. æŒ‡ä»¤è¯¦è§£"></a>ä¸‰. æŒ‡ä»¤è¯¦è§£</h4><h5 id="1-æŒ‡ä»¤å®šä¹‰"><a href="#1-æŒ‡ä»¤å®šä¹‰" class="headerlink" title="1. æŒ‡ä»¤å®šä¹‰"></a>1. æŒ‡ä»¤å®šä¹‰</h5><p>æœ¬ä¹¦ä¸­å¯¹æŒ‡ä»¤çš„å®šä¹‰æ˜¯åœ¨ç‰¹å®šDOMå…ƒç´ ä¸Šè¿è¡Œçš„å‡½æ•°, æŒ‡ä»¤å¯ä»¥æ‰©å±•è¿™ä¸ªå…ƒç´ çš„åŠŸèƒ½;<br>åœ¨Angularä¸­æ˜¯é€šè¿‡directive()è¿™ä¸ªæ¨¡å—æ¥å®šä¹‰æŒ‡ä»¤çš„;è€Œdirective()å¯ä»¥æ¥å—ä¸¤ä¸ªå‚æ•°:</p>
<ul>
<li>name<br>æŒ‡ä»¤çš„åå­—</li>
<li>factory_function(å‡½æ•°)<br>è¿™ä¸ªå‡½æ•°å®šä¹‰äº†æŒ‡ä»¤çš„è¡Œä¸º<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"> angular.application(<span class="string">'myApp'</span>, [])</div><div class="line">     .directive(<span class="string">'myDirective'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">     <span class="comment">//  ä¸€ä¸ªæŒ‡ä»¤å®šä¹‰å¯¹è±¡</span></div><div class="line">     <span class="keyword">return</span> &#123;</div><div class="line">             <span class="comment">//  é€šè¿‡è®¾ç½®é¡¹æ¥å®šä¹‰æŒ‡ä»¤, åœ¨è¿™é‡Œè¿›è¡Œå¡«å†™</span></div><div class="line">            &#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
<p>åœ¨HTMLä¸­è°ƒç”¨å°±è¡Œ:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">my-directive</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h5 id="2-æŒ‡ä»¤å‡½æ•°ä»‹ç»"><a href="#2-æŒ‡ä»¤å‡½æ•°ä»‹ç»" class="headerlink" title="2. æŒ‡ä»¤å‡½æ•°ä»‹ç»"></a>2. æŒ‡ä»¤å‡½æ•°ä»‹ç»</h5><p><strong>2.1 restrict(å­—ç¬¦ä¸²)</strong></p>
<p><img src="https://ooo.0o0.ooo/2017/07/02/5958743024814.png" alt=""></p>
<p>è¿™äº›é€‰é¡¹å¯ä»¥å•ç‹¬ä½¿ç”¨, ä¹Ÿå¯ä»¥æ··åˆä½¿ç”¨;</p>
<p><strong>2.2 ä¼˜å…ˆçº§(æ•°å€¼å‹)</strong><br>ç”±äºè€ƒè™‘åˆ°æ€§èƒ½é—®é¢˜, ngRepeatè¢«è®¾ç½®æˆæ‰€æœ‰å†…ç½®æŒ‡ä»¤ä¸­ä¼˜å…ˆçº§æœ€é«˜çš„; å½“ç„¶å¦‚æœä¸¤ä¸ªå…ƒç´ çš„ä¼˜å…ˆçº§ä¸€æ ·, ä¼šæ‰§è¡Œå…ˆå£°æ˜çš„é‚£ä¸ª;</p>
<p><strong>2.3 terminal(å¸ƒå°”å‹)</strong><br>å®ƒç”¨æ¥å‘Šè¯‰AngularJsåœæ­¢è¿è¡Œå½“å‰å…ƒç´ ä¸Šæ¯”æœ¬æŒ‡ä»¤ä¼˜å…ˆçº§ä½çš„æŒ‡ä»¤, ä½†å½“ä¼˜å…ˆçº§ç›¸åŒçš„æƒ…å†µè¿˜æ˜¯ä¼šè¿è¡Œ;<br>ä¾‹å¦‚:ngViewå’ŒngIf, ngIfçš„ä¼˜å…ˆçº§ç•¥é«˜äºngView, å¦‚æœngIfè¡¨è¾¾å¼ä¸ºtrue, ngViewå°±å¯ä»¥è¢«æ­£å¸¸æ‰§è¡Œ; ä½†å¦‚æœngIfçš„è¡¨è¾¾å¼ä¸ºfalse, ngViewå°±ä¸ä¼šè¢«æ‰§è¡Œ;</p>
<p><strong>2.4 template(å­—ç¬¦ä¸²æˆ–å‡½æ•°)</strong><br>templateå‚æ•°å¿…é¡»è¢«è®¾ç½®æˆä»¥ä¸‹ä¸¤ç§å½¢å¼ä¹‹ä¸€:</p>
<ul>
<li>ä¸€æ®µHTMLæ–‡æœ¬</li>
<li>ä¸€ä¸ªå¯ä»¥æ¥å—ä¸¤ä¸ªå‚æ•°çš„çš„å‡½æ•°, å‚æ•°ä¸ºtElementå’ŒtAttrs, å¹¶è¿”å›ä¸€ä¸ªä»£è¡¨æ¨¡æ¿çš„å­—ç¬¦ä¸²;</li>
</ul>
<p><strong>2.5 templateUrl(å­—ç¬¦ä¸²æˆ–å‡½æ•°)</strong><br>templateUrlå‚æ•°å¯ä»¥æ˜¯ä»¥ä¸‹å½¢å¼:</p>
<ul>
<li>ä¸€ä¸ªä»£è¡¨å¤–éƒ¨HTMLæ–‡ä»¶çš„è·¯å¾„å­—ç¬¦ä¸²</li>
<li>ä¸€ä¸ªå¯ä»¥æ¥å—ä¸¤ä¸ªå‚æ•°çš„çš„å‡½æ•°, å‚æ•°ä¸ºtElementå’ŒtAttrs, å¹¶è¿”å›ä¸€ä¸ªä»£è¡¨æ¨¡æ¿çš„å­—ç¬¦ä¸²;</li>
</ul>
<p><strong>2.6 replace(å¸ƒå°”å‹)</strong><br>replaceæ˜¯ä¸ªå¯é€‰å‚æ•°, é»˜è®¤ä¸ºfalse; å½“è®¾ç½®ä¸ºtrueå<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">.directive(<span class="string">'someDirective'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">         <span class="keyword">return</span> &#123;</div><div class="line">             <span class="attr">replace</span>: <span class="literal">true</span></div><div class="line">             template: <span class="string">'&lt;div&gt;looking for something&lt;div&gt;'</span></div><div class="line">                &#125;;</div><div class="line"> &#125;);</div></pre></td></tr></table></figure></p>
<p>è¾“å‡ºç»“æœä¸º:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>looking for something<span class="tag">&lt;<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><strong>2.7 scopeå‚æ•°(å¸ƒå°”å‹æˆ–å¯¹è±¡)</strong><br>scopeå‚æ•°æœ‰ä¸‰ç§å–å€¼æ–¹å¼;<br><strong>2.7.1 false(é»˜è®¤å€¼)</strong><br>ç›´æ¥ä½¿ç”¨çˆ¶scope, å†…éƒ¨å¹¶æ²¡æœ‰ä¸€ä¸ªæ–°çš„scopeï¼Œå®ƒå’ŒæŒ‡ä»¤ä»¥å¤–çš„ä»£ç å…±äº«åŒä¸€ä¸ªscopeã€‚<br>â‘ æŒ‡ä»¤<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">app.directive(<span class="string">'myDirective'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">restrict</span>: <span class="string">'E'</span>,</div><div class="line">        <span class="attr">replace</span>: <span class="literal">true</span>,</div><div class="line">        <span class="attr">templateUrl</span>: <span class="string">'../templates/my_template.html'</span>,</div><div class="line">        <span class="attr">scope</span>: <span class="literal">false</span>,   <span class="comment">// é»˜è®¤å€¼</span></div><div class="line">        controller: <span class="literal">null</span></div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>â‘¡æŒ‡ä»¤æ¨¡æ¿(my_template.html)<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!--è¿™é‡Œng-modelç»‘å®šçš„inputï¼Œå°±æ˜¯çˆ¶scopeçš„å˜é‡input--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>è‡ªå®šä¹‰æŒ‡ä»¤scopeï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"input"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>ç»“æœï¼š&#123;&#123;input&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>â‘¢æŒ‡ä»¤çš„ä½¿ç”¨(index.html)<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"scopeTest"</span> <span class="attr">ng-controller</span>=<span class="string">"scopeTestStr"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>çˆ¶scopeï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"input"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!--è‡ªå®šä¹‰æŒ‡ä»¤--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">my-directive</span>&gt;</span><span class="tag">&lt;/<span class="name">my-directive</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>æ•ˆæœå¦‚ä¸‹:</p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/5959b443bb7d1.gif" alt=""></p>
<p><strong>2.7.2 true</strong>(ç»§æ‰¿çˆ¶scope)<br>å½“è®¾ç½®ä¸ºtrueçš„æ—¶å€™, ä¼šä»çˆ¶ä½œç”¨åŸŸç»§æ‰¿å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸå¯¹è±¡;<br>å‚ç…§å€¼ä¸ºfalseçš„æƒ…å†µ, åªæ˜¯å°†å€¼æ”¹ä¸ºtrue; æ•ˆæœå¦‚ä¸‹:</p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/5959b5dfe7c63.gif" alt=""></p>
<p><strong>2.7.3 { }</strong><br>åˆ›å»ºä¸€ä¸ªæ–°çš„â€éš”ç¦»â€scopeï¼Œä½†ä»å¯ä¸çˆ¶scopeé€šä¿¡;<br>éš”ç¦»çš„scopeï¼Œé€šå¸¸ç”¨äºåˆ›å»ºå¯å¤ç”¨çš„æŒ‡ä»¤ï¼Œä¹Ÿå°±æ˜¯å®ƒä¸ç”¨ç®¡çˆ¶scopeä¸­çš„modelã€‚ç„¶è€Œè™½ç„¶è¯´æ˜¯â€œéš”ç¦»â€ï¼Œä½†é€šå¸¸æˆ‘ä»¬è¿˜æ˜¯éœ€è¦è®©è¿™ä¸ªå­scopeè·Ÿçˆ¶scopeä¸­çš„å˜é‡è¿›è¡Œç»‘å®šã€‚ç»‘å®šçš„ç­–ç•¥æœ‰3ç§ï¼š</p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/5959aee692741.png" alt=""></p>
<p>â‘ @ å•é¡¹ç»‘å®š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"scopeTest"</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!--å¤–éƒ¨scope--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>çˆ¶scopeï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"input"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!--å†…éƒ¨éš”ç¦»scope--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">my-directive</span> <span class="attr">my-text</span>=<span class="string">"&#123;&#123;input&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-directive</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">        <span class="keyword">var</span> app = angular.module(<span class="string">'scopeTest'</span>, []);</div><div class="line">        app.directive(<span class="string">'myDirective'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> &#123;</div><div class="line">                <span class="attr">restrict</span>: <span class="string">'E'</span>,</div><div class="line">                <span class="attr">replace</span>: <span class="literal">true</span>,</div><div class="line">                <span class="attr">template</span>: <span class="string">'&lt;p&gt;è‡ªå®šä¹‰æŒ‡ä»¤scopeï¼š&lt;input type="text" ng-model="myText"&gt;&lt;/p&gt;'</span>,</div><div class="line">                <span class="attr">scope</span>: &#123;</div><div class="line">                    <span class="attr">myText</span>: <span class="string">'@'</span></div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>æ•ˆæœå›¾:</p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/5959b6e8e19ad.gif" alt=""></p>
<p>â‘¡= åŒå‘ç»‘å®š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"scopeTest"</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!--å¤–éƒ¨scope--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>çˆ¶scopeï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"input"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!--å†…éƒ¨éš”ç¦»scope--&gt;</span></div><div class="line">    <span class="comment">&lt;!--æ³¨æ„è¿™é‡Œï¼Œå› ä¸ºæ˜¯åŒå‘ç»‘å®šï¼Œæ‰€ä»¥è¿™é‡Œä¸è¦â€œ&#123;&#123;&#125;&#125;â€è¿™ä¸ªç¬¦å·--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">my-directive</span> <span class="attr">my-text</span>=<span class="string">"input"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-directive</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">        <span class="keyword">var</span> app = angular.module(<span class="string">'scopeTest'</span>, []);</div><div class="line">        app.directive(<span class="string">'myDirective'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> &#123;</div><div class="line">                <span class="attr">restrict</span>: <span class="string">'E'</span>,</div><div class="line">                <span class="attr">replace</span>: <span class="literal">true</span>,</div><div class="line">                <span class="attr">template</span>: <span class="string">'&lt;p&gt;è‡ªå®šä¹‰æŒ‡ä»¤scopeï¼š&lt;input type="text" ng-model="myText"&gt;&lt;/p&gt;'</span>,</div><div class="line">                <span class="attr">scope</span>: &#123;</div><div class="line">                    <span class="attr">myText</span>: <span class="string">'='</span> <span class="comment">// è¿™é‡Œæ”¹æˆäº†åŒå‘ç»‘å®š</span></div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>æ•ˆæœå›¾:</p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/5959b77332f29.gif" alt=""></p>
<p>â‘¢&amp; å†…éƒ¨scopeçš„å‡½æ•°è¿”å›å€¼å’Œå¤–éƒ¨scopeç»‘å®š<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span>=<span class="string">"scopeTest"</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!--å¤–éƒ¨scope--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>çˆ¶scopeï¼š<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"input"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!--å†…éƒ¨éš”ç¦»scope--&gt;</span></div><div class="line">    <span class="comment">&lt;!--æ³¨æ„è¿™é‡Œï¼Œå‡½æ•°åå­—ä¹Ÿè¦ç”¨ è¿å­—ç¬¦å‘½åæ³•--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">my-directive</span> <span class="attr">get-my-text</span>=<span class="string">"input"</span>&gt;</span><span class="tag">&lt;/<span class="name">my-directive</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">        <span class="keyword">var</span> app = angular.module(<span class="string">'scopeTest'</span>, []);</div><div class="line">        app.directive(<span class="string">'myDirective'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">return</span> &#123;</div><div class="line">                <span class="attr">restrict</span>: <span class="string">'E'</span>,</div><div class="line">                <span class="attr">replace</span>: <span class="literal">true</span>,</div><div class="line">                <span class="attr">template</span>: <span class="string">'&lt;p&gt;ç»“æœï¼š&#123;&#123; getMyText() &#125;&#125;&lt;/p&gt;'</span>,</div><div class="line">                <span class="attr">scope</span>: &#123;</div><div class="line">                    <span class="attr">getMyText</span>: <span class="string">'&amp;'</span> <span class="comment">// è¿™é‡Œæ”¹æˆäº†å‡½æ•°è¿”å›å€¼çš„ç»‘å®š</span></div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>æ•ˆæœå›¾:</p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/5959b7cd90cdd.gif" alt=""></p>
<p><strong>2.8 transclude(å¸ƒå°”å‹)</strong><br>é»˜è®¤ä¸ºfalse; åªæœ‰å½“ä½ å¸Œæœ›åˆ›å»ºä¸€ä¸ªå¯ä»¥åŒ…å«ä»»æ„å†…å®¹çš„æŒ‡ä»¤çš„æ—¶å€™æ‰ä¼šä¸ºtrue; ä»£ç å¦‚ä¸‹æ‰€ç¤º:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">app.directive('myDirective', function() &#123;</div><div class="line">    return &#123;</div><div class="line">        restrict: 'AE',</div><div class="line">        transclude: true,</div><div class="line">        template: "<span class="tag">&lt;<span class="name">div</span>&gt;</span> hellow angular ! <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-transclude</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>"</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p><strong>2.9 controller(å­—ç¬¦ä¸²æˆ–å‡½æ•°)</strong><br>æŒ‡ä»¤å†…éƒ¨çš„controller, æš´éœ²ä¸€äº›publicæ–¹æ³•ç»™å†…éƒ¨æŒ‡ä»¤ä½¿ç”¨;<br>â‘ å­—ç¬¦ä¸²;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">angular.module(<span class="string">'myApp'</span>, [])</div><div class="line">  .directive(<span class="string">'myDirective'</span>,  <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">     restrict: <span class="string">'A'</span>, <span class="comment">// å§‹ç»ˆéœ€è¦</span></div><div class="line">     controller: <span class="string">'SomeController'</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// åœ¨åº”ç”¨ä¸­å…¶ä»–åœ°æ–¹å®šä¹‰è¯¥æ§åˆ¶å™¨</span></div><div class="line">angular.module(<span class="string">'myApp'</span>)</div><div class="line">   .controller(<span class="string">'SomeController'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope, $element, $attrs, $transclude</span>) </span>&#123;</div><div class="line">        <span class="comment">// æ§åˆ¶å™¨é€»è¾‘</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>â‘¡å‡½æ•°<br>å¯ä»¥æ˜¯æŒ‡ä»¤å†…éƒ¨é€šè¿‡åŒ¿åæ„é€ å‡½æ•°çš„æ–¹å¼æ¥å®šä¹‰ä¸€ä¸ªå†…è”çš„æ§åˆ¶å™¨;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"> angular.module(<span class="string">'myApp'</span>,[])</div><div class="line">     .directive(<span class="string">'myDirective'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">         restrict: <span class="string">'A'</span>,</div><div class="line">         <span class="attr">controller</span>:</div><div class="line">         <span class="function"><span class="keyword">function</span>(<span class="params">$scope, $element, $attrs, $transclude</span>) </span>&#123;</div><div class="line">               <span class="comment">// æ§åˆ¶å™¨é€»è¾‘</span></div><div class="line">        &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>ç°åœ¨ä½ ä¹Ÿå¯ä»¥çŸ¥é“, æ§åˆ¶å™¨ä¸­è¿˜æœ‰å…¶ä»–ä¸€äº›ç‰¹æ®Šçš„æœåŠ¡å¯ä»¥æ³¨å…¥åˆ°æŒ‡ä»¤ä¸­, è¿™äº›æœåŠ¡æœ‰:</p>
<ul>
<li>$scope  æŒ‡ä»¤å¯¹åº”çš„ä½œç”¨åŸŸ</li>
<li>$element  æŒ‡ä»¤å¯¹åº”çš„å…ƒç´ </li>
<li>$attrs  å½“å‰å…ƒç´ å±æ€§ç»„æˆçš„å¯¹è±¡</li>
<li>$transclude  åµŒå…¥é“¾å¼å‡½æ•°ä¼šä¸å¯¹åº”çš„åµŒå…¥ä½œç”¨åŸŸè¿›è¡Œé¢„ç»‘å®š</li>
</ul>
<blockquote>
<p>åœ¨æ§åˆ¶å™¨å†…éƒ¨æ“ä½œDOMå’Œangular.jsé£æ ¼ç›¸æ‚–çš„åšæ³•, ä½†é€šè¿‡é“¾å¼å‡½æ•°å°±å¯ä»¥å®ç°è¿™ä¸ªéœ€æ±‚; ä¾‹å¦‚åœ¨compileå‚æ•°ä¸­ä½¿ç”¨transcludeFnæ˜¯æ¨èçš„åšæ³•;</p>
</blockquote>
<p>æœ¬æ–‡æä¾›äº†ä¸€ä¸ªæ·»åŠ è¶…é“¾æ¥çš„ä¾‹å­:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"> angular.module(<span class="string">'myApp'</span>)</div><div class="line">     .directive(<span class="string">'link'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="keyword">return</span> &#123;</div><div class="line">          <span class="attr">restrict</span>: <span class="string">'EA'</span>,</div><div class="line">          <span class="attr">transclude</span>: <span class="literal">true</span>,</div><div class="line">          <span class="attr">controller</span>:</div><div class="line">               <span class="function"><span class="keyword">function</span>(<span class="params">$scope, $element, $transclude, $log</span>) </span>&#123;</div><div class="line">               $transclude(<span class="function"><span class="keyword">function</span>(<span class="params">clone</span>) </span>&#123;</div><div class="line">                    <span class="keyword">var</span> a = angular.element(<span class="string">'&lt;a&gt;'</span>);</div><div class="line">                    a.attr(<span class="string">'href'</span>, clone.text());</div><div class="line">                    a.text(clone.text()); <span class="number">8</span> $log.info(<span class="string">"Created new a tag in link directive"</span>);</div><div class="line">                    $element.append(a);</div><div class="line">               &#125;);</div><div class="line">          &#125;</div><div class="line">      &#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>linkå‡½æ•°å¯ä»¥ä¸æ§åˆ¶å™¨æŒ‡ä»¤çš„æ§åˆ¶å™¨äº’æ¢; æ§åˆ¶å™¨ç”¨æ¥æä¾›æŒ‡ä»¤é—´çš„å¤ç”¨è¡Œä¸º, ä½†é“¾æ¥å‡½æ•°åªèƒ½åœ¨å½“å‰å†…éƒ¨æŒ‡ä»¤ä¸­å®šä¹‰è¡Œä¸ºä¸”æ— æ³•åœ¨æŒ‡ä»¤é—´å¤ç”¨;</p>
<blockquote>
<p>linkå‡½æ•°å¯ä»¥å°†æŒ‡ä»¤äº’ç›¸éš”ç¦», è€Œcontrolleråˆ™å®šä¹‰å¯å¤ç”¨çš„è¡Œä¸º;</p>
</blockquote>
<p>ä¸‹é¢é™„ä¸€å¼ linkå‡½æ•°ä¸compileå‡½æ•°çš„æ¯”è¾ƒå›¾:</p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/5959c0b371aa4.png" alt=""></p>
<p><strong>2.10 require(å­—ç¬¦ä¸²æˆ–æ•°ç»„)</strong><br>å­—ç¬¦ä¸²æˆ–æ•°ç»„çš„å€¼ä¼šæ˜¯å½“å‰æŒ‡ä»¤ä½œç”¨åŸŸä¸­ä½¿ç”¨çš„æŒ‡ä»¤åç§°, å³ç”¨æ¥è°ƒç”¨æš´éœ²çš„å†…éƒ¨æ–¹æ³•;</p>
<p>å¯¹äºæŒ‡ä»¤çš„å­¦ä¹ , ä¹¦ä¸­æä¾›äº†å†…éƒ¨åŸç†, å½“ç„¶å…‰è¿™äº›è¿˜æ˜¯è¿œè¿œä¸å¤Ÿ, é™„ä¸Šä¸€ä¸ªç¬¬ä¸‰æ–¹æŒ‡ä»¤åº“, çœ‹çœ‹æºç , ä½“éªŒä¸€ä¸‹åˆ«äººæ˜¯æ€ä¹ˆå†™çš„;<br><a href="https://angular-ui.github.io/" target="_blank" rel="external">AngularUI</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/06/30/5956101095606.png&quot; alt=&quot;ã€ŠAngularJsæƒå¨æŒ‡å—ã€‹&quot;&gt;&lt;br&gt;è®°å¾—æœ€å¼€å§‹å­¦ä¹ ionicæ··åˆå¼€å‘çš„æ—¶å€™, æœ‹å‹ä»¬éƒ½æ¨èæˆ‘å…ˆå­¦å­¦angular.js, ç„¶åå†çœ‹ionicæ¡†æ¶çš„ä¸œè¥¿; ç°åœ¨æƒ³æ¥ä¹Ÿç¡®å®, ionicæ¡†æ¶åŸºæœ¬éƒ½æ˜¯UIç›¸å…³çš„çŸ¥è¯†, å¹¶ä¸éš¾, è€Œé¡µé¢é‡Œé¢æ¶‰åŠåˆ°angular.jsçš„å„ç§é€»è¾‘æ‰æ˜¯çœŸæ­£èƒ½è®©ä¸€ä¸ªäººæˆä¸ºå¤§ç‰›çš„çŸ¥è¯†;&lt;/p&gt;
&lt;p&gt;é€‰è¿™æœ¬ä¹¦å°±æ˜¯å› ä¸ºæœ‹å‹ä»¬éƒ½æ¨èè¿™æœ¬, è€Œä¸”è®²çš„è¿˜ä¸é”™, æœ€é‡è¦çš„æ˜¯ä»–ä»¬æœ‰èµ„æº, O(âˆ©_âˆ©)Oå“ˆå“ˆ~&lt;/p&gt;
&lt;p&gt;é¦–å…ˆä»‹ç»ä¸€ä¸‹æœ¬ä¹¦ä¸­å…³äºæŒ‡ä»¤çš„çŸ¥è¯†ç»“æ„:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/06/30/595622359f429.png&quot; alt=&quot;AngularJsæƒå¨æŒ‡å—ä¹‹æŒ‡ä»¤æ€ç»´å¯¼å›¾&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="js" scheme="https://binzi56.github.io/categories/js/"/>
    
    
      <category term="angular.js" scheme="https://binzi56.github.io/tags/angular-js/"/>
    
      <category term="è¯»ä¹¦ç¬”è®°" scheme="https://binzi56.github.io/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>LottieåŠ¨ç”»æ•™ç¨‹</title>
    <link href="https://binzi56.github.io/2017/07/03/lottie-simple-tutorial/"/>
    <id>https://binzi56.github.io/2017/07/03/lottie-simple-tutorial/</id>
    <published>2017-07-03T07:02:17.000Z</published>
    <updated>2017-07-03T10:11:06.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸ºäº†æå‡ç”¨æˆ·ä½“éªŒ, åœ¨ç•Œé¢ä¸­åŠ å…¥ä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„ç•Œé¢åŠ¨ç”»æˆä¸ºappè®¾è®¡çš„æ½®æµ. ä¹‹å‰å¬æœ‰äººè¯´è¿‡ä¸“ä¸šçš„ç•Œé¢åŠ¨ç”»æ˜¯è¦æœ‰è®¾è®¡å¸ˆã€å·¥ç¨‹å¸ˆã€ç¨‹åºå‘˜ã€å¹³é¢åŠ¨ç”»å¸ˆç­‰ç»„æˆ, æƒ³æƒ³è¿™æ˜¯ä¸€ä¸ªå¤šå¤§çš„ä»»åŠ¡é‡å•Š. è€Œä¸”é‡Œé¢çš„å„ç§é€»è¾‘å¤„ç†, å¤æ‚ä¸€äº›çš„åŠ¨ç”», ä¸€èˆ¬äººå‡ ä¹æ˜¯æœ›å…¶é¡¹èƒŒ;</p>
<p>ä½†æœ‰äº†Lottieä¹‹å, å°±å¤§å¤§é™ä½äº†å¼€å‘è€…çš„éš¾åº¦. æˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠLottieçš„åŠ¨ç”»æ–‡ä»¶å¯¼å…¥, è®¾ç½®ä¸€ä¸‹å‚æ•°, å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªåŠ¨ç”»äº†. ä¸ºäº†æ»¡è¶³å¤§å®¶çš„å¥½å¥‡å¿ƒ, å…ˆé™„å‡ ä¸ªç®€å•çš„å®ä¾‹:</p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/5959f6801b403.gif" alt="Lottieç®€å•å®ä¾‹"><br><a id="more"></a></p>
<h3 id="ä¸€-åˆè¯†Lottie"><a href="#ä¸€-åˆè¯†Lottie" class="headerlink" title="ä¸€. åˆè¯†Lottie"></a>ä¸€. åˆè¯†Lottie</h3><p>é€šè¿‡AEä¸Šçš„<strong>Bodymovin</strong>æ’ä»¶å°†AEä¸­åˆ¶ä½œå¥½çš„åŠ¨ç”»å¯¼å‡ºæˆä¸€ä¸ªjsonæ–‡ä»¶ï¼ŒLottieå®ç°äº†iOS/macOS/Android/React Nativeä¸‰ä¸ªå¹³å°å¯¹è¯¥jsonæ–‡ä»¶çš„è§£æå’Œæ¸²æŸ“ã€‚</p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/5959faf3c48e8.gif" alt=""></p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/5959fb0ca228a.gif" alt=""></p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/5959fb1572714.gif" alt=""></p>
<p>æ‰€æœ‰è¿™äº›åŠ¨ç”»éƒ½æ˜¯åœ¨After Effectsä¸­åˆ›å»ºçš„ï¼Œä½¿ç”¨Bodymovinå¯¼å‡ºï¼Œå¹¶ä¸”æ— éœ€é¢å¤–çš„å·¥ç¨‹å¸ˆå·¥ä½œå³å¯å®ŒæˆåŸç”Ÿæ¸²æŸ“ã€‚</p>
<p>Bodymovinæ˜¯ä¸€ä¸ªåˆHernan Torrisiåˆ›å»ºçš„After Effectsæ’ä»¶ï¼Œå¯¼å‡ºæ–‡ä»¶æ ¼å¼ä¸ºjsonå’ŒåŒ…æ‹¬ä¸€ä¸ªjavascriptç½‘ç»œæ’­æ”¾å™¨ã€‚è€Œå®ƒæœ€å¤§çš„ä¼˜ç‚¹æ˜¯æä¾›äº†ä¸€å¥—å®Œæ•´çš„è·¨å¹³å°åŠ¨ç”»å®ç°å·¥ä½œæµ;</p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/5959fbad40e8f.png" alt=""></p>
<p>ä»ä»£ç ä¸Šçœ‹ï¼ŒiOSç«¯æ˜¯åŸºäºlayerï¼Œè€Œæœ€ç»ˆéƒ½æ˜¯å¯¹canvasçš„æ“ä½œï¼Œä¸­é—´é™¤å»è§£æjsonå¤–ï¼ŒåŸºæœ¬æ— è€—è´¹æ€§èƒ½çš„è¡Œä¸ºã€‚</p>
<p>å½“ç„¶ä¹Ÿä¸å¯èƒ½éƒ½é‚£ä¹ˆå®Œç¾, æ¯•ç«Ÿå¼€æºä¸ä¹…, å®ƒä»ç„¶å­˜åœ¨ä»¥ä¸‹é—®é¢˜:</p>
<ol>
<li>Bodymovinæ’ä»¶å¾…å®Œå–„ï¼Œä»ç„¶æœ‰éƒ¨åˆ†AEæ•ˆæœæ— æ³•æˆåŠŸå¯¼å‡ºï¼›</li>
<li>Lottieå¯¹jsonæ–‡ä»¶çš„æ”¯æŒå¾…å®Œå–„ï¼Œç›®å‰æœ‰éƒ¨åˆ†èƒ½æˆåŠŸå¯¼å‡ºæˆjsonæ–‡ä»¶çš„æ•ˆæœåœ¨ç§»åŠ¨ç«¯ä¸Šæ— æ³•å¾ˆå¥½çš„å±•ç°ï¼›</li>
<li>ç›®å‰ä¸æ”¯æŒæ–‡å­—ï¼Œæ‰€æœ‰æ–‡å­—å¿…é¡»è½¬æˆçŸ¢é‡å›¾æ‰èƒ½æ­£å¸¸å±•ç°åŠ¨ç”»ï¼›</li>
<li>åŠ¨ç”»æ— æ³•è¢«ç¼–è¾‘ï¼Œå³ç§»åŠ¨ç«¯æ— æ³•æ›´æ”¹è¿œç«¯ä¸‹è½½åˆ°æœ¬åœ°çš„åŠ¨ç”»ï¼›</li>
<li>æ–‡æ¡£æ›´æ–°ä¸åŠæ—¶ç­‰;<br>æ³¨:<br>iOSéœ€è¦iOS8åŠä»¥ä¸Š, å®‰å“éœ€è¦API14åŠä»¥ä¸Š;</li>
</ol>
<h3 id="äºŒ-å¦‚ä½•ç”¨Bodymovinæ’ä»¶åˆ¶ä½œåŠ¨ç”»"><a href="#äºŒ-å¦‚ä½•ç”¨Bodymovinæ’ä»¶åˆ¶ä½œåŠ¨ç”»" class="headerlink" title="äºŒ. å¦‚ä½•ç”¨Bodymovinæ’ä»¶åˆ¶ä½œåŠ¨ç”»"></a>äºŒ. å¦‚ä½•ç”¨Bodymovinæ’ä»¶åˆ¶ä½œåŠ¨ç”»</h3><p>iTerryWangåœ¨ä»–çš„ç®€ä¹¦åšå®¢é‡Œè¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨Bodymovinæ’ä»¶åˆ¶ä½œåŠ¨ç”», æˆ‘å°±ä¸å¤šè¯´äº†, ä¹ŸåŒæ—¶æ„Ÿè°¢ä¸€ä¸‹iTerryWangçš„åˆ†äº«;<br><a href="http://www.jianshu.com/p/94f7a0102be5" target="_blank" rel="external">Lottieç®€ä»‹ &amp; iOSé›†æˆä½¿ç”¨</a></p>
<h3 id="ä¸‰-å¦‚ä½•ä½¿ç”¨Lottie"><a href="#ä¸‰-å¦‚ä½•ä½¿ç”¨Lottie" class="headerlink" title="ä¸‰. å¦‚ä½•ä½¿ç”¨Lottie"></a>ä¸‰. å¦‚ä½•ä½¿ç”¨Lottie</h3><p><strong>1. ä¸‹è½½LottieåŠ¨ç”»æ–‡ä»¶</strong><br>é™¤äº†ç”¨Bodymovinæ’ä»¶åˆ›å»ºåŠ¨ç”»å¤–, æˆ‘ä»¬è¿˜å¯ä»¥åœ¨<a href="https://www.lottiefiles.com" target="_blank" rel="external">Lottie Files</a>ä¸‹è½½;</p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/595a05e7c4ccf.png" alt=""><br>Lottie Filesæ˜¯ä¸€ä¸ªæ‹¥æœ‰é«˜è´¨é‡Lottieæ–‡ä»¶æ ¼å¼åŠ¨ç”»çš„ç½‘ç«™ã€‚åœ¨è¿™ä¸ªç½‘ç«™ï¼Œä¸ä»…è®¾è®¡å¸ˆå¯ä»¥åœ¨ä¸Šé¢é™ˆåˆ—ä»–ä»¬çš„åŠ¨ç”»è€Œä¸”è¿˜æä¾›å…è´¹ä¸‹è½½. è¿™æ­¥ç»“æŸå, æˆ‘ä»¬å°±å‡†å¤‡å¥½äº†åŠ¨ç”»æ‰€éœ€çš„JSONæ–‡ä»¶;</p>
<p><strong>2. æ–°å»ºå·¥ç¨‹</strong><br>æ–°å»ºä¸€ä¸ªå·¥ç¨‹, å‘½åä¸ºLottieTest;</p>
<p><img src="https://ooo.0o0.ooo/2017/07/03/595a080c273b8.png" alt=""></p>
<p><strong>3. å¯¼å…¥LottieåŠ¨ç”»åº“</strong><br>ç”¨CocoaPodså®‰è£…LottieåŠ¨ç”»åº“:<br>åœ¨ç»ˆç«¯è¿›è¡Œå¦‚ä¸‹æ“ä½œ:<br>â‘ è¿›å…¥æ–‡ä»¶ç›®å½•(æ–‡ä»¶ç›®å½•è¦ç”¨è‡ªå·±çš„å·¥ç¨‹ç›®å½•);<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cd /Users/apple/Desktop/LottieTest</div></pre></td></tr></table></figure></p>
<p>â‘¡åˆ›å»ºpodfile<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod init</div></pre></td></tr></table></figure></p>
<p>â‘¢æ‰“å¼€æ–‡ä»¶ç¼–è¾‘<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">target <span class="string">'LottieTest'</span> <span class="keyword">do</span></div><div class="line">  pod <span class="string">'lottie-ios'</span></div><div class="line">end</div></pre></td></tr></table></figure></p>
<p>â‘£å¯¼å…¥Lottieé¡¹ç›®<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">pod install</div></pre></td></tr></table></figure></p>
<p><strong>4. æ·»åŠ LottieåŠ¨ç”»çš„JSONæ–‡ä»¶</strong><br>ä¹‹å‰å·²ç»å‡†å¤‡å¥½è¿™ä¸ªæ–‡ä»¶äº†, å¯¼å…¥å·¥ç¨‹å°±è¡Œ;</p>
<p><strong>5. åˆ›å»ºåŠ¨ç”»</strong><br>OCç‰ˆ:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">#import &quot;ViewController.h&quot;</div><div class="line">#import &lt;Lottie/Lottie.h&gt;</div><div class="line"></div><div class="line">@interface ViewController ()</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">@implementation ViewController</div><div class="line"></div><div class="line">- (void)viewDidLoad &#123;</div><div class="line">    [super viewDidLoad];</div><div class="line"></div><div class="line">    LOTAnimationView *lottieTest = [LOTAnimationView animationNamed:@&quot;servishero_loading&quot;];</div><div class="line">    lottieTest.contentMode = LOTViewContentModeScaleAspectFill;</div><div class="line">    lottieTest.frame = self.view.bounds;</div><div class="line">    lottieTest.autoresizingMask = NSViewWidthSizable | NSViewHeightSizable;</div><div class="line">    [self.view addSubview:lottieTest];</div><div class="line">    [lottieTest play];</div><div class="line">&#125;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure></p>
<p>swiftç‰ˆ:<br><figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> UIKit</div><div class="line"><span class="keyword">import</span> Lottie</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</div><div class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</div><div class="line">        <span class="keyword">super</span>.viewDidLoad()</div><div class="line">        <span class="keyword">if</span> <span class="keyword">let</span> animationView = <span class="type">LOTAnimationView</span>(name: <span class="string">"servishero_loading"</span>) &#123;</div><div class="line"><span class="comment">//        if let animationView = LOTAnimationView(contentsOf: URL(string: "https://github.com/airbnb/lottie-ios/raw/master/Example/Assets/LottieLogo1.json")!) &#123;</span></div><div class="line">            animationView.frame = <span class="keyword">self</span>.view.bounds</div><div class="line">            animationView.center = <span class="keyword">self</span>.view.center</div><div class="line"></div><div class="line">            animationView.loopAnimation = <span class="literal">true</span></div><div class="line">            animationView.contentMode = .scaleAspectFill</div><div class="line">            animationView.animationSpeed = <span class="number">0.5</span></div><div class="line"></div><div class="line">            <span class="comment">// Applying UIView animation</span></div><div class="line">            <span class="keyword">let</span> minimizeTransform = <span class="type">CGAffineTransform</span>(scaleX: <span class="number">0.1</span>, y: <span class="number">0.1</span>)</div><div class="line">            animationView.transform = minimizeTransform</div><div class="line">            <span class="type">UIView</span>.animate(withDuration: <span class="number">3.0</span>, delay: <span class="number">0.0</span>, options: [.<span class="keyword">repeat</span>, .autoreverse], animations: &#123;</div><div class="line">                animationView.transform = <span class="type">CGAffineTransform</span>.identity</div><div class="line">            &#125;, completion: <span class="literal">nil</span>)</div><div class="line"></div><div class="line">            view.addSubview(animationView)</div><div class="line"></div><div class="line">            animationView.play()</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>è‡³äºandroid, reactNativeå‚ç…§ä¸‹æ–¹githubåœ°å€:<br><a href="https://github.com/airbnb/lottie-android" target="_blank" rel="external">android</a><br><a href="https://github.com/airbnb/lottie-react-native" target="_blank" rel="external">reactNative</a></p>
<p>æ‰©å±•:<br><a href="http://www.jianshu.com/p/19106e3d07b2" target="_blank" rel="external">Airbnb åŠ¨ç”»åº“Lottie</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸ºäº†æå‡ç”¨æˆ·ä½“éªŒ, åœ¨ç•Œé¢ä¸­åŠ å…¥ä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„ç•Œé¢åŠ¨ç”»æˆä¸ºappè®¾è®¡çš„æ½®æµ. ä¹‹å‰å¬æœ‰äººè¯´è¿‡ä¸“ä¸šçš„ç•Œé¢åŠ¨ç”»æ˜¯è¦æœ‰è®¾è®¡å¸ˆã€å·¥ç¨‹å¸ˆã€ç¨‹åºå‘˜ã€å¹³é¢åŠ¨ç”»å¸ˆç­‰ç»„æˆ, æƒ³æƒ³è¿™æ˜¯ä¸€ä¸ªå¤šå¤§çš„ä»»åŠ¡é‡å•Š. è€Œä¸”é‡Œé¢çš„å„ç§é€»è¾‘å¤„ç†, å¤æ‚ä¸€äº›çš„åŠ¨ç”», ä¸€èˆ¬äººå‡ ä¹æ˜¯æœ›å…¶é¡¹èƒŒ;&lt;/p&gt;
&lt;p&gt;ä½†æœ‰äº†Lottieä¹‹å, å°±å¤§å¤§é™ä½äº†å¼€å‘è€…çš„éš¾åº¦. æˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠLottieçš„åŠ¨ç”»æ–‡ä»¶å¯¼å…¥, è®¾ç½®ä¸€ä¸‹å‚æ•°, å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªåŠ¨ç”»äº†. ä¸ºäº†æ»¡è¶³å¤§å®¶çš„å¥½å¥‡å¿ƒ, å…ˆé™„å‡ ä¸ªç®€å•çš„å®ä¾‹:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/07/03/5959f6801b403.gif&quot; alt=&quot;Lottieç®€å•å®ä¾‹&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://binzi56.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://binzi56.github.io/tags/iOS/"/>
    
      <category term="android" scheme="https://binzi56.github.io/tags/android/"/>
    
      <category term="åŠ¨ç”»" scheme="https://binzi56.github.io/tags/%E5%8A%A8%E7%94%BB/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºIPV6å®¡æ ¸è¢«æ‹’çš„å®Œæ•´åˆ†æ</title>
    <link href="https://binzi56.github.io/2017/06/30/appStore-ipv6/"/>
    <id>https://binzi56.github.io/2017/06/30/appStore-ipv6/</id>
    <published>2017-06-30T02:18:16.000Z</published>
    <updated>2017-06-30T07:32:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>è‡ªä»å»å¹´6æœˆ1å·Appleæ˜æ–‡è§„å®šæ‰€æœ‰å¼€å‘è€…æäº¤æ–°ç‰ˆæœ¬éƒ½å¿…é¡»æ”¯æŒIPV6-Onlyçš„ç½‘ç»œï¼Œä¼°è®¡å¾ˆå¤šiOSå¼€å‘è€…éƒ½é‡åˆ°ç”±äºIPV6ç½‘ç»œä¸æ”¯æŒé€ æˆçš„å®¡æ ¸è¢«æ‹’çš„æƒ…å†µ, æˆ‘è¢«å‘çš„ä¸è½»å•Š, ä¸‹é¢å°±æ¥åˆ†æä¸€ä¸‹IPV6é—®é¢˜å¦‚ä½•è§£å†³ã€‚</p>
<p>é¦–å…ˆé™„ä¸€ä¸ªå®¡æ ¸è¢«æ‹’çš„åŸæ–‡:</p>
<blockquote>
<p>Guideline 2.1 - Performance - App Completeness<br>  We discovered one or more bugs in your app when reviewed on iPad running iOS 10.3.2 on Wi-Fi connected to an IPv6 network.<br>  Specifically, the app launched to a blank page.<br>  Please see attached screenshots for details.</p>
<p>Next Steps<br>  To resolve this issue, please run your app on a device while connected to an IPv6 network (all apps must support IPv6) to identify any issues, then revise and resubmit your app for review.<br>  If we misunderstood the intended behavior of your app, please reply to this message in Resolution Center to provide information on how these features were intended to work.<br>  For new apps, uninstall all previous versions of your app from a device, then install and follow the steps to reproduce the issue. For updates, install the new version as an update to the previous version, then follow the steps to reproduce the issue.</p>
</blockquote>
<a id="more"></a>
<p>å¤§æ„æ˜¯åœ¨iPadä¸Šè¿è¡ŒiOS 10.3.2 wi - fiè¿æ¥åˆ°IPv6ç½‘ç»œ, åº”ç”¨ç¨‹åºå¯åŠ¨æ˜¯ä¸€ä¸ªç©ºç™½é¡µã€‚è¯·åœ¨è®¾å¤‡ä¸Šè¿è¡Œæ‚¨çš„åº”ç”¨ç¨‹åº,è¿æ¥åˆ°IPv6ç½‘ç»œ, ç„¶åä¿®æ”¹å¹¶é‡æ–°æäº¤ä½ çš„åº”ç”¨ç¨‹åºè¿›è¡Œå®¡æŸ¥ã€‚</p>
<h3 id="ä¸€-ç®€å•ä»‹ç»ä¸€ä¸‹IPV6ä»¥åŠå¦‚ä½•æ­å»ºæ£€æµ‹ç¯å¢ƒ"><a href="#ä¸€-ç®€å•ä»‹ç»ä¸€ä¸‹IPV6ä»¥åŠå¦‚ä½•æ­å»ºæ£€æµ‹ç¯å¢ƒ" class="headerlink" title="ä¸€. ç®€å•ä»‹ç»ä¸€ä¸‹IPV6ä»¥åŠå¦‚ä½•æ­å»ºæ£€æµ‹ç¯å¢ƒ"></a>ä¸€. ç®€å•ä»‹ç»ä¸€ä¸‹IPV6ä»¥åŠå¦‚ä½•æ­å»ºæ£€æµ‹ç¯å¢ƒ</h3><p>é¦–å…ˆIPV6ï¼Œæ˜¯å¯¹IPV4åœ°å€ç©ºé—´çš„æ‰©å……ã€‚ç›®å‰å½“æˆ‘ä»¬ç”¨iOSè®¾å¤‡è¿æ¥ä¸ŠWifiã€4Gã€3Gç­‰ç½‘ç»œæ—¶ï¼Œè®¾å¤‡è¢«åˆ†é…çš„åœ°å€å‡æ˜¯IPV4åœ°å€ï¼Œä½†æ˜¯éšç€è¿è¥å•†å’Œä¼ä¸šé€æ¸éƒ¨ç½²IPV6 DNS64/NAT64ç½‘ç»œä¹‹åï¼Œè®¾å¤‡è¢«åˆ†é…çš„åœ°å€ä¼šå˜æˆIPV6çš„åœ°å€ï¼Œè€Œè¿™äº›ç½‘ç»œå°±æ˜¯æ‰€è°“çš„IPV6-Onlyç½‘ç»œï¼Œå¹¶ä¸”ä»ç„¶å¯ä»¥é€šè¿‡æ­¤ç½‘ç»œå»è·å–IPV4åœ°å€æä¾›çš„å†…å®¹ã€‚ç®€å•æ¥è¯´å°±æ˜¯IPV4ä¸å¤Ÿç”¨äº†, è¦æ¢IPV6, è¿™ä»è‹¹æœä¸€å‘çš„ä»¥ç”¨æˆ·ä½“éªŒä¸ºä¸»å‡ºå‘, å…¶å®ä¹Ÿæ˜¯ä¸ºäº†è®©ç”¨æˆ·èƒ½ç”¨ç€èˆ’æœ;<br>æµ‹è¯•æ˜¯å¦æ”¯æŒIPV6ç½‘ä¸Šå·²æœ‰æ›´å¤šè¯¦ç»†çš„æ–¹æ³•, ç…§ç€æ­å»ºå°±è¡Œ, ä¸‹æ–¹é™„æ­å»ºç¯å¢ƒçš„æ–¹æ³•:</p>
<ul>
<li><a href="https://developer.apple.com/library/mac/documentation/NetworkingInternetWeb/Conceptual/NetworkingOverview/UnderstandingandPreparingfortheIPv6Transition/UnderstandingandPreparingfortheIPv6Transition.html#//apple_ref/doc/uid/TP40010220-CH213-SW1" target="_blank" rel="external">è‹¹æœå®˜æ–¹æ–‡æ¡£çš„æ­å»ºæ–¹æ³•</a></li>
<li><a href="http://blog.csdn.net/iosworker/article/details/51595432" target="_blank" rel="external">è‹¹æœappä¸Šæ¶å› IPv6ä¸æ”¯æŒè€Œæ‹’ç»ï¼Œæœ¬åœ°IPV6æµ‹è¯•æ–¹æ³•</a></li>
</ul>
<h3 id="äºŒ-è§£å†³åŠæ³•"><a href="#äºŒ-è§£å†³åŠæ³•" class="headerlink" title="äºŒ. è§£å†³åŠæ³•"></a>äºŒ. è§£å†³åŠæ³•</h3><p>æ€»çš„æ¥è¯´æœ‰ä¸‰ä¸ªæ–¹é¢çš„é—®é¢˜:</p>
<ul>
<li>æœåŠ¡å™¨ä¸æ”¯æŒIPV6</li>
<li>é¡¹ç›®ä¸­å¯¼å…¥çš„ç¬¬ä¸‰æ–¹SDKä¸æ”¯æŒIPV6</li>
<li>é¡¹ç›®ä¸­æ¶‰åŠåˆ°çš„ç½‘ç»œè¯·æ±‚ä¸æ”¯æŒIPV6</li>
</ul>
<p>é™¤äº†è¿™äº›, è¿˜æœ‰äº›å…¶ä»–å› ç´ , æ¯”å¦‚è‹¹æœæ­£åœ¨å®¡æ ¸, è€Œä½ ä»¬çš„åå°åœ¨éƒ¨ç½²æ¥å£, è¿™ç§æ‰æ˜¯çœŸçš„å‘çˆ¹ğŸ˜¤å•Š, ä¸å¤šè¯´, æ„Ÿè§‰çœ¼æ³ªæ­¢ä¸ä½å¾€ä¸‹æµäº†;</p>
<h4 id="1-æœåŠ¡å™¨"><a href="#1-æœåŠ¡å™¨" class="headerlink" title="1. æœåŠ¡å™¨"></a>1. æœåŠ¡å™¨</h4><p><strong>â‘ æ£€æµ‹æœåŠ¡å™¨æ˜¯å¦æ”¯æŒIPV6</strong><br>ç»ˆç«¯è¾“å…¥ä»¥ä¸‹ä»£ç :(å‚ç…§ç½‘ä¸Šæ–¹æ³•)</p>
<blockquote>
<p>dig +nocmd + nostats ä½ çš„åŸŸå AAAA</p>
</blockquote>
<p>è¿™æ˜¯çœ‹çœ‹ä½ ä»¬çš„æœåŠ¡å™¨åœ¨IPV6ä¸‹æ˜¯å¦æœ‰å›åº”ã€‚</p>
<p><img src="https://ooo.0o0.ooo/2017/06/30/5955ca4a92010.png" alt="ç®€ä¹¦çš„åŸŸåæ£€æµ‹"><br>æœ‰é”™è¯¯çš„è¯, å¯¹ç…§ä¸‹é¢çš„è¡¨:</p>
<p><img src="https://ooo.0o0.ooo/2017/06/30/5955cb2594ad3.jpeg" alt=""><br>æ”¹å˜DNSçš„é…ç½®ï¼Œç›´åˆ°ç¨³å®šè¿”å› NOERROR ä¸ºæ­¢ã€‚</p>
<p><strong>â‘¡æ›´æ”¹æœåŠ¡å™¨é…ç½®</strong><br><a href="https://jiandanxinli.github.io/2016-08-06.html" target="_blank" rel="external">é˜¿é‡Œäº‘ Ubuntu æ”¯æŒ IPv6 çš„å®Œæ•´æ­¥éª¤</a></p>
<h4 id="2-ç¬¬ä¸‰æ–¹SDK"><a href="#2-ç¬¬ä¸‰æ–¹SDK" class="headerlink" title="2. ç¬¬ä¸‰æ–¹SDK"></a>2. ç¬¬ä¸‰æ–¹SDK</h4><p>è¿™äº›é—®é¢˜ä¸€èˆ¬ä¼šå‡ºç°åœ¨é‚£äº›ç»´æŠ¤çš„APPé‡Œé¢, ç”±äºæ˜¯åˆæ¬¡å¼€å‘APPçš„äººæ‰€å¤„çš„æ—¶é—´ç›¸å¯¹è¾ƒè¿œ, æ‰€ä»¥é¡¹ç›®é‡Œæ‰€ç”¨çš„SDKä¼šæœ‰ä¸€äº›åŠŸèƒ½ç¼ºå¤±; ä¸‹é¢ä»‹ç»å‡ ä¸ªç¬¬ä¸‰æ–¹SDKçš„é—®é¢˜;<br><strong>â‘ Reachability</strong><br><img src="https://ooo.0o0.ooo/2017/06/30/5955ce07c06c1.png" alt=""><br>è‹¹æœéƒ½å‘è¯, è¿™ä¸ªå½“ç„¶è¦æ”¹äº†;<br>æ–°çš„sdkåŒ…å°†è¿™ä¸ªæ–¹æ³•å¹²æ‰äº†ï¼šreachabilityForLocalWiFiï¼Œåªè¦è‡ªå·±çš„ä»£ç ä¸­å¹²æ‰å°±è¡Œäº†ï¼Œæ²¡ä»€ä¹ˆå½±å“ã€‚</p>
<p>åŸå› å¦‚ä¸‹ä»‹ç»ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">#pragma mark reachabilityForLocalWiFi</div><div class="line"></div><div class="line">//reachabilityForLocalWiFi has been removed from the sample.  See ReadMe.md for more information.</div><div class="line"></div><div class="line">//+ (instancetype)reachabilityForLocalWiFi;</div></pre></td></tr></table></figure></p>
<p><strong>â‘¡JPushæå…‰æ¨é€(v2.1.7å¼€å§‹æ”¯æŒ)</strong><br>è¿™ä¸ªæ˜¯æˆ‘ä»¬é¡¹ç›®é‡Œé‡åˆ°çš„é—®é¢˜, SDKç‰ˆæœ¬ä½äº†, ä¸æ”¯æŒIPV6;</p>
<p><img src="https://ooo.0o0.ooo/2017/06/30/5955df8f3b338.png" alt=""><br>ä»å›¾ä¸­å¯ä»¥çœ‹å‡º, 2.1.7ç‰ˆæœ¬æ‰å¼€å§‹æ”¯æŒIPV6, è€Œæˆ‘ä»¬ç‰ˆæœ¬æ˜¯2.1.0; å”‰ğŸ˜”, ä¹–ä¹–å‡çº§å’¯;<br>é™„:<br><a href="https://docs.jiguang.cn/jpush/updates/" target="_blank" rel="external">æå…‰æ–‡æ¡£åœ°å€</a></p>
<p><strong>â‘¢å¾®åšSDK(v3.1.4å¼€å§‹æ”¯æŒ)</strong></p>
<p><img src="https://ooo.0o0.ooo/2017/06/30/5955e5ed3012a.png" alt=""><br>è€Œä¸”ä»å®˜æ–¹æ–‡æ¡£ä¸Šå‘ç°, æ›´æ–°SDK, å®é™…ä¸Šæ˜¯æ›´æ–°Reachabilityåº“;</p>
<p><img src="https://ooo.0o0.ooo/2017/06/30/5955e6d83e8ae.png" alt=""><br>é™„:<br><a href="https://github.com/sinaweibosdk/weibo_ios_sdk/blob/master/%E5%BE%AE%E5%8D%9AiOS%E5%B9%B3%E5%8F%B0SDK%E6%96%87%E6%A1%A3V3.2.0.pdf" target="_blank" rel="external">å¾®åšSDKæ–‡æ¡£åœ°å€</a></p>
<p><strong>â‘£å‹ç›Ÿ(v5.2.1å¼€å§‹æ”¯æŒ)</strong></p>
<p><img src="https://ooo.0o0.ooo/2017/06/30/5955e8d368d67.png" alt=""><br>é™„:<br><a href="http://dev.umeng.com/social/ios/sdk-download" target="_blank" rel="external">å‹ç›Ÿæ–‡æ¡£åœ°å€</a></p>
<p><strong>â‘¤å¾®ä¿¡(v1.5å¼€å§‹æ”¯æŒ)</strong></p>
<p><img src="https://ooo.0o0.ooo/2017/06/30/5955e9bfbce6a.png" alt=""><br>æœ‰ç®€å‹è¯´å¾®ä¿¡çš„sdkåŒ…æ˜¯æ”¯æŒipv6çš„ï¼Œä½†æ˜¯å¾®ä¿¡æœ¬èº«å¹¶ä¸æ”¯æŒipv6ï¼Œæ‰€ä»¥è¯´ï¼Œå³ä¾¿ä½ æ›¿æ¢äº†æœ€æ–°çš„sdkåŒ…ï¼Œåœ¨ipv6ç½‘ç»œä¸‹è¿˜æ˜¯ä¸èƒ½ç”¨å¾®ä¿¡åˆ†äº«ï¼Œå› ä¸ºä½ çš„appåº”ç”¨åœ¨ipv6ç½‘ç»œç¯å¢ƒä¸‹è°ƒä¸èµ·å¾®ä¿¡ï¼Œä¹Ÿå°±åˆ†äº«ä¸äº†äº†ï¼Œè¿™ä¸ªé—®é¢˜å¾®ä¿¡åº”è¯¥æ„è¯†åˆ°äº†ï¼Œä¼°è®¡åè¾¹çš„ç‰ˆæœ¬åº”è¯¥ä¹Ÿæ˜¯æ”¯æŒipv6, è¿™ä¸ªå¤§å®¶å¯ä»¥æ³¨æ„ä¸‹;<br>é™„:<br><a href="https://open.weixin.qq.com/cgi-bin/showdocument?action=dir_list&amp;t=resource/res_list&amp;verify=1&amp;id=open1419319164&amp;lang=zh_CN" target="_blank" rel="external">å¾®ä¿¡æ–‡æ¡£åœ°å€</a></p>
<p><strong>â‘¥QQ(æœªè¯´æ˜)</strong></p>
<p><img src="https://ooo.0o0.ooo/2017/06/30/5955eec23edc2.png" alt=""><br>ä»å˜æ›´å†å²ä¹Ÿçœ‹ä¸å‡ºä»å“ªä¸ªç‰ˆæœ¬å¼€å§‹æ”¯æŒçš„, ä¼°è®¡æ˜¯è§‰å¾—è¿™ç‚¹ç©æ„å„¿ä¸å€¼å¾—è¯´å§. å¤§ä½¬ä»¬çš„ä¸–ç•ŒçœŸæ˜¯çœ‹ä¸æ‡‚, å¤§å®¶å°±æŒ‰æ—¶é—´æ¥ä¼°è®¡å§;<br>é™„:<br><a href="http://wiki.open.qq.com/wiki/IOS_APIè°ƒç”¨è¯´æ˜" target="_blank" rel="external">QQæ–‡æ¡£åœ°å€</a></p>
<p><strong>â‘¦æ”¯ä»˜å®(æœªè¯´æ˜)</strong></p>
<p><img src="https://ooo.0o0.ooo/2017/06/30/5955f29a74491.png" alt=""><br>çœ‹ä¸‹è½½çš„demoé‡Œé¢, ç‰ˆæœ¬æ›´æ–°å†å²å¯¹å…·ä½“å“ªä¸ªç‰ˆæœ¬æ›´æ–°çš„æœªè¯´æ˜, ä¸‡ä¸€æ˜¯æœ€è¿‘è¢«è‹¹æœæ‰“å‹çš„æ‰æ›´æ–°çš„, ä¹Ÿä¸ä¸€å®š, åæ­£æœ€æ–°ç‰ˆæœ¬è‚¯å®šæ˜¯æœ‰äº†, è€Œä¸”è¿˜å¤šäº†äº›å…¶ä»–åŠŸèƒ½;<br>é™„:<br><a href="https://docs.open.alipay.com/54/104509/" target="_blank" rel="external">æ”¯ä»˜å®æ–‡æ¡£åœ°å€</a></p>
<p><strong>â‘§ç™¾åº¦åœ°å›¾(v3.0.0å¼€å§‹æ”¯æŒ)</strong></p>
<p><img src="https://ooo.0o0.ooo/2017/06/30/5955f3ccad535.png" alt=""><br>é™„:<br><a href="http://lbsyun.baidu.com/index.php?title=iossdk/theupdatelog" target="_blank" rel="external">ç™¾åº¦åœ°å›¾æ–‡æ¡£åœ°å€</a></p>
<p><strong>â‘¨ç¯ä¿¡(v3.1.3å¼€å§‹æ”¯æŒ)</strong></p>
<p><img src="https://ooo.0o0.ooo/2017/06/30/5955f55396eff.png" alt=""><br>é™„:<br><a href="http://docs.easemob.com/im/300iosclientintegration/130iosqa" target="_blank" rel="external">ç¯ä¿¡æ–‡æ¡£åœ°å€</a></p>
<p><strong>â‘©ç§‘å¤§è®¯é£è¯­éŸ³(v1.133å¼€å§‹æ”¯æŒ)</strong></p>
<p><img src="https://ooo.0o0.ooo/2017/06/30/5955f883a146c.png" alt=""><br>é™„:<br><a href="http://www.xfyun.cn/sdk/dispatcher" target="_blank" rel="external">ç§‘å¤§è®¯é£è¯­éŸ³æ–‡æ¡£åœ°å€</a></p>
<p>å½“ç„¶è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„SDK, è¿™é‡Œå°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†, æ ¹æ®é¡¹ç›®é‡Œç”¨äº†å“ªäº›, çœ‹ä¸‹å®˜æ–¹æ–‡æ¡£SDKç‰ˆæœ¬å†å²æ¯”å¯¹ä¸€ä¸‹å°±è¡Œ;</p>
<h4 id="3-ç½‘ç»œè¯·æ±‚"><a href="#3-ç½‘ç»œè¯·æ±‚" class="headerlink" title="3. ç½‘ç»œè¯·æ±‚"></a>3. ç½‘ç»œè¯·æ±‚</h4><p>å…¶å®å¯¹äºipv6_Onlyçš„å¤„ç†ï¼Œä»ä¸¤å¤§æ–¹é¢è¿›è¡Œè‡ªå·±å®¡æ ¸ï¼šè‡ªèº«ç½‘ç»œè¯·æ±‚å’Œä¸‰æ–¹æ¶‰åŠç½‘ç»œè¯·æ±‚, æ¯•ç«Ÿæ˜¯ç”±äºç½‘ç»œé—®é¢˜;<br>å…³äºAFNetworkingæ˜¯å¦æ”¯æŒIPV6, ä¸‹é¢æ˜¯ä¸€ç½‘å‹çš„è¯´æ³•:</p>
<p><img src="https://ooo.0o0.ooo/2017/06/30/5955f995570a4.png" alt=""></p>
<p>è€Œç‰ˆæœ¬æ”¯æŒæ˜¯åœ¨3.0ä»¥å;</p>
<p><img src="https://ooo.0o0.ooo/2017/06/30/5955f9c5cecb7.png" alt=""></p>
<p>å½“ç„¶, å¬è¯´ç½‘å‹è¿˜é‡åˆ°äº†å…¶ä»–çš„é—®é¢˜:(è¿™ä¸ªæˆ‘æ²¡é‡åˆ°, ä¸è¿‡è¿˜æ˜¯åœ¨è¿™é‡Œè®°ä¸€ä¸‹ğŸ˜†)<br>å†…ç½‘çš„è®¿é—®ä¸‹æ˜¯ä¸å¯èƒ½è¿æ¥åˆ°è‡ªå·±çš„æœåŠ¡å™¨ï¼Œåé¢æµ‹è¯•ä¸€ä¸‹å…¬ç½‘é˜¿é‡Œäº‘çš„æœåŠ¡å™¨ï¼Œèƒ½å¤Ÿæ­£å¸¸è¿æ¥ï¼Œè¿™ä¸ªå¯èƒ½æ˜¯DNS64åœ¨æœç´¢ipv6çš„è¿‡ç¨‹ä¸­ï¼Œå¹¶æ²¡æœ‰æœç´¢å†…ç½‘çš„ç½‘ç»œï¼Œå¯¼è‡´å†…ç½‘è¿æ¥å¤±è´¥;</p>
<p>å¦‚æœè¿™äº›è¿˜æ˜¯æ²¡èƒ½è§£å†³ä½ çš„é—®é¢˜, å¯ä»¥çœ‹çœ‹ä¸‹é¢è¿™ç¯‡æ–‡ç« :<br><a href="http://www.jianshu.com/p/a6bab07c4062" target="_blank" rel="external">http://www.jianshu.com/p/a6bab07c4062</a></p>
<p>æœ€åæ„Ÿè°¢å‚è€ƒæ–‡ç« ä½œè€…çš„åˆ†äº«, å¸Œæœ›æ”»åŸç‹®ä»¬æ—©æ—¥è§£å†³bug, ç»§ç»­æ’¸ä»£ç , O(âˆ©_âˆ©)Oå“ˆå“ˆ~</p>
<p>æœ¬æ–‡å‚è€ƒæ–‡ç« :<br><a href="http://www.jianshu.com/p/ba627e73e5b4" target="_blank" rel="external">iOS è¢«æ‹’6æ¬¡çš„ipv6</a><br><a href="http://www.jianshu.com/p/97b205933c15" target="_blank" rel="external">Ipv6_Only ç®€å•çš„ç†è§£ï¼ˆå·²éªŒè¯ï¼Œé¡¹ç›®å·²ç»ä¸Šçº¿ï¼‰</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è‡ªä»å»å¹´6æœˆ1å·Appleæ˜æ–‡è§„å®šæ‰€æœ‰å¼€å‘è€…æäº¤æ–°ç‰ˆæœ¬éƒ½å¿…é¡»æ”¯æŒIPV6-Onlyçš„ç½‘ç»œï¼Œä¼°è®¡å¾ˆå¤šiOSå¼€å‘è€…éƒ½é‡åˆ°ç”±äºIPV6ç½‘ç»œä¸æ”¯æŒé€ æˆçš„å®¡æ ¸è¢«æ‹’çš„æƒ…å†µ, æˆ‘è¢«å‘çš„ä¸è½»å•Š, ä¸‹é¢å°±æ¥åˆ†æä¸€ä¸‹IPV6é—®é¢˜å¦‚ä½•è§£å†³ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆé™„ä¸€ä¸ªå®¡æ ¸è¢«æ‹’çš„åŸæ–‡:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Guideline 2.1 - Performance - App Completeness&lt;br&gt;  We discovered one or more bugs in your app when reviewed on iPad running iOS 10.3.2 on Wi-Fi connected to an IPv6 network.&lt;br&gt;  Specifically, the app launched to a blank page.&lt;br&gt;  Please see attached screenshots for details.&lt;/p&gt;
&lt;p&gt;Next Steps&lt;br&gt;  To resolve this issue, please run your app on a device while connected to an IPv6 network (all apps must support IPv6) to identify any issues, then revise and resubmit your app for review.&lt;br&gt;  If we misunderstood the intended behavior of your app, please reply to this message in Resolution Center to provide information on how these features were intended to work.&lt;br&gt;  For new apps, uninstall all previous versions of your app from a device, then install and follow the steps to reproduce the issue. For updates, install the new version as an update to the previous version, then follow the steps to reproduce the issue.&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://binzi56.github.io/categories/iOS/"/>
    
    
      <category term="appStore" scheme="https://binzi56.github.io/tags/appStore/"/>
    
      <category term="iOS" scheme="https://binzi56.github.io/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>iOSç½‘ç»œè¯·æ±‚é”™è¯¯æ•´ç†</title>
    <link href="https://binzi56.github.io/2017/06/28/iOS-http-error-code/"/>
    <id>https://binzi56.github.io/2017/06/28/iOS-http-error-code/</id>
    <published>2017-06-28T08:41:10.000Z</published>
    <updated>2017-06-28T08:53:08.000Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨iOSå¼€å‘ä¸­ç»å¸¸ä¼šé‡åˆ°ç½‘ç»œè¯·æ±‚çš„é”™è¯¯, ä¸€æ–¹é¢å¯èƒ½ä¼šæ˜¯è‡ªå·±ç½‘ç»œè¯·æ±‚çš„æ–¹å¼, å‚æ•°, è¯·æ±‚å¤´ç­‰é€ æˆçš„; å¦ä¸€æ–¹é¢å¯èƒ½å°±æ˜¯åå°å†™çš„æ¥å£å‡ºäº†é—®é¢˜; æ‰€ä»¥çœ‹æ‡‚æŠ¥é”™åŸå› å°±æ˜¾å¾—å°¤ä¸ºé‡è¦.</p>
<h3 id="ä¸€-iOSé”™è¯¯çŠ¶æ€ç "><a href="#ä¸€-iOSé”™è¯¯çŠ¶æ€ç " class="headerlink" title="ä¸€. iOSé”™è¯¯çŠ¶æ€ç "></a>ä¸€. iOSé”™è¯¯çŠ¶æ€ç </h3><p>ç»å¸¸é‡åˆ°çš„é”™è¯¯æ˜¯400~500, ä¸‹é¢ä¸»è¦æ•´ç†ä¸‹å®ƒä»¬å„è‡ªçš„æŠ¥é”™åŸå› :</p>
<h4 id="HTTP-é”™è¯¯-400"><a href="#HTTP-é”™è¯¯-400" class="headerlink" title="HTTP é”™è¯¯ 400"></a>HTTP é”™è¯¯ 400</h4><p><strong>400 è¯·æ±‚å‡ºé”™</strong><br>ç”±äºè¯­æ³•æ ¼å¼æœ‰è¯¯ï¼ŒæœåŠ¡å™¨æ— æ³•ç†è§£æ­¤è¯·æ±‚ã€‚ä¸ä½œä¿®æ”¹ï¼Œå®¢æˆ·ç¨‹åºå°±æ— æ³•é‡å¤æ­¤è¯·æ±‚ã€‚<br><a id="more"></a></p>
<h4 id="HTTP-é”™è¯¯-401"><a href="#HTTP-é”™è¯¯-401" class="headerlink" title="HTTP é”™è¯¯ 401"></a>HTTP é”™è¯¯ 401</h4><p><strong>401.1 æœªæˆæƒï¼šç™»å½•å¤±è´¥</strong><br>æ­¤é”™è¯¯è¡¨æ˜ä¼ è¾“ç»™æœåŠ¡å™¨çš„è¯ä¹¦ä¸ç™»å½•æœåŠ¡å™¨æ‰€éœ€çš„è¯ä¹¦ä¸åŒ¹é…ã€‚<br>è¯·ä¸ Web æœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ï¼Œä»¥ç¡®è®¤æ‚¨æ˜¯å¦å…·æœ‰è®¿é—®æ‰€è¯·æ±‚èµ„æºçš„æƒé™ã€‚<br><strong>401.2 æœªæˆæƒï¼šæœåŠ¡å™¨çš„é…ç½®å¯¼è‡´ç™»å½•å¤±è´¥</strong><br>æ­¤é”™è¯¯è¡¨æ˜ä¼ è¾“ç»™æœåŠ¡å™¨çš„è¯ä¹¦ä¸ç™»å½•æœåŠ¡å™¨æ‰€éœ€çš„è¯ä¹¦ä¸åŒ¹é…ã€‚æ­¤é”™è¯¯é€šå¸¸ç”±æœªå‘é€æ­£ç¡®çš„ WWW éªŒè¯è¡¨å¤´å­—æ®µæ‰€è‡´ã€‚<br>è¯·ä¸ Web æœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ï¼Œä»¥ç¡®è®¤æ‚¨æ˜¯å¦å…·æœ‰è®¿é—®æ‰€è¯·æ±‚èµ„æºçš„æƒé™ã€‚<br><strong>401.3 æœªæˆæƒï¼šç”±äºèµ„æºä¸­çš„ ACL è€Œæœªæˆæƒ</strong><br>æ­¤é”™è¯¯è¡¨æ˜å®¢æˆ·æ‰€ä¼ è¾“çš„è¯ä¹¦æ²¡æœ‰å¯¹æœåŠ¡å™¨ä¸­ç‰¹å®šèµ„æºçš„è®¿é—®æƒé™ã€‚æ­¤èµ„æºå¯èƒ½æ˜¯å®¢æˆ·æœºä¸­çš„åœ°å€è¡Œæ‰€åˆ—å‡ºçš„ç½‘é¡µæˆ–æ–‡ä»¶ï¼Œä¹Ÿå¯èƒ½æ˜¯å¤„ç†å®¢æˆ·æœºä¸­çš„åœ°å€è¡Œæ‰€åˆ—å‡ºçš„æ–‡ä»¶æ‰€éœ€æœåŠ¡å™¨ä¸Šçš„å…¶ä»–æ–‡ä»¶ã€‚<br>è¯·è®°å½•è¯•å›¾è®¿é—®çš„å®Œæ•´åœ°å€ï¼Œå¹¶ä¸ Web æœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ä»¥ç¡®è®¤æ‚¨æ˜¯å¦å…·æœ‰è®¿é—®æ‰€è¯·æ±‚èµ„æºçš„æƒé™ã€‚<br><strong>401.4 æœªæˆæƒï¼šæˆæƒæœåŠ¡è¢«ç­›é€‰ç¨‹åºæ‹’ç»</strong><br>æ­¤é”™è¯¯è¡¨æ˜ Web æœåŠ¡å™¨å·²ç»å®‰è£…äº†ç­›é€‰ç¨‹åºï¼Œç”¨ä»¥éªŒè¯è¿æ¥åˆ°æœåŠ¡å™¨çš„ç”¨æˆ·ã€‚æ­¤ç­›é€‰ç¨‹åºæ‹’ç»è¿æ¥åˆ°æ­¤æœåŠ¡å™¨çš„çœŸå“è¯ä¹¦çš„è®¿é—®ã€‚<br>è¯·è®°å½•è¯•å›¾è®¿é—®çš„å®Œæ•´åœ°å€ï¼Œå¹¶ä¸ Web æœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ä»¥ç¡®è®¤æ‚¨æ˜¯å¦å…·æœ‰è®¿é—®æ‰€è¯·æ±‚èµ„æºçš„æƒé™ã€‚<br><strong>401.5 æœªæˆæƒï¼šISAPI/CGI åº”ç”¨ç¨‹åºçš„æˆæƒå¤±è´¥</strong><br>æ­¤é”™è¯¯è¡¨æ˜è¯•å›¾ä½¿ç”¨çš„ WebæœåŠ¡å™¨ä¸­çš„åœ°å€å·²ç»å®‰è£…äº† ISAPI æˆ– CGIç¨‹åºï¼Œåœ¨ç»§ç»­ä¹‹å‰ç”¨ä»¥éªŒè¯ç”¨æˆ·çš„è¯ä¹¦ã€‚æ­¤ç¨‹åºæ‹’ç»ç”¨æ¥è¿æ¥åˆ°æœåŠ¡å™¨çš„çœŸå“è¯ä¹¦çš„è®¿é—®ã€‚<br>è¯·è®°å½•è¯•å›¾è®¿é—®çš„å®Œæ•´åœ°å€ï¼Œå¹¶ä¸ WebæœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ä»¥ç¡®è®¤æ‚¨æ˜¯å¦å…·æœ‰è®¿é—®æ‰€è¯·æ±‚èµ„æºçš„æƒé™</p>
<h4 id="HTTP-é”™è¯¯-403"><a href="#HTTP-é”™è¯¯-403" class="headerlink" title="HTTP é”™è¯¯ 403"></a>HTTP é”™è¯¯ 403</h4><p><strong>403.1 ç¦æ­¢ï¼šç¦æ­¢æ‰§è¡Œè®¿é—®</strong><br>å¦‚æœä»å¹¶ä¸å…è®¸æ‰§è¡Œç¨‹åºçš„ç›®å½•ä¸­æ‰§è¡Œ CGIã€ISAPIæˆ–å…¶ä»–æ‰§è¡Œç¨‹åºå°±å¯èƒ½å¼•èµ·æ­¤é”™è¯¯ã€‚<br>å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œè¯·ä¸ Web æœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚<br><strong>403.2 ç¦æ­¢ï¼šç¦æ­¢è¯»å–è®¿é—®</strong><br>å¦‚æœæ²¡æœ‰å¯ç”¨çš„é»˜è®¤ç½‘é¡µæˆ–æœªå¯ç”¨æ­¤ç›®å½•çš„ç›®å½•æµè§ˆï¼Œæˆ–è€…è¯•å›¾æ˜¾ç¤ºé©»ç•™åœ¨åªæ ‡è®°ä¸ºæ‰§è¡Œæˆ–è„šæœ¬æƒé™çš„ç›®å½•ä¸­çš„HTML é¡µæ—¶å°±ä¼šå¯¼è‡´æ­¤é”™è¯¯ã€‚<br>å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œè¯·ä¸ Web æœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚<br><strong>403.3 ç¦æ­¢ï¼šç¦æ­¢å†™è®¿é—®</strong><br>å¦‚æœè¯•å›¾ä¸Šè½½æˆ–ä¿®æ”¹ä¸å…è®¸å†™è®¿é—®çš„ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œå°±ä¼šå¯¼è‡´æ­¤é—®é¢˜ã€‚<br>å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œè¯·ä¸ WebæœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚<br><strong>403.4 ç¦æ­¢ï¼šéœ€è¦ SSL</strong><br>æ­¤é”™è¯¯è¡¨æ˜è¯•å›¾è®¿é—®çš„ç½‘é¡µå—å®‰å…¨å¥—æ¥å­—å±‚ï¼ˆSSLï¼‰çš„ä¿æŠ¤ã€‚è¦æŸ¥çœ‹ï¼Œå¿…é¡»åœ¨è¯•å›¾è®¿é—®çš„åœ°å€å‰è¾“å…¥https:// ä»¥å¯ç”¨ SSLã€‚<br>å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œè¯·ä¸ WebæœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚<br><strong>403.5 ç¦æ­¢ï¼šéœ€è¦ SSL 128</strong><br>æ­¤é”™è¯¯æ¶ˆæ¯è¡¨æ˜æ‚¨è¯•å›¾è®¿é—®çš„èµ„æºå— 128ä½çš„å®‰å…¨å¥—æ¥å­—å±‚ï¼ˆSSLï¼‰ä¿æŠ¤ã€‚è¦æŸ¥çœ‹æ­¤èµ„æºï¼Œéœ€è¦æœ‰æ”¯æŒæ­¤SSL å±‚çš„æµè§ˆå™¨ã€‚<br>è¯·ç¡®è®¤æµè§ˆå™¨æ˜¯å¦æ”¯æŒ 128 ä½ SSLå®‰å…¨æ€§ã€‚å¦‚æœæ”¯æŒï¼Œå°±ä¸ WebæœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ï¼Œå¹¶æŠ¥å‘Šé—®é¢˜ã€‚<br><strong>403.6 ç¦æ­¢ï¼šæ‹’ç» IP åœ°å€</strong><br>å¦‚æœæœåŠ¡å™¨å«æœ‰ä¸å…è®¸è®¿é—®æ­¤ç«™ç‚¹çš„ IPåœ°å€åˆ—è¡¨ï¼Œå¹¶ä¸”æ‚¨æ­£ä½¿ç”¨çš„ IPåœ°å€åœ¨æ­¤åˆ—è¡¨ä¸­ï¼Œå°±ä¼šå¯¼è‡´æ­¤é—®é¢˜ã€‚<br>å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œè¯·ä¸ WebæœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚<br><strong>403.7 ç¦æ­¢ï¼šéœ€è¦ç”¨æˆ·è¯ä¹¦</strong><br>å½“è¯•å›¾è®¿é—®çš„èµ„æºè¦æ±‚æµè§ˆå™¨å…·æœ‰æœåŠ¡å™¨å¯è¯†åˆ«çš„ç”¨æˆ·å®‰å…¨å¥—æ¥å­—å±‚ï¼ˆSSLï¼‰è¯ä¹¦æ—¶å°±ä¼šå¯¼è‡´æ­¤é—®é¢˜ã€‚å¯ç”¨æ¥éªŒè¯æ‚¨æ˜¯å¦ä¸ºæ­¤èµ„æºçš„åˆæ³•ç”¨æˆ·ã€‚<br>è¯·ä¸ WebæœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ä»¥è·å–æœ‰æ•ˆçš„ç”¨æˆ·è¯ä¹¦ã€‚<br><strong>403.8 ç¦æ­¢ï¼šç¦æ­¢ç«™ç‚¹è®¿é—®</strong><br>å¦‚æœ WebæœåŠ¡å™¨ä¸ä¸ºè¯·æ±‚æä¾›æœåŠ¡ï¼Œæˆ–æ‚¨æ²¡æœ‰è¿æ¥åˆ°æ­¤ç«™ç‚¹çš„æƒé™æ—¶ï¼Œå°±ä¼šå¯¼è‡´æ­¤é—®é¢˜ã€‚<br>è¯·ä¸ Web æœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚<br><strong>403.9 ç¦æ­¢è®¿é—®ï¼šæ‰€è¿æ¥çš„ç”¨æˆ·å¤ªå¤š</strong><br>å¦‚æœ Webå¤ªå¿™å¹¶ä¸”ç”±äºæµé‡è¿‡å¤§è€Œæ— æ³•å¤„ç†æ‚¨çš„è¯·æ±‚æ—¶å°±ä¼šå¯¼è‡´æ­¤é—®é¢˜ã€‚è¯·ç¨åå†æ¬¡è¿æ¥ã€‚<br>å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œè¯·ä¸ Web æœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚<br><strong>403.10 ç¦æ­¢è®¿é—®ï¼šé…ç½®æ— æ•ˆ</strong><br>æ­¤æ—¶ Web æœåŠ¡å™¨çš„é…ç½®å­˜åœ¨é—®é¢˜ã€‚<br>å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œè¯·ä¸ WebæœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚<br><strong>403.11 ç¦æ­¢è®¿é—®ï¼šå¯†ç å·²æ›´æ”¹</strong><br>åœ¨èº«ä»½éªŒè¯çš„è¿‡ç¨‹ä¸­å¦‚æœç”¨æˆ·è¾“å…¥é”™è¯¯çš„å¯†ç ï¼Œå°±ä¼šå¯¼è‡´æ­¤é”™è¯¯ã€‚è¯·åˆ·æ–°ç½‘é¡µå¹¶é‡è¯•ã€‚<br>å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œè¯·ä¸ WebæœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚<br><strong>403.12 ç¦æ­¢è®¿é—®ï¼šæ˜ å°„ç¨‹åºæ‹’ç»è®¿é—®</strong><br>æ‹’ç»ç”¨æˆ·è¯ä¹¦è¯•å›¾è®¿é—®æ­¤ Web ç«™ç‚¹ã€‚<br>è¯·ä¸ç«™ç‚¹ç®¡ç†å‘˜è”ç³»ä»¥å»ºç«‹ç”¨æˆ·è¯ä¹¦æƒé™ã€‚å¦‚æœå¿…è¦ï¼Œä¹Ÿå¯ä»¥æ›´æ”¹ç”¨æˆ·è¯ä¹¦å¹¶é‡è¯•ã€‚</p>
<h4 id="HTTP-é”™è¯¯-404"><a href="#HTTP-é”™è¯¯-404" class="headerlink" title="HTTP é”™è¯¯ 404"></a>HTTP é”™è¯¯ 404</h4><p><strong>404 æ‰¾ä¸åˆ°</strong><br>Web æœåŠ¡å™¨æ‰¾ä¸åˆ°æ‚¨æ‰€è¯·æ±‚çš„æ–‡ä»¶æˆ–è„šæœ¬ã€‚è¯·æ£€æŸ¥URL ä»¥ç¡®ä¿è·¯å¾„æ­£ç¡®ã€‚<br>å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œè¯·ä¸æœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚</p>
<h4 id="HTTP-é”™è¯¯-405"><a href="#HTTP-é”™è¯¯-405" class="headerlink" title="HTTP é”™è¯¯ 405"></a>HTTP é”™è¯¯ 405</h4><p><strong>405 ä¸å…è®¸æ­¤æ–¹æ³•</strong><br>å¯¹äºè¯·æ±‚æ‰€æ ‡è¯†çš„èµ„æºï¼Œä¸å…è®¸ä½¿ç”¨è¯·æ±‚è¡Œä¸­æ‰€æŒ‡å®šçš„æ–¹æ³•ã€‚è¯·ç¡®ä¿ä¸ºæ‰€è¯·æ±‚çš„èµ„æºè®¾ç½®äº†æ­£ç¡®çš„ MIME ç±»å‹ã€‚<br>å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œè¯·ä¸æœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚</p>
<h4 id="HTTP-é”™è¯¯-406"><a href="#HTTP-é”™è¯¯-406" class="headerlink" title="HTTP é”™è¯¯ 406"></a>HTTP é”™è¯¯ 406</h4><p><strong>406 ä¸å¯æ¥å—</strong><br>æ ¹æ®æ­¤è¯·æ±‚ä¸­æ‰€å‘é€çš„â€œæ¥å—â€æ ‡é¢˜ï¼Œæ­¤è¯·æ±‚æ‰€æ ‡è¯†çš„èµ„æºåªèƒ½ç”Ÿæˆå†…å®¹ç‰¹å¾ä¸ºâ€œä¸å¯æ¥å—â€çš„å“åº”å®ä½“ã€‚<br>å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œè¯·ä¸æœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚</p>
<h4 id="HTTP-é”™è¯¯-407"><a href="#HTTP-é”™è¯¯-407" class="headerlink" title="HTTP é”™è¯¯ 407"></a>HTTP é”™è¯¯ 407</h4><p><strong>407 éœ€è¦ä»£ç†èº«ä»½éªŒè¯ </strong><br>åœ¨å¯ä¸ºæ­¤è¯·æ±‚æä¾›æœåŠ¡ä¹‹å‰ï¼Œæ‚¨å¿…é¡»éªŒè¯æ­¤ä»£ç†æœåŠ¡å™¨ã€‚è¯·ç™»å½•åˆ°ä»£ç†æœåŠ¡å™¨ï¼Œç„¶åé‡è¯•ã€‚<br>å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œè¯·ä¸ Web æœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚</p>
<h4 id="HTTP-é”™è¯¯-412"><a href="#HTTP-é”™è¯¯-412" class="headerlink" title="HTTP é”™è¯¯ 412"></a>HTTP é”™è¯¯ 412</h4><p><strong>412 å‰ææ¡ä»¶å¤±è´¥</strong><br>åœ¨æœåŠ¡å™¨ä¸Šæµ‹è¯•å‰ææ¡ä»¶æ—¶ï¼Œéƒ¨åˆ†è¯·æ±‚æ ‡é¢˜å­—æ®µä¸­æ‰€ç»™å®šçš„å‰ææ¡ä»¶ä¼°è®¡ä¸ºFALSEã€‚å®¢æˆ·æœºå°†å‰ææ¡ä»¶æ”¾ç½®åœ¨å½“å‰èµ„æº metainformationï¼ˆæ ‡é¢˜å­—æ®µæ•°æ®ï¼‰ä¸­ï¼Œä»¥é˜²æ­¢æ‰€è¯·æ±‚çš„æ–¹æ³•è¢«è¯¯ç”¨åˆ°å…¶ä»–èµ„æºã€‚<br>å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œè¯·ä¸ Web æœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚</p>
<h4 id="HTTP-é”™è¯¯-414"><a href="#HTTP-é”™è¯¯-414" class="headerlink" title="HTTP é”™è¯¯ 414"></a>HTTP é”™è¯¯ 414</h4><p><strong>414 Request-URI å¤ªé•¿ </strong><br>Request-URLå¤ªé•¿ï¼ŒæœåŠ¡å™¨æ‹’ç»æœåŠ¡æ­¤è¯·æ±‚ã€‚ä»…åœ¨ä¸‹åˆ—æ¡ä»¶ä¸‹æ‰æœ‰å¯èƒ½å‘ç”Ÿæ­¤æ¡ä»¶ï¼š<br>å®¢æˆ·æœºé”™è¯¯åœ°å°† POST è¯·æ±‚è½¬æ¢ä¸ºå…·æœ‰è¾ƒé•¿çš„æŸ¥è¯¢ä¿¡æ¯çš„ GET è¯·æ±‚ã€‚<br>å®¢æˆ·æœºé‡åˆ°äº†é‡å®šå‘é—®é¢˜ï¼ˆä¾‹å¦‚ï¼ŒæŒ‡å‘è‡ªèº«çš„åç¼€çš„é‡å®šå‘å‰ç¼€ï¼‰ã€‚<br>æœåŠ¡å™¨æ­£é­å—è¯•å›¾åˆ©ç”¨æŸäº›æœåŠ¡å™¨ï¼ˆå°†å›ºå®šé•¿åº¦çš„ç¼“å†²åŒºç”¨äºè¯»å–æˆ–æ‰§è¡Œ Request-URIï¼‰ä¸­çš„å®‰å…¨æ€§æ¼æ´çš„å®¢æˆ·å¹²æ‰°ã€‚<br>å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œè¯·ä¸ Web æœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚</p>
<h4 id="HTTP-é”™è¯¯-500"><a href="#HTTP-é”™è¯¯-500" class="headerlink" title="HTTP é”™è¯¯ 500"></a>HTTP é”™è¯¯ 500</h4><p><strong>500 æœåŠ¡å™¨çš„å†…éƒ¨é”™è¯¯</strong><br>Web æœåŠ¡å™¨ä¸èƒ½æ‰§è¡Œæ­¤è¯·æ±‚ã€‚è¯·ç¨åé‡è¯•æ­¤è¯·æ±‚ã€‚<br>å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œè¯·ä¸ WebæœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚</p>
<h4 id="HTTP-é”™è¯¯-501"><a href="#HTTP-é”™è¯¯-501" class="headerlink" title="HTTP é”™è¯¯ 501"></a>HTTP é”™è¯¯ 501</h4><p><strong>501 æœªå®ç°</strong><br>Web æœåŠ¡å™¨ä¸æ”¯æŒå®ç°æ­¤è¯·æ±‚æ‰€éœ€çš„åŠŸèƒ½ã€‚è¯·æ£€æŸ¥URL ä¸­çš„é”™è¯¯ï¼Œå¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œè¯·ä¸ WebæœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚</p>
<h4 id="HTTP-é”™è¯¯-502"><a href="#HTTP-é”™è¯¯-502" class="headerlink" title="HTTP é”™è¯¯ 502"></a>HTTP é”™è¯¯ 502</h4><p><strong>502 ç½‘å…³å‡ºé”™</strong><br>å½“ç”¨ä½œç½‘å…³æˆ–ä»£ç†æ—¶ï¼ŒæœåŠ¡å™¨å°†ä»è¯•å›¾å®ç°æ­¤è¯·æ±‚æ—¶æ‰€è®¿é—®çš„upstream æœåŠ¡å™¨ä¸­æ¥æ”¶æ— æ•ˆçš„å“åº”ã€‚<br>å¦‚æœé—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œè¯·ä¸ WebæœåŠ¡å™¨çš„ç®¡ç†å‘˜è”ç³»ã€‚</p>
<p>é™„:<br><a href="http://blog.csdn.net/qqqqzxg/article/details/50715332" target="_blank" rel="external">iOSç½‘ç»œè¯·æ±‚çš„é”™è¯¯çŠ¶æ€ç </a><br><a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes" target="_blank" rel="external">ç»´åŸºç™¾ç§‘ List of HTTP status codes</a></p>
<h3 id="äºŒ-ç‰¹æ®Šçš„é”™è¯¯å¤„ç†"><a href="#äºŒ-ç‰¹æ®Šçš„é”™è¯¯å¤„ç†" class="headerlink" title="äºŒ. ç‰¹æ®Šçš„é”™è¯¯å¤„ç†"></a>äºŒ. ç‰¹æ®Šçš„é”™è¯¯å¤„ç†</h3><blockquote>
<p>è¯ä¹¦æ— æ•ˆé—®é¢˜:NSURLSession/NSURLConnection HTTP load failed (kCFStreamErrorDomainSSL, -9843)</p>
</blockquote>
<p>å½“å‰æœåŠ¡å™¨çš„è¯ä¹¦æ— æ•ˆ, ç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šå…¶ä»–çš„å¤„ç†æ–¹å¼, æˆ‘é€‰æ‹©çš„æ˜¯ä¸‹æ–¹è¿™ç§, é™„ä¸Šä»£ç :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"> @implementation NSURLRequest (NSURLRequestWithIgnoreSSL)</div><div class="line"> + (BOOL)allowsAnyHTTPSCertificateForHost:(NSString *)host</div><div class="line">&#123;</div><div class="line">     return YES;</div><div class="line"> &#125;</div><div class="line">@end</div></pre></td></tr></table></figure></p>
<p>æŠŠè¿™ä¸ªæ®µä»£ç  å†™åˆ°NSURLRequeståˆ†ç±»ä¸­, ä½œç”¨æ˜¯ ç»•è¿‡SSLè¯ä¹¦éªŒè¯, ç›´æ¥è®¿é—®; å½“ç„¶è¿™æ ·çš„åšæ³•ä¸å®‰å…¨, ä¸€èˆ¬éƒ½ä¸ä¼šè¿™æ ·åš, åªæ˜¯ä¸ºäº†æµ‹è¯•æ¥å£æ˜¯å¦å¯ç”¨, æœ€å¥½è¿˜æ˜¯æœåŠ¡å™¨æ·»åŠ è¯ä¹¦;<br>é™„:<br><a href="http://blog.csdn.net/github_34613936/article/details/51490032" target="_blank" rel="external">httpsä¿¡ä»»è¯ä¹¦çš„ä¸‰ç§æ–¹å¼</a></p>
<p>å¸Œæœ›çœ‹åˆ°æ­¤æ–‡çš„æœ‹å‹ä»¬èƒ½å¤Ÿç§¯æè¡¥å……, å…±åŒç»´æŠ¤è¿™ç¯‡æ–‡ç« , å¤šè°¢(<em>^__^</em>) å˜»å˜»â€¦â€¦</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åœ¨iOSå¼€å‘ä¸­ç»å¸¸ä¼šé‡åˆ°ç½‘ç»œè¯·æ±‚çš„é”™è¯¯, ä¸€æ–¹é¢å¯èƒ½ä¼šæ˜¯è‡ªå·±ç½‘ç»œè¯·æ±‚çš„æ–¹å¼, å‚æ•°, è¯·æ±‚å¤´ç­‰é€ æˆçš„; å¦ä¸€æ–¹é¢å¯èƒ½å°±æ˜¯åå°å†™çš„æ¥å£å‡ºäº†é—®é¢˜; æ‰€ä»¥çœ‹æ‡‚æŠ¥é”™åŸå› å°±æ˜¾å¾—å°¤ä¸ºé‡è¦.&lt;/p&gt;
&lt;h3 id=&quot;ä¸€-iOSé”™è¯¯çŠ¶æ€ç &quot;&gt;&lt;a href=&quot;#ä¸€-iOSé”™è¯¯çŠ¶æ€ç &quot; class=&quot;headerlink&quot; title=&quot;ä¸€. iOSé”™è¯¯çŠ¶æ€ç &quot;&gt;&lt;/a&gt;ä¸€. iOSé”™è¯¯çŠ¶æ€ç &lt;/h3&gt;&lt;p&gt;ç»å¸¸é‡åˆ°çš„é”™è¯¯æ˜¯400~500, ä¸‹é¢ä¸»è¦æ•´ç†ä¸‹å®ƒä»¬å„è‡ªçš„æŠ¥é”™åŸå› :&lt;/p&gt;
&lt;h4 id=&quot;HTTP-é”™è¯¯-400&quot;&gt;&lt;a href=&quot;#HTTP-é”™è¯¯-400&quot; class=&quot;headerlink&quot; title=&quot;HTTP é”™è¯¯ 400&quot;&gt;&lt;/a&gt;HTTP é”™è¯¯ 400&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;400 è¯·æ±‚å‡ºé”™&lt;/strong&gt;&lt;br&gt;ç”±äºè¯­æ³•æ ¼å¼æœ‰è¯¯ï¼ŒæœåŠ¡å™¨æ— æ³•ç†è§£æ­¤è¯·æ±‚ã€‚ä¸ä½œä¿®æ”¹ï¼Œå®¢æˆ·ç¨‹åºå°±æ— æ³•é‡å¤æ­¤è¯·æ±‚ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://binzi56.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://binzi56.github.io/tags/iOS/"/>
    
      <category term="ç½‘ç»œè¯·æ±‚" scheme="https://binzi56.github.io/tags/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/"/>
    
  </entry>
  
  <entry>
    <title>ä¸Šä¼ è‹¹æœå•†åº—æ—¶ä¸€ä¸ªä¸å¤ªå¹³å¸¸çš„error</title>
    <link href="https://binzi56.github.io/2017/06/23/appStore-upload-error/"/>
    <id>https://binzi56.github.io/2017/06/23/appStore-upload-error/</id>
    <published>2017-06-23T03:20:54.000Z</published>
    <updated>2017-06-23T08:48:31.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>This action could not be completed. Try again. (-22421)</p>
</blockquote>
<p>æŠ¥é”™å¦‚å›¾æ‰€ç¤º:<br><img src="http://upload-images.jianshu.io/upload_images/1893416-85e459204bdd5bc4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="-22421ä¸Šä¼ appStoreé”™è¯¯.png"></p>
<p>ä»¥å‰ä¸€ç›´ä»¥ä¸ºåƒè¿™ç§é”™è¯¯åªå¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜, æœ€è¿‘å‡çº§äº†xcode, å‡ºç°è¿™ä¸ªé—®é¢˜, è§£å†³ä¸¤å¤©æ‰å¼„å‡ºæ¥. æƒ³æ¥ä¹Ÿæœ€æ€•è¿™ç§å®šä½ä¸åˆ°çš„é—®é¢˜, ç½‘ä¸Šä¼—è¯´çº·çº­, æœ€ååœ¨è‹¹æœçš„å®˜æ–¹è®ºå›é‡Œæ‰¾åˆ°è¿™ä¸ªè§£å†³åŠæ³•, ä¸‹é¢å‡ åä¸ªç‚¹èµ, çœ‹æ¥å‡ºé—®é¢˜çš„ä¸æ­¢æˆ‘ä¸€ä¸ª, ä¹Ÿè°¢è°¢ä»–ä»¬çš„åˆ†äº«, å“ˆå“ˆ;<br><a id="more"></a><br>è§£å†³åŠæ³•å¦‚ä¸‹, åœ¨ç»ˆç«¯æŒ‰ç…§æ­¥éª¤ä¾æ¬¡è¾“å…¥code:<br>step1:</p>
<blockquote>
<p>cd ~  </p>
</blockquote>
<p>step2:</p>
<blockquote>
<p>mv .itmstransporter/ .old_itmstransporter/  </p>
</blockquote>
<p>step3:</p>
<blockquote>
<p>â€œ/Applications/Xcode.app/Contents/Applications/Application Loader.app/Contents/itms/bin/iTMSTransporterâ€</p>
</blockquote>
<p>ä¹‹åå†æ¬¡æäº¤åº”è¯¥å¯ä»¥äº†, å¸Œæœ›èƒ½å¸®åŠ©åˆ°å¤§å®¶;</p>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;This action could not be completed. Try again. (-22421)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æŠ¥é”™å¦‚å›¾æ‰€ç¤º:&lt;br&gt;&lt;img src=&quot;http://upload-images.jianshu.io/upload_images/1893416-85e459204bdd5bc4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&quot; alt=&quot;-22421ä¸Šä¼ appStoreé”™è¯¯.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä»¥å‰ä¸€ç›´ä»¥ä¸ºåƒè¿™ç§é”™è¯¯åªå¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜, æœ€è¿‘å‡çº§äº†xcode, å‡ºç°è¿™ä¸ªé—®é¢˜, è§£å†³ä¸¤å¤©æ‰å¼„å‡ºæ¥. æƒ³æ¥ä¹Ÿæœ€æ€•è¿™ç§å®šä½ä¸åˆ°çš„é—®é¢˜, ç½‘ä¸Šä¼—è¯´çº·çº­, æœ€ååœ¨è‹¹æœçš„å®˜æ–¹è®ºå›é‡Œæ‰¾åˆ°è¿™ä¸ªè§£å†³åŠæ³•, ä¸‹é¢å‡ åä¸ªç‚¹èµ, çœ‹æ¥å‡ºé—®é¢˜çš„ä¸æ­¢æˆ‘ä¸€ä¸ª, ä¹Ÿè°¢è°¢ä»–ä»¬çš„åˆ†äº«, å“ˆå“ˆ;&lt;br&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://binzi56.github.io/categories/iOS/"/>
    
    
      <category term="appStore" scheme="https://binzi56.github.io/tags/appStore/"/>
    
      <category term="iOS" scheme="https://binzi56.github.io/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>cordovaæ’ä»¶ç”¨æ³•è¯¦è¿°(å†…å«demo)</title>
    <link href="https://binzi56.github.io/2017/06/23/plugin-method-of-use/"/>
    <id>https://binzi56.github.io/2017/06/23/plugin-method-of-use/</id>
    <published>2017-06-23T03:13:37.000Z</published>
    <updated>2017-06-23T03:33:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€. å¯¼å…¥æ’ä»¶ç”¨æ³•(ä»¥cordova-plugin-appversionä¸ºä¾‹)<br>1.å¯¼å…¥æ–¹æ³•:<br>æ·»åŠ æ’ä»¶;</p>
<blockquote>
<p>cordova plugin add cordova-plugin-appversion</p>
</blockquote>
<p>2.æ–‡ä»¶æ¦‚è¿°:<br>å¯¼å…¥çš„æ–‡ä»¶, ç³»ç»Ÿå·²è‡ªåŠ¨é…ç½®å¥½äº†ä¸€åˆ‡éœ€è¦é…ç½®çš„æ–‡ä»¶, æ‰€ä»¥ç›´æ¥è°ƒç”¨å°±OKäº†;<br>js:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"deviceready"</span>, onDeviceReady, <span class="literal">false</span>);</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">onDeviceReady</span>(<span class="params"></span>)</span>&#123;</div><div class="line">       <span class="comment">// è®¾ç½®Appçš„ç‰ˆæœ¬å·</span></div><div class="line">       $scope.version = AppVersion.version;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>h5:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">   å½“å‰myFirstProjectçš„ç‰ˆæœ¬ä¸º&#123;&#123;version&#125;&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>æ•ˆæœå›¾:(åŒ…å«äº†è¯¥æ’ä»¶çš„å…¶ä»–æ–¹æ³•, å…·ä½“å‚è§demo)</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-0a34f6839beed93c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å¯¼å…¥æ’ä»¶ç”¨æ³•.png"><br>æ³¨æ„:<br>       ä¸€èˆ¬çš„æ’ä»¶ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨; ä½†æ˜¯è¿™ç§æ¶‰åŠåˆ°ç¡¬ä»¶æˆ–è€…ç³»ç»Ÿçš„æ’ä»¶ï¼Œå°±éœ€è¦åŠ ä¸Šè¿™ä¸ªç›‘å¬äº‹ä»¶;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ç›‘å¬äº‹ä»¶</span></div><div class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"deviceready"</span>, onDeviceReady, <span class="literal">false</span>);</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">onDeviceReady</span>(<span class="params"></span>)</span>&#123;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>é™„:<br><a href="https://www.npmjs.com/package/cordova-plugin-appversion" target="_blank" rel="external">cordova-plugin-appversionæ’ä»¶å®˜æ–¹è§£é‡Š</a><br><a href="http://www.hangge.com/blog/cache/detail_1158.html" target="_blank" rel="external">Cordova - å¸¸ç”¨çš„æ’ä»¶ä¸ç»ˆç«¯æ’ä»¶å‘½ä»¤æ±‡æ€»</a></p>
<p>äºŒ.è‡ªå®šä¹‰æ’ä»¶ç”¨æ³•<br>1.åˆ›å»ºè‡ªå®šä¹‰æ’ä»¶<br>æ’ä»¶ç›®å½•å¦‚ä¸‹:</p>
<blockquote>
<p>|MyMath<br>â€”-|src<br>â€”â€”â€”|android<br>â€”â€”â€”â€”â€“MyMath.java<br>â€”â€”â€”|ios<br>â€”â€”â€”â€”â€“MyMath.m<br>â€”-|www<br>â€”â€”â€”|MyMath.js<br>â€”-plugin.xml</p>
</blockquote>
<p>æ³¨æ„:<br> åˆ›å»ºæ’ä»¶å¯ä»¥è‡ªå·±æŒ‰ç…§æ’ä»¶ç›®å½•åˆ›å»º, è¿™æ ·plugin.xmlæ–‡ä»¶ä¸­å¤ªç¹ç; æœ¬æ–‡æ¨èç”¨plugmanåˆ›å»ºæ’ä»¶, æ—¢æ–¹ä¾¿åˆä¸å®¹æ˜“å‡ºé”™;<br>é™„:<br><a href="http://blog.csdn.net/b2259909/article/details/52471178?locationNum=2" target="_blank" rel="external"><a href="http://blog.csdn.net/b2259909/article/details/52471178" target="_blank" rel="external">ä½¿ç”¨plugman åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„cordovaæ’ä»¶</a></a></p>
<p>2.å¯¼å…¥è‡ªå®šä¹‰æ’ä»¶<br>æŒ‰ç…§é“¾æ¥åˆ›å»ºå¥½æ’ä»¶å, å°±å¼€å§‹å¯¼å…¥æ’ä»¶äº†; è¿™é‡Œæˆ‘è¢«å‘çš„ä¸æµ…å•Š, çœ‹ç½‘ä¸ŠæŠŠæ’ä»¶æ”¾åœ¨pluginsæ–‡ä»¶ä¸‹, ç„¶åupdate platforms; å¯æ˜¯å®Œå…¨ä¸èµ·ä½œç”¨, è¿˜ä¸€é¡¿æŠ¥é”™; åŸæ¥æ­¤å¤„å°±ä¸€å¥ä»£ç è§£å†³äº†;<br>ä¸‹æ–¹ä¸ºç»ˆç«¯è¾“å…¥:</p>
<blockquote>
<p>cordova plugin add /Users/apple/Desktop/test1</p>
</blockquote>
<p>è¯¥æ–¹æ³•æ·»åŠ æ’ä»¶å, ç›¸åº”çš„config.xml, cordova_plugins.js, pluginsä¼šè‡ªåŠ¨é…ç½®, æ— éœ€åƒæ‰‹åŠ¨å¯¼å…¥çš„é‚£ä¹ˆç¹ç, è¿˜å®¹æ˜“å‡ºé”™;</p>
<p>3.ä½¿ç”¨è¯´æ˜<br>demoç»™plugmanåˆ›å»ºçš„æ’ä»¶é‡æ–°å†™å…¥äº†æ–¹æ³•, å…·ä½“å®ç°çœ‹demo, ä¸‹æ–¹é™„ä¸Šæ•ˆæœå›¾;</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-0d5d18bb372b58c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è‡ªå®šä¹‰æ’ä»¶ç”¨æ³•.png"></p>
<p><a href="https://github.com/binzi56/test1.git" target="_blank" rel="external">ç‚¹å‡»ä¸‹è½½demo</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸€. å¯¼å…¥æ’ä»¶ç”¨æ³•(ä»¥cordova-plugin-appversionä¸ºä¾‹)&lt;br&gt;1.å¯¼å…¥æ–¹æ³•:&lt;br&gt;æ·»åŠ æ’ä»¶;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;cordova plugin add cordova-plugin-appversion&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;2.æ–‡ä»¶æ¦‚è¿°:&lt;br&gt;å¯¼å…¥çš„æ–‡ä»¶, ç³»ç»Ÿå·²è‡ªåŠ¨é…ç½®å¥½äº†ä¸€åˆ‡éœ€è¦é…ç½®çš„æ–‡ä»¶, æ‰€ä»¥ç›´æ¥è°ƒç”¨å°±OKäº†;&lt;br&gt;js:&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.addEventListener(&lt;span class=&quot;string&quot;&gt;&quot;deviceready&quot;&lt;/span&gt;, onDeviceReady, &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onDeviceReady&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;)&lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       &lt;span class=&quot;comment&quot;&gt;// è®¾ç½®Appçš„ç‰ˆæœ¬å·&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       $scope.version = AppVersion.version;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="ionic" scheme="https://binzi56.github.io/categories/ionic/"/>
    
    
      <category term="ionic" scheme="https://binzi56.github.io/tags/ionic/"/>
    
      <category term="plugin" scheme="https://binzi56.github.io/tags/plugin/"/>
    
  </entry>
  
  <entry>
    <title>è‡ªåˆ¶cordovaé€†åœ°ç†ç¼–ç æ’ä»¶(OC)</title>
    <link href="https://binzi56.github.io/2017/06/23/cordova-plugin-geolocation/"/>
    <id>https://binzi56.github.io/2017/06/23/cordova-plugin-geolocation/</id>
    <published>2017-06-23T03:02:52.000Z</published>
    <updated>2017-07-04T06:39:17.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬æ–‡ä¸»è¦ä»‹ç»iOSçš„é€†åœ°ç†å®šä½æ’ä»¶,  ç”¨è¿‡å®˜æ–¹çš„cordova-plugin-geolocationæ’ä»¶çš„éƒ½æ¸…æ¥š, è¯¥æ’ä»¶è™½ç„¶å¾—åˆ°äº†ç»çº¬åº¦, ä½†æ˜¯æ²¡æ³•è½¬æ¢æˆæˆ‘ä»¬æƒ³è¦ä½ç½®ä¿¡æ¯, äºæ˜¯å°±éœ€è¦ä¸€ä¸ªæ’ä»¶å°†ç»çº¬åº¦è½¬åŒ–ä¸ºä½ç½®ä¿¡æ¯, å³é€†åœ°ç†ç¼–ç ;<br>1.æ’ä»¶ä»‹ç»<br>è¯¥æ’ä»¶æ˜¯ç”¨OCåšçš„ä¸€ä¸ªç»çº¬åº¦è½¬æ¢ä¸ºä½ç½®çš„æ’ä»¶; OCå†…éƒ¨é€šè¿‡CLGeocoderçš„æ–¹æ³•å®ç°é€†åœ°ç†ç¼–ç ;ç”±äºéœ€è¦è°ƒç”¨ç³»ç»Ÿç¡¬ä»¶, æ‰€ä»¥è¯¥æ’ä»¶ç›´åˆ°devicereadyäº‹ä»¶å‘ç”Ÿåæ‰å¯ç”¨;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"deviceready"</span>, onDeviceReady, <span class="literal">false</span>);</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">onDeviceReady</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"deviceready"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>2.è‡ªå®šä¹‰æ’ä»¶çš„æ·»åŠ <br>ä¸‹è½½å¥½æ’ä»¶å, ç›´æ¥æ·»åŠ æœ¬åœ°ç›®å½•å³å¯;(æ’ä»¶æœ€ä¸‹æ–¹é™„ä¸Šé“¾æ¥åœ°å€)</p>
<blockquote>
<p>cordova plugin add  /Users/apple/Desktop/cordova-plugin-reverseGeocoding</p>
</blockquote>
<p>3.ç”¨æ³•å®ä¾‹<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"deviceready"</span>, onDeviceReady, <span class="literal">false</span>);</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">onDeviceReady</span>(<span class="params"></span>) </span>&#123;</div><div class="line">     <span class="function"><span class="keyword">function</span> <span class="title">success</span>(<span class="params">message</span>)</span>&#123;</div><div class="line">           alert(<span class="string">"å®šä½æˆåŠŸ:"</span> + message);</div><div class="line">           &#125;;</div><div class="line"></div><div class="line">           <span class="function"><span class="keyword">function</span> <span class="title">error</span>(<span class="params">message</span>)</span>&#123;</div><div class="line">           alert(<span class="string">"å®šä½å¤±è´¥:"</span> + message);</div><div class="line">           &#125;;</div><div class="line">           cordova.plugins.reverseGeocoding.address([<span class="number">24.840882</span>, <span class="number">102.843752</span>], success, error);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>4.ä½¿ç”¨è¯´æ˜<br>è¿”å›çš„messageæ˜¯ä¸€ä¸ªå¯¹è±¡, å¯¹è±¡çš„ç»“æ„å¦‚ä¸‹:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">// &#123;</div><div class="line">//     City = &quot;æ˜†æ˜å¸‚&quot;;</div><div class="line">//     Country = &quot;ä¸­å›½&quot;;</div><div class="line">//     CountryCode = CN;</div><div class="line">//     FormattedAddressLines =     (</div><div class="line">//         &quot;ä¸­å›½äº‘å—çœæ˜†æ˜å¸‚å‘ˆè´¡åŒºå´å®¶è¥è¡—é“ä»•æ—è¡—&quot;</div><div class="line">//     );</div><div class="line">//     Name = &quot;ä»•æ—è¡—&quot;;</div><div class="line">//     State = &quot;äº‘å—çœ&quot;;</div><div class="line">//     Street = &quot;ä»•æ—è¡—&quot;;</div><div class="line">//     SubLocality = &quot;å‘ˆè´¡åŒº&quot;;</div><div class="line">//     Thoroughfare = &quot;ä»•æ—è¡—&quot;;</div><div class="line">// &#125;</div></pre></td></tr></table></figure></p>
<p>5.è¦ç‚¹ä»‹ç»<br>ç”±äºç³»ç»Ÿé»˜è®¤çš„è¯­è¨€æ˜¯è‹±æ–‡, æœ‰äº›å·¥ç¨‹è¿”å›çš„æ•°æ®ä¿¡æ¯æ˜¯è‹±æ–‡;ä¹‹å‰è¯•è¿‡æ›´æ”¹NSUserDefaultsé‡Œé¢çš„AppleLanguages, å»æ”¹å˜ç³»ç»Ÿè¯­è¨€, ä½†æ˜¯ä¼°è®¡ç³»ç»Ÿåšäº†ç¼“å­˜å¤„ç†, æ‰€ä»¥ç¨‹åºé‡å¯åæ‰ç”Ÿæ•ˆ.  æœ€åç”¨äº†ä¸€ç§ç®€ä¾¿çš„æ–¹æ³•æ¥å®ç°åˆ‡æ¢è¯­è¨€, å¦‚ä¸‹å›¾æ‰€ç¤º;<br>(1)é¦–å…ˆæ‰“å¼€å·¥ç¨‹çš„edit scheme;<br><img src="http://upload-images.jianshu.io/upload_images/1893416-5d33d29e9c1850f6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å±å¹•å¿«ç…§ 2017-03-27 ä¸Šåˆ9.37.45.png"><br>(2)åœ¨run-options-application languageä¸­é€‰æ‹©ä¸­æ–‡ç®€ä½“;</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-039a6f17e6c3fa99.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å±å¹•å¿«ç…§ 2017-03-27 ä¸Šåˆ9.38.09.png"><br>(3)å¦‚æœ(2)ä¸­å¯ä»¥é€‰æ‹©ä¸­æ–‡ç®€ä½“åˆ™ä¸ç”¨æ‰§è¡Œè¿™æ­¥;<br>æœ‰çš„å·¥ç¨‹é‡Œé¢æ²¡æœ‰å…¶ä»–è¯­è¨€;åˆ™å¯åœ¨Localizationsä¸­æ·»åŠ ;<br><img src="http://upload-images.jianshu.io/upload_images/1893416-6ba19405be8da24f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å±å¹•å¿«ç…§ 2017-03-27 ä¸Šåˆ9.48.44.png"><br>æ³¨:<br>å¦‚æœ(3)è¿˜ä¸å¯ä»¥é€‰æ‹©ä¸­æ–‡çš„è¯, å¯ä»¥æ–°å»ºä¸€ä¸ªOCå·¥ç¨‹(ä¸æ˜¯ionicå·¥ç¨‹å“¦, ç”¨Xcodeæ‰“å¼€ä¸€ä¸ªå·¥ç¨‹, ç„¶åcommand+shift+næ–°å»ºä¸€ä¸ª), æ‰§è¡Œ(3)ä¸­æ·»åŠ ä¸­æ–‡ç®€ä½“, ç„¶åå°†æœ€å¤–é¢çš„zh-Hans.lprojæ–‡ä»¶å¤¹copyåˆ°ä½ çš„å·¥ç¨‹é‡Œé¢æœ€å¤–é¢çš„æ–‡ä»¶å¤¹, ä¹‹åé—®é¢˜è§£å†³;å€¼å¾—æ³¨æ„çš„æ˜¯, æ‰§è¡Œäº†(3)åçš„æ·»åŠ localizations, è¿˜å¾—æ‰§è¡Œ(2)ä¸­çš„åˆ‡æ¢ç³»ç»Ÿè¯­è¨€;</p>
<p>é™„:<br><a href="https://github.com/binzi56/cordova-plugin-reverseGeocoding.git" target="_blank" rel="external">æ’ä»¶ä¸‹è½½åœ°å€</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ¬æ–‡ä¸»è¦ä»‹ç»iOSçš„é€†åœ°ç†å®šä½æ’ä»¶,  ç”¨è¿‡å®˜æ–¹çš„cordova-plugin-geolocationæ’ä»¶çš„éƒ½æ¸…æ¥š, è¯¥æ’ä»¶è™½ç„¶å¾—åˆ°äº†ç»çº¬åº¦, ä½†æ˜¯æ²¡æ³•è½¬æ¢æˆæˆ‘ä»¬æƒ³è¦ä½ç½®ä¿¡æ¯, äºæ˜¯å°±éœ€è¦ä¸€ä¸ªæ’ä»¶å°†ç»çº¬åº¦è½¬åŒ–ä¸ºä½ç½®ä¿¡æ¯, å³é€†åœ°ç†ç¼–ç ;&lt;br&gt;1.æ’ä»¶ä»‹ç»&lt;br&gt;è¯¥æ’ä»¶æ˜¯ç”¨OCåšçš„ä¸€ä¸ªç»çº¬åº¦è½¬æ¢ä¸ºä½ç½®çš„æ’ä»¶; OCå†…éƒ¨é€šè¿‡CLGeocoderçš„æ–¹æ³•å®ç°é€†åœ°ç†ç¼–ç ;ç”±äºéœ€è¦è°ƒç”¨ç³»ç»Ÿç¡¬ä»¶, æ‰€ä»¥è¯¥æ’ä»¶ç›´åˆ°devicereadyäº‹ä»¶å‘ç”Ÿåæ‰å¯ç”¨;&lt;br&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.addEventListener(&lt;span class=&quot;string&quot;&gt;&quot;deviceready&quot;&lt;/span&gt;, onDeviceReady, &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;onDeviceReady&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;deviceready&quot;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="ionic" scheme="https://binzi56.github.io/categories/ionic/"/>
    
    
      <category term="ionic" scheme="https://binzi56.github.io/tags/ionic/"/>
    
      <category term="objective-c" scheme="https://binzi56.github.io/tags/objective-c/"/>
    
      <category term="plugin" scheme="https://binzi56.github.io/tags/plugin/"/>
    
  </entry>
  
  <entry>
    <title>ionicä¼˜ç§€èµ„æºæ•´ç†</title>
    <link href="https://binzi56.github.io/2017/06/23/ionic-article/"/>
    <id>https://binzi56.github.io/2017/06/23/ionic-article/</id>
    <published>2017-06-23T02:53:57.000Z</published>
    <updated>2017-06-23T08:56:16.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç½‘ä¸Šå…³äºionicçš„èµ„æºæ¯”è¾ƒå°‘, å¥½å¤šåˆšå…¥é—¨çš„å¼€å‘è€…æ‰¾ä¸åˆ°å…¥é—¨æŒ‡å¯¼èµ„æº, ä¸‹é¢å°±æ¨èä¸€äº›ä¸ªäººè§‰å¾—æ¯”è¾ƒå¥½çš„èµ„æº;</p>
<p>ä¸€. å…¥é—¨çº§æŒ‡å¯¼<br>å®˜æ–¹æ–‡æ¡£, è¿™ä¸ªå½“ç„¶å¿…ä¸å¯å°‘<br><a href="https://ionicframework.com/docs/" target="_blank" rel="external">https://ionicframework.com/docs/</a></p>
<p>ä¸­æ–‡ç‰ˆçš„ionicæ–‡æ¡£ï¼Œç»™è‹±æ–‡ä¸å¥½çš„æœ‹å‹<br> <a href="http://www.ionic.wang/js_doc-index.html" target="_blank" rel="external">http://www.ionic.wang/js_doc-index.html</a></p>
<p>ionicèœé¸Ÿæ•™ç¨‹, é‡Œé¢æœ‰è®¸å¤šåŸºç¡€çŸ¥è¯†<br><a href="http://www.runoob.com/ionic/ionic-install.html" target="_blank" rel="external">http://www.runoob.com/ionic/ionic-install.html</a><br><a id="more"></a><br>ionic2æ–‡æ¡£æ•´ç†, é‡Œé¢åŒ…å«äº†æ‰€æœ‰æ§ä»¶çš„ç”¨æ³•æ•´ç†,å¾ˆå®ç”¨<br><a href="http://rainey.space/2016/04/06/Ionic2_Chinese_Document/" target="_blank" rel="external">http://rainey.space/2016/04/06/Ionic2_Chinese_Document/</a></p>
<p>å°è™Oniçš„åšå®¢, é‡Œé¢ç®—æ˜¯ä¸€äº›è¿›é˜¶çš„å†…å®¹(åŒ…æ‹¬æŒ‰éœ€åŠ è½½controller, ä¸€äº›æ€§èƒ½ä¼˜åŒ–ç­‰ç­‰)<br><a href="http://blog.csdn.net/onil_chen/article/category/6113346/2" target="_blank" rel="external">http://blog.csdn.net/onil_chen/article/category/6113346/2</a></p>
<p>äºŒ.è§£å†³ä¸€äº›é—®é¢˜<br>cnodejsç¤¾åŒºionicï¼Œå¯ä»¥å­¦ä¹ ä¸€ä¸‹<br><a href="https://cnodejs.org/topic/545aee5a3e1f39344c5b3b3e" target="_blank" rel="external">https://cnodejs.org/topic/545aee5a3e1f39344c5b3b3e</a></p>
<p>çš“çœ¸ITçš„åšå®¢ï¼Œæœ‰è®¸å¤šionicçš„çŸ¥è¯†ï¼ŒæŒºæœ‰ä»·å€¼çš„<a href="http://haomou.Net/2014/10/06/2014_ionic_learn/" target="_blank" rel="external">http://haomou.Net/2014/10/06/2014_ionic_learn/</a></p>
<p>ionicå›½å†…ç¤¾åŒºï¼Œå¯ä»¥äº’ç›¸å­¦ä¹ ä¸‹<br><a href="http://ionichina.com/" target="_blank" rel="external">http://ionichina.com/</a></p>
<p>ä¸‰. æ’ä»¶å­¦ä¹ <br>cordovaæ’ä»¶ç”¨æ³•è¯¦è¿°(å†…å«demo), è¿™ä¸ªæ˜¯æˆ‘ä¹‹å‰å†™çš„, å…¥é—¨çº§çš„demo, å¯ä»¥çœ‹çœ‹ç®€å•æ’ä»¶æ€ä¹ˆå†™, OCä¸jsçš„äº¤äº’æ˜¯æ€æ ·çš„<br><a href="http://www.jianshu.com/p/138568e87e7e" target="_blank" rel="external">http://www.jianshu.com/p/138568e87e7e</a></p>
<p>cordovaæ’ä»¶å­¦ä¹ ï¼Œå¯¹ç”¨ionicåšå¼€å‘ä¼šæœ‰å¸®åŠ©çš„<br><a href="http://rensanning.iteye.com/blog/2163892" target="_blank" rel="external">http://rensanning.iteye.com/blog/2163892</a></p>
<p>å››. ä¸€äº›demoåˆé›†<br>ä¸€äº›ionicçš„ç®€å•ä¾‹å­ï¼Œä»è¿™äº›ç®€å•ä»£ç å¯ä»¥å­¦åˆ°å¾ˆå¤šçŸ¥è¯†å’Œç†å¿µ  <a href="http://codepen.io/ionic/public-list/" target="_blank" rel="external">http://codepen.io/ionic/public-list/</a></p>
<p>Ionicç³»åˆ—â€”â€”CodePenä¸Šçš„ä¼˜ç§€Ionic_Demo<br><a href="https://my.oschina.net/u/1416844/blog/514361?fromerr=bbFC5JIl" target="_blank" rel="external">https://my.oschina.net/u/1416844/blog/514361?fromerr=bbFC5JIl</a></p>
<p>ionicæ‰©å±•æ’ä»¶, åŒ…æ‹¬:æ—¶é—´é€‰æ‹©; æ—¥æœŸé€‰æ‹©; çœå¸‚å¿ä¸‰çº§è”åŠ¨ç­‰;<br><a href="http://www.cnblogs.com/luckyuns/p/6168715.html" target="_blank" rel="external">http://www.cnblogs.com/luckyuns/p/6168715.html</a></p>
<p>äº”.çˆ¬å‘æŒ‡å—(ä¸€äº›é—®é¢˜çš„è§£å†³åŠæ³•)<br>1.æ–°å»ºçš„å·¥ç¨‹ä¸€èˆ¬å†™åœ¨å¤–é¢çš„wwwæ–‡ä»¶ä¸­, buildåä¼šè‡ªåŠ¨åŒæ­¥åˆ°stagingæ–‡ä»¶å¤¹ä¸‹çš„wwwæ–‡ä»¶ä¸­;æ·»åŠ æ’ä»¶ä¼šè‡ªåŠ¨build;</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1893416-d07abd750a56720f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å±å¹•å¿«ç…§ 2017-03-13 ä¸‹åˆ2.31.04.png"></p>
<p>2.cordovaæ²¡æœ‰è·¨åŸŸé—®é¢˜<br><img src="http://upload-images.jianshu.io/upload_images/1893416-fa60330810a1263a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="å±å¹•å¿«ç…§ 2017-03-28 ä¸‹åˆ4.41.56.png"><br>å¼€å‘çš„æ—¶å€™é‡åˆ°è¿™ä¸ªé—®é¢˜, è¯•äº†ç½‘ä¸Šè®¸å¤šè·¨åŸŸçš„æ–¹æ³•éƒ½æ²¡ç”¨;<br>è§£å†³æ–¹æ¡ˆ:(config.xmlä¸­ä¿®æ”¹)<br><img src="http://upload-images.jianshu.io/upload_images/1893416-b3f6c206cdca3f22.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="BEEEF561E73FD4C16CF33EA81BFC2AEF.jpg"><br>å¦‚æœæ˜¯æµè§ˆå™¨ï¼Œå¯åŠ¨æµè§ˆå™¨æ—¶å¸¦ä¸Šå‚æ•° â€“disable-web-security â€œC:\Program Files (x86)\Google\Chrome\Application\chrome.exeâ€ â€“user-data-dir=â€â€ â€“disable-web-security</p>
<p>é™„:<br>Ionicå¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ<br><a href="http://blog.csdn.net/molong421/article/details/51587853" target="_blank" rel="external">http://blog.csdn.net/molong421/article/details/51587853</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç½‘ä¸Šå…³äºionicçš„èµ„æºæ¯”è¾ƒå°‘, å¥½å¤šåˆšå…¥é—¨çš„å¼€å‘è€…æ‰¾ä¸åˆ°å…¥é—¨æŒ‡å¯¼èµ„æº, ä¸‹é¢å°±æ¨èä¸€äº›ä¸ªäººè§‰å¾—æ¯”è¾ƒå¥½çš„èµ„æº;&lt;/p&gt;
&lt;p&gt;ä¸€. å…¥é—¨çº§æŒ‡å¯¼&lt;br&gt;å®˜æ–¹æ–‡æ¡£, è¿™ä¸ªå½“ç„¶å¿…ä¸å¯å°‘&lt;br&gt;&lt;a href=&quot;https://ionicframework.com/docs/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://ionicframework.com/docs/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸­æ–‡ç‰ˆçš„ionicæ–‡æ¡£ï¼Œç»™è‹±æ–‡ä¸å¥½çš„æœ‹å‹&lt;br&gt; &lt;a href=&quot;http://www.ionic.wang/js_doc-index.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.ionic.wang/js_doc-index.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ionicèœé¸Ÿæ•™ç¨‹, é‡Œé¢æœ‰è®¸å¤šåŸºç¡€çŸ¥è¯†&lt;br&gt;&lt;a href=&quot;http://www.runoob.com/ionic/ionic-install.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.runoob.com/ionic/ionic-install.html&lt;/a&gt;&lt;br&gt;
    
    </summary>
    
      <category term="ionic" scheme="https://binzi56.github.io/categories/ionic/"/>
    
    
      <category term="ionic" scheme="https://binzi56.github.io/tags/ionic/"/>
    
      <category term="resources" scheme="https://binzi56.github.io/tags/resources/"/>
    
  </entry>
  
  <entry>
    <title>iOSå¤„ç†å•åŒå‡»æ‰‹åŠ¿å†²çªé—®é¢˜</title>
    <link href="https://binzi56.github.io/2017/06/22/ios-article/"/>
    <id>https://binzi56.github.io/2017/06/22/ios-article/</id>
    <published>2017-06-22T08:57:51.000Z</published>
    <updated>2017-06-23T03:04:01.000Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™ä¸ªæ˜¯ä¹‹å‰å¼€å‘ä¸­é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜. å½“ä¸€ä¸ªè§†å›¾åŒæ—¶å“åº”å•åŒå‡»æ‰‹åŠ¿, è€Œå®é™…ä¸Šéœ€è¦å®ƒåªå“åº”ä¸€ä¸ªæ‰‹åŠ¿å°±è¡Œ; è¿™ç§æƒ…å†µå½“æ‰‹åŠ¿åŒæ—¶åŠ åœ¨ä¸€ä¸ªè§†å›¾ä¸Šæˆ–è€…ä¸¤ä¸ªè§†å›¾çš„å…³ç³»ä¸ºçˆ¶å­çº§æ—¶å‡ºç°, ä¸‹é¢å°±æ¥ä»‹ç»ä¸€ä¸‹å¤„ç†çš„æ–¹æ³•;<br>è¿™é‡Œå±•ç¤ºä¸€ä¸ªdemo:<br>å¦‚å›¾æ‰€ç¤º, åœ¨storyboardä¸­æ‹–å…¥ä¸¤ä¸ªview, åˆ†åˆ«ä¸ºbigViewå’ŒsmallView, smallViewä¸ºbigViewçš„å­è§†å›¾;</p>
<p><img src="https://ooo.0o0.ooo/2017/06/22/594b8b9fda051.png" alt=""><br>æ¥ä¸‹æ¥ç»™è¿™ä¸¤ä¸ªè§†å›¾æ‹–å…¥å±æ€§å, ç»™smallViewåŠ ä¸Šå•å‡»äº‹ä»¶, bigViewåŠ ä¸ŠåŒå‡»äº‹ä»¶;<br><a id="more"></a><br>ä»£ç å¦‚ä¸‹:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">#import &quot;ViewController.h&quot;</div><div class="line"></div><div class="line">@interface ViewController ()</div><div class="line">@property (weak, nonatomic) IBOutlet UIView *bigView;</div><div class="line">@property (weak, nonatomic) IBOutlet UIView *smallView;</div><div class="line">@end</div><div class="line"></div><div class="line">@implementation ViewController</div><div class="line"></div><div class="line">- (void)viewDidLoad</div><div class="line">&#123;</div><div class="line">    [super viewDidLoad];</div><div class="line"></div><div class="line">   UITapGestureRecognizer *singleTapGestureRecognizer = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(singleTap:)];</div><div class="line"></div><div class="line">   [singleTapGestureRecognizer setNumberOfTapsRequired:1];</div><div class="line">   [_smallView addGestureRecognizer:singleTapGestureRecognizer];</div><div class="line"></div><div class="line">   UITapGestureRecognizer *doubleTapGestureRecognizer = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(doubleTap:)];</div><div class="line">   [doubleTapGestureRecognizer setNumberOfTapsRequired:2];</div><div class="line">   [_bigView addGestureRecognizer:doubleTapGestureRecognizer];</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)singleTap:(UIGestureRecognizer*)gestureRecognizer</div><div class="line">&#123;</div><div class="line">   NSLog(@&quot;-----singleTap-----&quot;);</div><div class="line">   [_smallView setBackgroundColor:[UIColor yellowColor]];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (void)doubleTap:(UIGestureRecognizer*)gestureRecognizer</div><div class="line">&#123;</div><div class="line">   NSLog(@&quot;-----doubleTap-----&quot;);</div><div class="line">   [_bigView setBackgroundColor:[UIColor redColor]];</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>æ¥ä¸‹æ¥å¦‚æœåŒå‡»smallView, ä½ ä¼šå‘ç°è§†å›¾å˜æˆä¸‹é¢è¿™æ ·:</p>
<p><img src="https://ooo.0o0.ooo/2017/06/22/594b9063a315f.png" alt=""><br>æœ¬æ¥åŒå‡»åªåŠ è½½åœ¨smallViewçš„çˆ¶è§†å›¾bigViewä¸Š, ç»“æœsmallViewä¹Ÿå“åº”äº†, è¿™å°±å°´å°¬äº†ğŸ˜“äº†;<br>å¤„ç†æ–¹å¼å…¶å®æŒºç®€å•, åªä¸è¿‡æœ€å¼€å§‹æ‰¾äº†å¥½ä¹…;<br>ä¸‹é¢è´´å‡ºä»£ç :(åœ¨viewDidLoadæ–¹æ³•æœ«å°¾æ·»åŠ )<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">//è¿™è¡Œå¾ˆå…³é”®ï¼Œæ„æ€æ˜¯åªæœ‰å½“æ²¡æœ‰æ£€æµ‹åˆ°doubleTapGestureRecognizeræˆ–è€…æ£€æµ‹doubleTapGestureRecognizerå¤±è´¥ï¼ŒsingleTapGestureRecognizeræ‰æœ‰æ•ˆ</div><div class="line">    [singleTapGestureRecognizer requireGestureRecognizerToFail:doubleTapGestureRecognizer];</div></pre></td></tr></table></figure></p>
<p>å¥½äº†, å®Œç¾è§£å†³(<em>^__^</em>) å˜»å˜»â€¦â€¦</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è¿™ä¸ªæ˜¯ä¹‹å‰å¼€å‘ä¸­é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜. å½“ä¸€ä¸ªè§†å›¾åŒæ—¶å“åº”å•åŒå‡»æ‰‹åŠ¿, è€Œå®é™…ä¸Šéœ€è¦å®ƒåªå“åº”ä¸€ä¸ªæ‰‹åŠ¿å°±è¡Œ; è¿™ç§æƒ…å†µå½“æ‰‹åŠ¿åŒæ—¶åŠ åœ¨ä¸€ä¸ªè§†å›¾ä¸Šæˆ–è€…ä¸¤ä¸ªè§†å›¾çš„å…³ç³»ä¸ºçˆ¶å­çº§æ—¶å‡ºç°, ä¸‹é¢å°±æ¥ä»‹ç»ä¸€ä¸‹å¤„ç†çš„æ–¹æ³•;&lt;br&gt;è¿™é‡Œå±•ç¤ºä¸€ä¸ªdemo:&lt;br&gt;å¦‚å›¾æ‰€ç¤º, åœ¨storyboardä¸­æ‹–å…¥ä¸¤ä¸ªview, åˆ†åˆ«ä¸ºbigViewå’ŒsmallView, smallViewä¸ºbigViewçš„å­è§†å›¾;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/06/22/594b8b9fda051.png&quot; alt=&quot;&quot;&gt;&lt;br&gt;æ¥ä¸‹æ¥ç»™è¿™ä¸¤ä¸ªè§†å›¾æ‹–å…¥å±æ€§å, ç»™smallViewåŠ ä¸Šå•å‡»äº‹ä»¶, bigViewåŠ ä¸ŠåŒå‡»äº‹ä»¶;&lt;br&gt;
    
    </summary>
    
      <category term="iOS" scheme="https://binzi56.github.io/categories/iOS/"/>
    
    
      <category term="iOS" scheme="https://binzi56.github.io/tags/iOS/"/>
    
      <category term="objective-c" scheme="https://binzi56.github.io/tags/objective-c/"/>
    
  </entry>
  
  <entry>
    <title>jså¤„ç†æ‰‹åŠ¿å†²çªä¹‹å†’æ³¡ç”¨æ³•</title>
    <link href="https://binzi56.github.io/2017/06/22/js-article/"/>
    <id>https://binzi56.github.io/2017/06/22/js-article/</id>
    <published>2017-06-22T04:07:01.000Z</published>
    <updated>2017-06-23T03:24:54.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ooo.0o0.ooo/2017/06/22/594b8239c64d5.jpeg" alt=""><br>â€‹    åµŒå¥—çš„divå…ƒç´ ï¼Œå¦‚æœçˆ¶çº§å’Œå­å…ƒç´ éƒ½ç»‘å®šäº†ä¸€äº›äº‹ä»¶ï¼Œé‚£ä¹ˆåœ¨ç‚¹å‡»æœ€å†…å±‚å­å…ƒç´ æ—¶å¯èƒ½ä¼šè§¦å‘çˆ¶çº§å…ƒç´ çš„äº‹ä»¶ï¼Œä¸‹é¢ä»‹ç»ä¸€ä¸‹jsé˜»æ­¢é»˜è®¤äº‹ä»¶ä¸jsé˜»æ­¢äº‹ä»¶å†’æ³¡ç¤ºä¾‹.</p>
<h4 id="ä¸€-event-preventDefault"><a href="#ä¸€-event-preventDefault" class="headerlink" title="ä¸€.event.preventDefault()"></a>ä¸€.event.preventDefault()</h4><p>â€‹    é˜»æ­¢å…ƒç´ çš„é»˜è®¤äº‹ä»¶ã€‚å¦‚:aå…ƒç´ çš„ç‚¹å‡»è·³è½¬çš„é»˜è®¤äº‹ä»¶ ï¼Œbuttonï¼Œradioç­‰è¡¨å•å…ƒç´ çš„é»˜è®¤äº‹ä»¶ ï¼Œdiv å…ƒç´ æ²¡æœ‰é»˜è®¤äº‹ä»¶;<br>ä¾‹:<br>   ä¸‹æ–¹ä¸ºhtmlä»£ç :<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">link</span>=<span class="string">"https://www.baidu.com"</span>&gt;</span>ç™¾åº¦<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>â€‹    å…·ä½“å¤„ç†æ–¹å¼å¦‚ä¸‹:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</div><div class="line">  $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  $(<span class="string">"a"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">â€‹     event.preventDefault();</div><div class="line">â€‹   &#125;);</div><div class="line">&#125;);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure></p>
<p>å‚è€ƒé“¾æ¥:<br><a href="http://www.w3school.com.cn/jquery/event_preventdefault.asp" target="_blank" rel="external">jQuery äº‹ä»¶ - preventDefault() æ–¹æ³•</a></p>
<h4 id="äºŒ-event-stopPropagation"><a href="#äºŒ-event-stopPropagation" class="headerlink" title="äºŒ.event.stopPropagation()"></a>äºŒ.event.stopPropagation()</h4><p>â€‹    è¯¥æ–¹æ³•å°†åœæ­¢äº‹ä»¶çš„ä¼ æ’­ï¼Œé˜»æ­¢å®ƒè¢«åˆ†æ´¾åˆ°å…¶ä»– Document èŠ‚ç‚¹ã€‚åœ¨äº‹ä»¶ä¼ æ’­çš„ä»»ä½•é˜¶æ®µéƒ½å¯ä»¥è°ƒç”¨å®ƒã€‚æ³¨æ„ï¼Œè™½ç„¶è¯¥æ–¹æ³•ä¸èƒ½é˜»æ­¢åŒä¸€ä¸ª Document èŠ‚ç‚¹ä¸Šçš„å…¶ä»–äº‹ä»¶å¥æŸ„è¢«è°ƒç”¨ï¼Œä½†æ˜¯å®ƒå¯ä»¥é˜»æ­¢æŠŠäº‹ä»¶åˆ†æ´¾åˆ°å…¶ä»–èŠ‚ç‚¹ã€‚<br>ä¾‹:<br>â€‹    ä¸‹æ–¹ä¸ºhtmlä»£ç :<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">click</span>=<span class="string">"outsideDivAction()"</span> <span class="attr">style</span>=<span class="string">"background:blue;"</span>&gt;</span></div><div class="line">â€‹    <span class="tag">&lt;<span class="name">div</span> <span class="attr">click</span>=<span class="string">"insideDivAction()"</span> <span class="attr">style</span>=<span class="string">"background:red;"</span>&gt;</span></div><div class="line">â€‹     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>â€‹    jsä¸­ä»£ç å¦‚ä¸‹:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">  $scope.outsideDivAction = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">â€‹     <span class="built_in">console</span>.log(<span class="string">"å¤–é¢divæ–¹æ³•æ‰§è¡Œ"</span>);</div><div class="line">&#125;;</div><div class="line">  $scope.insideDivAction = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">â€‹      <span class="built_in">console</span>.log(<span class="string">"é‡Œé¢divæ–¹æ³•æ‰§è¡Œ"</span>);</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>â€‹    æ‰§è¡Œä¸Šæ–¹ä»£ç å‘ç°, ç‚¹å‡»é‡Œé¢çš„div, å¤–é¢çš„æ–¹æ³•ä¹Ÿä¼šæ‰§è¡Œ; å¾€å¾€åœ¨å®é™…å·¥ç¨‹ä¸­, éœ€è¦å±è”½å¤–é¢çš„æ–¹æ³•, è§£å†³ä»£ç å¦‚ä¸‹:<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"> $scope.insideDivAction = <span class="function"><span class="keyword">function</span>(<span class="params">$event</span>)</span>&#123;</div><div class="line">â€‹       $event.stopPropagation();</div><div class="line">â€‹       <span class="built_in">console</span>.log(<span class="string">"é‡Œé¢divæ–¹æ³•æ‰§è¡Œ"</span>);</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<p>â€‹    æœ¬ä»¥ä¸ºè¿™æ ·å°±å¯ä»¥äº†, ä½†æ˜¯åæ¥æ‰å‘ç°$eventå…¶å®ä¹Ÿç®—ä¸€ä¸ªå‚æ•°, æ‰€ä»¥å¾—åœ¨htmlä¸­ä¼ é€’ä¸€ä¸‹;<br>â€‹    htmlä¸­æ·»åŠ å‚æ•°å¦‚ä¸‹:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">click</span>=<span class="string">"insideDivAction($event)"</span> <span class="attr">style</span>=<span class="string">"background:red;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>å‚è€ƒé“¾æ¥:<br><a href="http://www.w3school.com.cn/jsref/event_stoppropagation.asp" target="_blank" rel="external">stopPropagation() æ–¹æ³•</a><br>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åˆ°å¤§å®¶, è°¢è°¢;</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/06/22/594b8239c64d5.jpeg&quot; alt=&quot;&quot;&gt;&lt;br&gt;â€‹    åµŒå¥—çš„divå…ƒç´ ï¼Œå¦‚æœçˆ¶çº§å’Œå­å…ƒç´ éƒ½ç»‘å®šäº†ä¸€äº›äº‹ä»¶ï¼Œé‚£ä¹ˆåœ¨ç‚¹å‡»æœ€å†…å±‚å­å…ƒç´ æ—¶å¯èƒ½ä¼šè§¦å‘çˆ¶çº§å…ƒç´ çš„äº‹ä»¶ï¼Œä¸‹é¢ä»‹ç»ä¸€ä¸‹jsé˜»æ­¢é»˜è®¤äº‹ä»¶ä¸jsé˜»æ­¢äº‹ä»¶å†’æ³¡ç¤ºä¾‹.&lt;/p&gt;
&lt;h4 id=&quot;ä¸€-event-preventDefault&quot;&gt;&lt;a href=&quot;#ä¸€-event-preventDefault&quot; class=&quot;headerlink&quot; title=&quot;ä¸€.event.preventDefault()&quot;&gt;&lt;/a&gt;ä¸€.event.preventDefault()&lt;/h4&gt;&lt;p&gt;â€‹    é˜»æ­¢å…ƒç´ çš„é»˜è®¤äº‹ä»¶ã€‚å¦‚:aå…ƒç´ çš„ç‚¹å‡»è·³è½¬çš„é»˜è®¤äº‹ä»¶ ï¼Œbuttonï¼Œradioç­‰è¡¨å•å…ƒç´ çš„é»˜è®¤äº‹ä»¶ ï¼Œdiv å…ƒç´ æ²¡æœ‰é»˜è®¤äº‹ä»¶;&lt;br&gt;ä¾‹:&lt;br&gt;   ä¸‹æ–¹ä¸ºhtmlä»£ç :&lt;br&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;link&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;https://www.baidu.com&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;ç™¾åº¦&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="js" scheme="https://binzi56.github.io/categories/js/"/>
    
    
      <category term="javascript" scheme="https://binzi56.github.io/tags/javascript/"/>
    
  </entry>
  
</feed>
